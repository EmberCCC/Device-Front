{"version":3,"sources":["form/Form.jsx"],"names":["InternalForm","props","ref","contextSize","React","useContext","SizeContext","ConfigContext","getPrefixCls","direction","form","colon","name","labelAlign","labelCol","wrapperCol","customizePrefixCls","prefixCls","hideRequiredMark","className","layout","size","scrollToFirstError","onFinishFailed","formClassName","formProps","wrapForm","__INTERNAL__","useImperativeHandle","onInternalFinishFailed","errorInfo","errorFields","length","scrollToField","vertical","Form","forwardRef"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport omit from 'omit.js';\nimport classNames from 'classnames';\nimport FieldForm, { List } from 'rc-field-form';\nimport { ConfigContext } from '../config-provider';\nimport { FormContext } from './context';\nimport { useForm } from './util';\nimport SizeContext, { SizeContextProvider } from '../config-provider/SizeContext';\nconst InternalForm = (props, ref) => {\n    const contextSize = React.useContext(SizeContext);\n    const { getPrefixCls, direction } = React.useContext(ConfigContext);\n    const { form, colon, name, labelAlign, labelCol, wrapperCol, prefixCls: customizePrefixCls, hideRequiredMark, className = '', layout = 'horizontal', size = contextSize, scrollToFirstError, onFinishFailed, } = props;\n    const prefixCls = getPrefixCls('form', customizePrefixCls);\n    const formClassName = classNames(prefixCls, {\n        [`${prefixCls}-${layout}`]: true,\n        [`${prefixCls}-hide-required-mark`]: hideRequiredMark,\n        [`${prefixCls}-rtl`]: direction === 'rtl',\n        [`${prefixCls}-${size}`]: size,\n    }, className);\n    const formProps = omit(props, [\n        'prefixCls',\n        'className',\n        'layout',\n        'hideRequiredMark',\n        'wrapperCol',\n        'labelAlign',\n        'labelCol',\n        'colon',\n        'scrollToFirstError',\n    ]);\n    const [wrapForm] = useForm(form);\n    wrapForm.__INTERNAL__.name = name;\n    React.useImperativeHandle(ref, () => wrapForm);\n    const onInternalFinishFailed = (errorInfo) => {\n        if (onFinishFailed) {\n            onFinishFailed(errorInfo);\n        }\n        if (scrollToFirstError && errorInfo.errorFields.length) {\n            wrapForm.scrollToField(errorInfo.errorFields[0].name);\n        }\n    };\n    return (<SizeContextProvider size={size}>\n      <FormContext.Provider value={{\n        name,\n        labelAlign,\n        labelCol,\n        wrapperCol,\n        vertical: layout === 'vertical',\n        colon,\n    }}>\n        <FieldForm id={name} {...formProps} onFinishFailed={onInternalFinishFailed} form={wrapForm} className={formClassName}/>\n      </FormContext.Provider>\n    </SizeContextProvider>);\n};\nconst Form = React.forwardRef(InternalForm);\nexport { useForm, List };\nexport default Form;\n"],"file":"Form.js"}