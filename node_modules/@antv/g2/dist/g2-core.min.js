!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.G2_3=e():t.G2_3=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=172)}([function(t,e,i){var n=i(127),r=i(16),a=n.mix({},n,{assign:n.mix,merge:n.deepMix,cloneDeep:n.clone,isFinite:isFinite,isNaN:isNaN,snapEqual:n.isNumberEqual,remove:n.pull,inArray:n.contains,toAllPadding:function(t){var e=0,i=0,n=0,r=0;return a.isNumber(t)||a.isString(t)?e=i=n=r=t:a.isArray(t)?(e=t[0],n=a.isNil(t[1])?t[0]:t[1],r=a.isNil(t[2])?t[0]:t[2],i=a.isNil(t[3])?n:t[3]):a.isObject(t)&&(e=t.top||0,n=t.right||0,r=t.bottom||0,i=t.left||0),[e,n,r,i]},getClipByRange:function(t){var e=t.tl,i=t.br;return new r.Rect({attrs:{x:e.x,y:e.y,width:i.x-e.x,height:i.y-e.y}})}});a.Array={groupToMap:n.groupToMap,group:n.group,merge:n.merge,values:n.valuesOfKey,getRange:n.getRange,firstValue:n.firstValue,remove:n.pull},t.exports=a},function(t,e,i){var n=i(81),r={};n.merge(r,n,{mixin:function(t,e){var i=t.CFG?"CFG":"ATTRS";if(t&&e){t._mixins=e,t[i]=t[i]||{};var n={};r.each(e,function(e){r.augment(t,e);var a=e[i];a&&r.merge(n,a)}),t[i]=r.merge(n,t[i])}}}),t.exports=r},function(t,e,i){var n=i(24),r=i(4);t.exports=function(t,e){if(t)if(r(t))for(var i=0,a=t.length;i<a&&!1!==e(t[i],i);i++);else if(n(t))for(var o in t)if(t.hasOwnProperty(o)&&!1===e(t[o],o))break}},function(t,e,i){var n=i(25),r=i(127),a=r.mix({assign:r.mix,isFinite:isFinite,isNaN:isNaN,Group:n.Group,Event:n.Event},r);t.exports=a},function(t,e,i){var n=i(12),r=Array.isArray?Array.isArray:function(t){return n(t,"Array")};t.exports=r},function(t,e){t.exports=function(t){return null===t||void 0===t}},function(t,e,i){var n=i(1),r=i(189),a=i(102),o=i(54),s=function t(e){t.superclass.constructor.call(this,e)};s.ATTRS={},n.extend(s,a);var l={matrix:"matrix",path:"path",points:"points",lineDash:"lineDash"};n.augment(s,r,{isShape:!0,drawInner:function(t){var e=this._attrs;this.createPath(t);var i=t.globalAlpha;if(this.hasFill()){var r=e.fillOpacity;n.isNil(r)||1===r?t.fill():(t.globalAlpha=r,t.fill(),t.globalAlpha=i)}if(this.hasStroke()){if(this._attrs.lineWidth>0){var a=e.strokeOpacity;n.isNil(a)||1===a||(t.globalAlpha=a),t.stroke()}}this.afterPath(t)},afterPath:function(){},isHitBox:function(){return!0},isHit:function(t,e){var i=[t,e,1];if(this.invert(i),this.isHitBox()){var n=this.getBBox();if(n&&!o.box(n.minX,n.maxX,n.minY,n.maxY,i[0],i[1]))return!1}var r=this._attrs.clip;return r?(r.invert(i,this.get("canvas")),!!r.isPointInPath(i[0],i[1])&&this.isPointInPath(i[0],i[1])):this.isPointInPath(i[0],i[1])},calculateBox:function(){return null},getHitLineWidth:function(){var t=this._attrs,e=t.lineAppendWidth||0;return(t.lineWidth||0)+e},clearTotalMatrix:function(){this._cfg.totalMatrix=null,this._cfg.region=null},clearBBox:function(){this._cfg.box=null,this._cfg.region=null},getBBox:function(){var t=this._cfg.box;return t||((t=this.calculateBox())&&(t.x=t.minX,t.y=t.minY,t.width=t.maxX-t.minX,t.height=t.maxY-t.minY),this._cfg.box=t),t},clone:function(){var t=null,e=this._attrs,i={};return n.each(e,function(t,r){l[r]&&n.isArray(e[r])?i[r]=function(t){for(var e=[],i=0;i<t.length;i++)n.isArray(t[i])?e.push([].concat(t[i])):e.push(t[i]);return e}(e[r]):i[r]=e[r]}),t=new this.constructor({attrs:i}),t._cfg.zIndex=this._cfg.zIndex,t}}),t.exports=s},function(t,e,i){var n=i(0),r=i(151),a={version:"3.5.7",renderer:"canvas",trackingInfo:{},animate:!0,widthRatio:{column:.5,rose:.9999999,multiplePie:1/1.3},showSinglePoint:!1,connectNulls:!1,scales:{},registerTheme:function(t,e){r[t]=e},setTheme:function(t){var e={};e=n.isObject(t)?t:-1!==n.indexOf(Object.keys(r),t)?r[t]:r.default,n.deepMix(a,e)}};a.setTheme("default"),t.exports=a},function(t,e){function i(t,e){for(var i in e)e.hasOwnProperty(i)&&"constructor"!==i&&void 0!==e[i]&&(t[i]=e[i])}t.exports=function(t,e,n,r){return e&&i(t,e),n&&i(t,n),r&&i(t,r),t}},function(t,e,i){var n=i(12);t.exports=function(t){return n(t,"Number")}},function(t,e,i){var n=i(12);t.exports=function(t){return n(t,"String")}},function(t,e,i){var n=i(12);t.exports=function(t){return n(t,"Function")}},function(t,e){var i={}.toString;t.exports=function(t,e){return i.call(t)==="[object "+e+"]"}},function(t,e){t.exports=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)}},function(t,e){t.exports={FONT_FAMILY:'"-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",SimSun, "sans-serif"'}},function(t,e,i){var n=i(3),r=i(156),a=["min","max","median","start","end"],o=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return n.mix({},e,{xScales:null,yScales:null,el:null})},i.render=function(){},i.clear=function(){var t=this.get("el");t&&t.remove()},i.changeVisible=function(t){this.set("visible",t);var e=this.get("el");e&&(e.set?e.set("visible",t):e.style.display=t?"":"none")},i.parsePoint=function(t,e){var i=this.get("xScales"),a=this.get("yScales");n.isFunction(e)&&(e=e(i,a));var o,s;if(n.isArray(e)&&n.isString(e[0])&&-1!==e[0].indexOf("%"))return this._parsePercentPoint(t,e);if(n.isArray(e))o=this._getNormalizedValue(e[0],r.getFirstScale(i)),s=this._getNormalizedValue(e[1],r.getFirstScale(a));else for(var l in e){var u=e[l];i[l]&&(o=this._getNormalizedValue(u,i[l])),a[l]&&(s=this._getNormalizedValue(u,a[l],"y"))}return n.isNil(o)||n.isNil(s)?void 0:t.convert({x:o,y:s})},i._getNormalizedValue=function(t,e){var i;if(-1!==n.indexOf(a,t)){var r;"start"===t?i=0:"end"===t?i=1:"median"===t?(r=e.isCategory?(e.values.length-1)/2:(e.min+e.max)/2,i=e.scale(r)):(r=e.isCategory?"min"===t?0:e.values.length-1:e[t],i=e.scale(r))}else i=e.scale(t);return i},i._parsePercentPoint=function(t,e){var i=parseFloat(e[0])/100,n=parseFloat(e[1])/100,r=t.start,a=t.end,o={x:Math.min(r.x,a.x),y:Math.min(r.y,a.y)};return{x:t.width*i+o.x,y:t.height*n+o.y}},e}(i(32));t.exports=o},function(t,e,i){var n=i(25);t.exports=n},function(t,e,i){var n=i(8),r=i(2),a=i(24),o=i(5),s=function(){function t(t){this._initDefaultCfg(),n(this,t),this.init()}var e=t.prototype;return e._initDefaultCfg=function(){this.type="base",this.formatter=null,this.range=[0,1],this.ticks=null,this.values=[]},e.init=function(){},e.getTicks=function(){var t=this,e=t.ticks,i=[];return r(e,function(e){var n;n=a(e)?e:{text:t.getText(e),tickValue:e,value:t.scale(e)},i.push(n)}),i},e.getText=function(t,e){var i=this.formatter;return t=i?i(t,e):t,!o(t)&&t.toString||(t=""),t.toString()},e.rangeMin=function(){return this.range[0]},e.rangeMax=function(){var t=this.range;return t[t.length-1]},e.invert=function(t){return t},e.translate=function(t){return t},e.scale=function(t){return t},e.clone=function(){var t=this,e=t.constructor,i={};return r(t,function(e,n){i[n]=t[n]}),new e(i)},e.change=function(t){return this.ticks=null,n(this,t),this.init(),this},t}();t.exports=s},function(t,e,i){var n=i(0),r=i(22),a=n.PathUtil,o={},s={_coord:null,draw:function(t,e){return this.drawShape?this.drawShape(t,e):null},setCoord:function(t){this._coord=t},parsePath:function(t,e){var i=this._coord;return t=a.parsePathString(t),t=i.isPolar&&!1!==e?r.convertPolarPath(i,t):r.convertNormalPath(i,t)},parsePoint:function(t){return this._coord.convertPoint(t)},parsePoints:function(t){var e=this._coord,i=[];return n.each(t,function(t){i.push(e.convertPoint(t))}),i}},l={defaultShapeType:null,setCoord:function(t){this._coord=t},getShape:function(t){n.isArray(t)&&(t=t[0]);var e=this[t]||this[this.defaultShapeType];return e._coord=this._coord,e},getShapePoints:function(t,e){var i=this.getShape(t);return(i.getPoints||i.getShapePoints||this.getDefaultPoints)(e)},getDefaultPoints:function(){return[]},getMarkerCfg:function(t,e){var i=this.getShape(t);if(!i.getMarkerCfg){var n=this.defaultShapeType;i=this.getShape(n)}return i.getMarkerCfg(e)},getSelectedCfg:function(){return{}},drawShape:function(t,e,i){var n=this.getShape(t).draw(e,i);return n&&(n.setSilent("origin",e.origin),n._id=e.yIndex?e._id+e.yIndex:e._id,n.name=this.name),n}};o.registerFactory=function(t,e){var i=n.upperFirst(t),r=n.assign({},l,e);return o[i]=r,r.name=t,r},o.registerShape=function(t,e,i){var r=n.upperFirst(t),a=o[r],l=n.assign({},s,i);return a[e]=l,l},o.getShapeFactory=function(t){t=t||"point";return this[n.upperFirst(t)]},t.exports=o},function(t,e,i){"use strict";var n=i(60);i.d(e,"a",function(){return n.e}),i.d(e,"f",function(){return n.g}),i.d(e,"d",function(){return n.f});var r=i(203);i.d(e,"e",function(){return r.a}),i.d(e,"c",function(){return r.b});var a=i(204);i.d(e,"b",function(){return a.a})},function(t,e,i){function n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r(t){return(l.isString(t)||l.isPlainObject(t))&&(t=[t]),l.each(t,function(e,i){l.isObject(e)||(t[i]={type:e})}),t}var a=i(73),o=i(297),s=i(148),l=i(0),u=i(7),c=i(305),h=i(18),f=i(337),g=i(338),p=i(339),d=i(340),v=["color","shape","size"],m=function(t){function e(e){var i;return i=t.call(this,e)||this,i.viewTheme=i.get("viewTheme"),l.assign(n(n(i)),f,g,p),i.get("container")&&i._initContainer(),i._initOptions(),i}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){return{_id:null,type:"base",coord:null,attrs:{},view:null,data:[],scales:{},container:null,labelContainer:null,shapeContainer:null,attrOptions:{},styleOptions:null,selectedOptions:null,activedOptions:null,hasDefaultAdjust:!1,adjusts:null,shapeType:null,generatePoints:!1,sortable:!1,labelCfg:null,shareTooltip:!0,tooltipCfg:null,animate:!0,animateCfg:null,visible:!0}},i._initOptions=function(){var t=this.get("adjusts");t&&(t=r(t),this.set("adjusts",t))},i._createScale=function(t,e){var i=this.get("scales"),n=i[t];return n||(n=this.get("view").createScale(t,e),i[t]=n),n},i._setAttrOptions=function(t,e){this.get("attrOptions")[t]=e},i._createAttrOption=function(t,e,i,n){var r={};r.field=e,i?l.isFunction(i)?r.callback=i:r.values=i:"color"!==t&&(r.values=n),this._setAttrOptions(t,r)},i.position=function(t){return this._setAttrOptions("position",{field:t}),this},i.color=function(t,e){var i=this.viewTheme||u;return this._createAttrOption("color",t,e,i.colors),this},i.size=function(t,e){var i=this.viewTheme||u;return this._createAttrOption("size",t,e,i.sizes),this},i.shape=function(t,e){var i=this.viewTheme||u,n=this.get("type"),r=i.shapes[n]||[];return this._createAttrOption("shape",t,e,r),this},i.opacity=function(t,e){var i=this.viewTheme||u;return this._createAttrOption("opacity",t,e,i.opacities),this},i.style=function(t,e){var i=this.get("styleOptions");i||(i={},this.set("styleOptions",i)),l.isObject(t)&&(e=t,t=null);var n;return t&&(n=d(t)),i.fields=n,i.style=e,this},i.label=function(t,e,i){var n=this.get("labelCfg");n||(n={},this.set("labelCfg",n));var r;return t&&(r=d(t)),n.fields=r,l.isFunction(e)?(i||(i={}),n.callback=e):l.isObject(e)&&(i=e),n.globalCfg=i,this},i.tooltip=function(t,e){var i=this.get("tooltipCfg");if(i||(i={}),!1===t)this.set("tooltipCfg",!1);else{var n;t&&(n=d(t)),i.fields=n,i.cfg=e}return this.set("tooltipCfg",i),this},i.animate=function(t){return this.set("animateCfg",t),this},i.active=function(t,e){return!1===t?this.set("allowActive",!1):l.isObject(t)?(this.set("allowActive",!0),this.set("activedOptions",t)):(this.set("allowActive",!0),this.set("activedOptions",e)),this},i.adjust=function(t){return this.get("hasDefaultAdjust")||(t&&(t=r(t)),this.set("adjusts",t)),this},i.select=function(t,e){return!1===t?this.set("allowSelect",!1):l.isObject(t)?(this.set("allowSelect",!0),this.set("selectedOptions",t)):(this.set("allowSelect",!0),this.set("selectedOptions",e)),this},i.hasAdjust=function(t){var e=this.get("adjusts");if(!t)return!1;var i=!1;return l.each(e,function(e){if(e.type===t)return i=!0,!1}),i},i.hasStack=function(){var t=this.get("isStacked");return l.isNil(t)&&(t=this.hasAdjust("stack"),this.set("isStacked",t)),t},i.isInCircle=function(){var t=this.get("coord");return t&&t.isPolar},i._initContainer=function(){var t=this.get("shapeContainer");if(!t){var e=this.get("container"),i=this.get("view"),n=i&&i.get("_id");t=e.addGroup({viewId:n,visible:this.get("visible")}),this.set("shapeContainer",t)}},i.init=function(){var t=this;if(t._initContainer(),t._initAttrs(),t.get("tooltipCfg")&&t.get("tooltipCfg").fields){var e=t.get("tooltipCfg").fields;l.each(e,function(e){t._createScale(e)})}var i=t._processData();t.get("adjusts")&&t._adjust(i),t.set("dataArray",i)},i._initAttrs=function(){var t=this.get("attrs"),e=this.get("attrOptions"),i=this.get("coord"),n=this.viewTheme||u,r=!1;for(var o in e)if(e.hasOwnProperty(o)){var s=e[o],c=l.upperFirst(o),h=d(s.field);"position"===o&&(s.coord=i,1===h.length&&"theta"===i.type&&(h.unshift("1"),r=!0));for(var f=[],g=0;g<h.length;g++){var p=h[g],v=this._createScale(p);"color"===o&&l.isNil(s.values)&&(v.values.length<=8?s.values=r?n.colors_pie:n.colors:v.values.length<=16?s.values=r?n.colors_pie_16:n.colors_16:s.values=n.colors_24,l.isNil(s.values)&&(s.values=n.colors)),f.push(v)}if("theta"===i.type&&"position"===o&&f.length>1){var m=f[1],y=Math.max.apply(null,m.values);isFinite(y)||(y=1),m.change({nice:!1,min:0,max:y})}s.scales=f;var x=new a[c](s);t[o]=x}},i._processData=function(){for(var t=this.get("data"),e=[],i=this._groupData(t),n=0;n<i.length;n++){var r=i[n],a=this._saveOrigin(r);this._numberic(a),e.push(a)}return e},i._groupData=function(t){var e=this._getGroupScales().map(function(t){return t.field});return l.Array.group(t,e)},i._saveOrigin=function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i],r={};for(var a in n)r[a]=n[a];r._origin=n,e.push(r)}return e},i._numberic=function(t){for(var e=this.getAttr("position").scales,i=0;i<t.length;i++)for(var n=t[i],r=0;r<Math.min(2,e.length);r++){var a=e[r];if(a.isCategory){var o=a.field;n[o]=a.translate(n[o])}}},i._getGroupScales=function(){var t=this.get("groupScales");if(!t){t=[];var e=this.get("attrs");l.each(e,function(e){if(-1!==v.indexOf(e.type)){var i=e.scales;l.each(i,function(e){e.isCategory&&-1===l.indexOf(t,e)&&t.push(e)})}}),this.set("groupScales",t)}return t},i._updateStackRange=function(t,e,i){for(var n=l.Array.merge(i),r=e.min,a=e.max,o=0;o<n.length;o++){var s=n[o],u=Math.min.apply(null,s[t]),c=Math.max.apply(null,s[t]);u<r&&(r=u),c>a&&(a=c)}(r<e.min||a>e.max)&&e.change({min:r,max:a})},i._adjust=function(t){var e=this,i=e.get("adjusts"),n=this.viewTheme||u,r=e.getYScale(),a=e.getXScale(),s=a.field,c=r?r.field:null;l.each(i,function(i){var u=l.mix({xField:s,yField:c},i),h=l.upperFirst(i.type);if("Dodge"===h){var f=[];if(a.isCategory||a.isIdentity)f.push("x");else{if(r)throw new Error("dodge is not support linear attribute, please use category attribute!");f.push("y")}u.adjustNames=f,u.dodgeRatio=n.widthRatio.column}else if("Stack"===h){var g=e.get("coord");if(!r){u.height=g.getHeight();var p=e.getDefaultValue("size")||3;u.size=p}!g.isTransposed&&l.isNil(u.reverseOrder)&&(u.reverseOrder=!0)}new o[h](u).processAdjust(t),"Stack"===h&&r&&e._updateStackRange(c,r,t)})},i.setCoord=function(t){this.set("coord",t);var e=this.getAttr("position");this.get("shapeContainer").setMatrix(t.matrix),e&&(e.coord=t)},i.paint=function(){var t=this.get("dataArray"),e=[],i=this.getShapeFactory();i.setCoord(this.get("coord")),this.set("shapeFactory",i);var n=this.get("shapeContainer");this._beforeMapping(t);for(var r=0;r<t.length;r++){var a=t[r],o=r;a=this._mapping(a),e.push(a),this.draw(a,n,i,o)}this.get("labelCfg")&&this._addLabels(l.union.apply(null,e),n.get("children")),this.get("sortable")?this.set("dataArray",e):this._sort(e)},i._sort=function(t){var e=this.getXScale(),i=e.field;l.each(t,function(t){t.sort(function(t,n){return e.translate(t._origin[i])-e.translate(n._origin[i])})}),this.set("dataArray",t)},i._beforeMapping=function(t){var e=this;if(e.get("sortable")){var i=e.getXScale(),n=i.field;l.each(t,function(t){t.sort(function(t,e){return i.translate(t[n])-i.translate(e[n])})})}e.get("generatePoints")&&(l.each(t,function(t){e._generatePoints(t)}),l.each(t,function(e,i){var n=t[i+1];n&&(e[0].nextPoints=n[0].points)}))},i._addLabels=function(t,e){var i=this,n=i.get("type"),r=i.get("viewTheme")||u,a=i.get("coord"),o=c.getLabelsClass(a.type,n),s=i.get("container"),h=l.map(i.get("labelCfg").fields,function(t){return i._createScale(t)}),f=s.addGroup(o,{_id:this.get("_id"),labelCfg:l.mix({scales:h},i.get("labelCfg")),coord:a,geom:i,geomType:n,viewTheme:r,visible:i.get("visible")});f.showLabels(t,e),i.set("labelContainer",f)},i.getShapeFactory=function(){var t=this.get("shapeFactory");if(!t){var e=this.get("shapeType");t=h.getShapeFactory(e),this.set("shapeFactory",t)}return t},i._generatePoints=function(t){for(var e=this.getShapeFactory(),i=this.getAttr("shape"),n=0;n<t.length;n++){var r=t[n],a=this.createShapePointsCfg(r),o=i?this._getAttrValues(i,r):null,s=e.getShapePoints(o,a);r.points=s}},i.createShapePointsCfg=function(t){var e,i=this.getXScale(),n=this.getYScale(),r=this._normalizeValues(t[i.field],i);return e=n?this._normalizeValues(t[n.field],n):t.y?t.y:.1,{x:r,y:e,y0:n?n.scale(this.getYMinValue()):void 0}},i.getYMinValue=function(){var t=this.getYScale(),e=t.min,i=t.max;return e>=0?e:i<=0?i:0},i._normalizeValues=function(t,e){var i=[];if(l.isArray(t))for(var n=0;n<t.length;n++){var r=t[n];i.push(e.scale(r))}else i=e.scale(t);return i},i._mapping=function(t){for(var e=this.get("attrs"),i=[],n=0;n<t.length;n++){var r=t[n],a={};a._origin=r._origin,a.points=r.points,a.nextPoints=r.nextPoints;for(var o in e)if(e.hasOwnProperty(o)){var s=e[o],u=s.names,c=this._getAttrValues(s,r);if(u.length>1)for(var h=0;h<c.length;h++){var f=c[h];a[u[h]]=l.isArray(f)&&1===f.length?f[0]:f}else a[u[0]]=1===c.length?c[0]:c}i.push(a)}return i},i._getAttrValues=function(t,e){for(var i=t.scales,n=[],r=0;r<i.length;r++){var a=i[r],o=a.field;"identity"===a.type?n.push(a.value):n.push(e[o])}return t.mapping.apply(t,n)},i.getAttrValue=function(t,e){var i=this.getAttr(t),n=null;if(i){n=this._getAttrValues(i,e)[0]}return n},i.getDefaultValue=function(t){var e=this.get(t),i=this.getAttr(t);if(i){var n=i.getScale(t);"identity"===n.type&&(e=n.value)}return e},i.draw=function(t,e,i,n){for(var r=0;r<t.length;r++){var a=t[r];this.drawPoint(a,e,i,n+r)}},i.getCallbackCfg=function(t,e,i){if(!t)return e;var n={},r=t.map(function(t){return i[t]});return l.each(e,function(t,e){l.isFunction(t)?n[e]=t.apply(null,r):n[e]=t}),n},i._getShapeId=function(t){var e=this.get("_id"),i=this.get("keyFields");if(i&&i.length>0)l.each(i,function(i){e+="-"+t[i]});else{var n,r=this.get("type"),a=this.getXScale(),o=this.getYScale(),s=a.field||"x",u=o.field||"y",c=t[u];n=a.isIdentity?a.value:t[s],e+="interval"===r||"schema"===r?"-"+n:"line"===r||"area"===r||"path"===r?"-"+r:"-"+n+"-"+c;var h=this._getGroupScales();l.isEmpty(h)||l.each(h,function(i){var n=i.field;"identity"!==i.type&&(e+="-"+t[n])})}return e},i.getDrawCfg=function(t){var e={origin:t,x:t.x,y:t.y,color:t.color,size:t.size,shape:t.shape,isInCircle:this.isInCircle(),opacity:t.opacity},i=this.get("styleOptions");return i&&i.style&&(e.style=this.getCallbackCfg(i.fields,i.style,t._origin)),this.get("generatePoints")&&(e.points=t.points,e.nextPoints=t.nextPoints),this.get("animate")&&(e._id=this._getShapeId(t._origin)),e},i.appendShapeInfo=function(t,e){t&&(t.setSilent("index",e),t.setSilent("coord",this.get("coord")),this.get("animate")&&this.get("animateCfg")&&t.setSilent("animateCfg",this.get("animateCfg")))},i._applyViewThemeShapeStyle=function(t,e,i){var n=this.viewTheme||u,r=i.name;e?e&&(e.indexOf("hollow")>-1||e.indexOf("liquid")>-1)&&(r="hollow"+l.upperFirst(r)):i.defaultShapeType.indexOf("hollow")>-1&&(r="hollow"+l.upperFirst(r));var a=n.shape[r]||{};t.style=l.mix({},a,t.style)},i.drawPoint=function(t,e,i,n){var r=t.shape,a=this.getDrawCfg(t);this._applyViewThemeShapeStyle(a,r,i);var o=i.drawShape(r,a,e);this.appendShapeInfo(o,n)},i.getAttr=function(t){return this.get("attrs")[t]},i.getXScale=function(){return this.getAttr("position").scales[0]},i.getYScale=function(){return this.getAttr("position").scales[1]},i.getShapes=function(){var t=[],e=this.get("shapeContainer").get("children");return l.each(e,function(e){e.get("origin")&&t.push(e)}),t},i.getAttrsForLegend=function(){var t=this.get("attrs"),e=[];return l.each(t,function(t){-1!==v.indexOf(t.type)&&e.push(t)}),e},i.getFieldsForLegend=function(){var t=[],e=this.get("attrOptions");return l.each(v,function(i){var n=e[i];n&&n.field&&l.isString(n.field)&&(t=t.concat(n.field.split("*")))}),l.uniq(t)},i.changeVisible=function(t,e){this.set("visible",t);var i=this.get("shapeContainer");i&&i.set("visible",t);var n=this.get("labelContainer");if(n&&n.set("visible",t),!e&&i){i.get("canvas").draw()}},i.reset=function(){this.set("attrOptions",{}),this.clearInner()},i.clearInner=function(){this.clearActivedShapes(),this.clearSelected();var t=this.get("shapeContainer");t&&t.clear();var e=this.get("labelContainer");e&&e.remove(),this.set("attrs",{}),this.set("groupScales",null),this.set("labelContainer",null),this.set("xDistance",null),this.set("isStacked",null)},i.clear=function(){this.clearInner(),this.set("scales",{})},i.destroy=function(){this.clear();var e=this.get("shapeContainer");e&&e.remove(),this.offEvents(),t.prototype.destroy.call(this)},i.bindEvents=function(){this.get("view")&&(this._bindActiveAction(),this._bindSelectedAction())},i.offEvents=function(){this.get("view")&&(this._offActiveAction(),this._offSelectedAction())},e}(s);t.exports=m},function(t,e,i){t.exports={Axis:i(306),Component:i(66),Guide:i(314),Label:i(323),Legend:i(324),Tooltip:i(330)}},function(t,e,i){function n(t,e){var i=t.getCenter();return Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2))}function r(t,e){for(var i=t.length,n=[t[0]],r=1;r<i;r+=2){var a=e.convertPoint({x:t[r],y:t[r+1]});n.push(a.x,a.y)}return n}var a=i(0),o=i(334),s={getLinePath:function(t,e){return function(t,e){if(!t.length)return[];for(var i=[],n=0,r=t.length;n<r;n++){var a=t[n];0===n?i.push(["M",a.x,a.y]):i.push(["L",a.x,a.y])}return e&&i.push(["Z"]),i}(t,e)},getSplinePath:function(t,e,i){var n=[],r=t[0],l=null;if(t.length<=2)return s.getLinePath(t,e);a.each(t,function(t){l&&l.x===t.x&&l.y===t.y||(n.push(t.x),n.push(t.y),l=t)}),i=i||[[0,0],[1,1]];var u=o.catmullRom2bezier(n,e,i);return u.unshift(["M",r.x,r.y]),u},getPointRadius:function(t,e){return n(t,e)},getPointAngle:function(t,e){var i=t.getCenter();return Math.atan2(e.y-i.y,e.x-i.x)},convertNormalPath:function(t,e){var i=[];return a.each(e,function(e){switch(e[0].toLowerCase()){case"m":case"l":case"c":i.push(r(e,t));break;case"z":default:i.push(e)}}),i},convertPolarPath:function(t,e){var i,o,s,l,u=[];return a.each(e,function(a,c){switch(a[0].toLowerCase()){case"m":case"c":case"q":u.push(r(a,t));break;case"l":i=e[c-1],o=a,s=t.isTransposed,(l=s?i[i.length-2]===o[1]:i[i.length-1]===o[2])?u=u.concat(function(t,e,i){var r=i.isTransposed,a=i.startAngle,o=i.endAngle,s={x:t[1],y:t[2]},l={x:e[1],y:e[2]},u=[],c=r?"y":"x",h=Math.abs(l[c]-s[c])*(o-a),f=l[c]>=s[c]?1:0,g=h>Math.PI?1:0,p=i.convertPoint(l),d=n(i,p);if(d>=.5)if(h===2*Math.PI){var v={x:(l.x+s.x)/2,y:(l.y+s.y)/2},m=i.convertPoint(v);u.push(["A",d,d,0,g,f,m.x,m.y]),u.push(["A",d,d,0,g,f,p.x,p.y])}else u.push(["A",d,d,0,g,f,p.x,p.y]);return u}(i,o,t)):u.push(r(a,t));break;case"z":default:u.push(a)}}),function(t){a.each(t,function(e,i){if("a"===e[0].toLowerCase()){var n=t[i-1],r=t[i+1];r&&"a"===r[0].toLowerCase()?n&&"l"===n[0].toLowerCase()&&(n[0]="M"):n&&"a"===n[0].toLowerCase()&&r&&"l"===r[0].toLowerCase()&&(r[0]="M")}})}(u),u}};t.exports=s},function(t,e,i){var n=i(5);t.exports=function(t){return n(t)?"":t.toString()}},function(t,e){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){var e=void 0===t?"undefined":i(t);return null!==t&&"object"===e||"function"===e}},function(t,e,i){t.exports={Canvas:i(181),Group:i(101),Shape:i(6),Arc:i(105),Circle:i(106),Dom:i(107),Ellipse:i(108),Fan:i(109),Image:i(110),Line:i(111),Marker:i(56),Path:i(112),Polygon:i(113),Polyline:i(114),Rect:i(115),Text:i(116),PathSegment:i(39),PathUtil:i(57),Event:i(100),version:"3.3.6"}},function(t,e,i){var n=i(48),r=i(12);t.exports=function(t){if(!n(t)||!r(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}},function(t,e,i){var n=i(1),r=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,a=/[^\s\,]+/gi,o={};t.exports={parseRadius:function(t){var e=0,i=0,r=0,a=0;return n.isArray(t)?1===t.length?e=i=r=a=t[0]:2===t.length?(e=r=t[0],i=a=t[1]):3===t.length?(e=t[0],i=a=t[1],r=t[2]):(e=t[0],i=t[1],r=t[2],a=t[3]):e=i=r=a=t,{r1:e,r2:i,r3:r,r4:a}},parsePath:function(t){return t=t||[],n.isArray(t)?t:n.isString(t)?(t=t.match(r),n.each(t,function(e,i){if((e=e.match(a))[0].length>1){var r=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=r}n.each(e,function(t,i){isNaN(t)||(e[i]=+t)}),t[i]=e}),t):void 0},numberToColor:function(t){var e=o[t];if(!e){for(var i=t.toString(16),n=i.length;n<6;n++)i="0"+i;e="#"+i,o[t]=e}return e}}},function(t,e,i){"use strict";function n(t,e){return function(i){return t+i*e}}function r(t,e){var i=e-t;return i?n(t,i):Object(a.a)(isNaN(t)?e:t)}e.c=function(t,e){var i=e-t;return i?n(t,i>180||i<-180?i-360*Math.round(i/360):i):Object(a.a)(isNaN(t)?e:t)},e.b=function(t){return 1==(t=+t)?r:function(e,i){return i-e?function(t,e,i){return t=Math.pow(t,i),e=Math.pow(e,i)-t,i=1/i,function(n){return Math.pow(t+n*e,i)}}(e,i,t):Object(a.a)(isNaN(e)?i:e)}},e.a=r;var a=i(121)},function(t,e,i){function n(t,e){return r(e)?e:t.invert(t.scale(e))}var r=i(10),a=i(4),o=i(5),s=i(8),l=i(2),u=function(){function t(t){var e=this;this.type="base",this.name=null,this.method=null,this.values=[],this.scales=[],this.linear=null;var i=null,n=this.callback;if(t.callback){var r=t.callback;i=function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];var s=r.apply(void 0,i);return o(s)&&(s=n.apply(e,i)),s}}s(this,t),i&&s(this,{callback:i})}var e=t.prototype;return e._getAttrValue=function(t,e){var i=this.values;if(t.isCategory&&!this.linear){return i[t.translate(e)%i.length]}var n=t.scale(e);return this.getLinearValue(n)},e.getLinearValue=function(t){var e=this.values,i=e.length-1,n=Math.floor(i*t),r=i*t-n,a=e[n];return a+((n===i?a:e[n+1])-a)*r},e.callback=function(t){var e=this.scales[0];return"identity"===e.type?e.value:this._getAttrValue(e,t)},e.getNames=function(){for(var t=this.scales,e=this.names,i=Math.min(t.length,e.length),n=[],r=0;r<i;r++)n.push(e[r]);return n},e.getFields=function(){var t=this.scales,e=[];return l(t,function(t){e.push(t.field)}),e},e.getScale=function(t){return this.scales[this.names.indexOf(t)]},e.mapping=function(){for(var t=this.scales,e=this.callback,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];var a=n;if(e){for(var o=0,s=n.length;o<s;o++)n[o]=this._toOriginParam(n[o],t[o]);a=e.apply(this,n)}return a=[].concat(a)},e._toOriginParam=function(t,e){var i=t;if(!e.isLinear)if(a(t)){i=[];for(var r=0,o=t.length;r<o;r++)i.push(n(e,t[r]))}else i=n(e,t);return i},t}();t.exports=u},function(t,e,i){var n=i(8),r=function(){function t(t){this._initDefaultCfg(),n(this,t)}var e=t.prototype;return e._initDefaultCfg=function(){this.adjustNames=["x","y"]},e.processAdjust=function(){},t}();t.exports=r},function(t,e,i){var n=i(32),r=i(3),a=i(153),o=i(154),s=i(14).FONT_FAMILY,l=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{_id:null,zIndex:4,ticks:null,line:null,tickLine:null,subTickCount:0,subTickLine:null,grid:null,label:{offset:0,offsetX:0,offsetY:0,textStyle:{},autoRotate:!0,autoHide:!1,formatter:null},labelItems:[],title:{autoRotate:!0,textStyle:{}},autoPaint:!0})},i.beforeRender=function(){var t=this.get("title"),e=this.get("label"),i=this.get("grid");t&&this.set("title",r.deepMix({autoRotate:!0,textStyle:{fontSize:12,fill:"#ccc",textBaseline:"middle",fontFamily:s,textAlign:"center"},offset:48},t)),e&&this.set("label",r.deepMix({autoRotate:!0,autoHide:!0,textStyle:{fontSize:12,fill:"#ccc",textBaseline:"middle",fontFamily:s},offset:10},e)),i&&this.set("grid",r.deepMix({lineStyle:{lineWidth:1,stroke:"#C0D0E0"}},i))},i.render=function(){this.beforeRender();this.get("label")&&this.renderLabels(),this.get("autoPaint")&&this.paint(),r.isNil(this.get("title"))||this.renderTitle(),this.get("group").sort()},i.renderLabels=function(){var t=this.get("group"),e=this.get("label"),i=new o;this.set("labelRenderer",i),i.set("labelCfg",e);r.each(["formatter","htmlTemplate","labelLine","textStyle","useHtml"],function(t){e[t]&&i.set(t,e[t])}),i.set("coord",this.get("coord")),i.set("group",t.addGroup()),i.set("canvas",this.get("canvas"))},i._parseTicks=function(t){for(var e=(t=t||[]).length,i=0;i<e;i++){var n=t[i];r.isObject(n)||(t[i]=this.parseTick(n,i,e))}return this.set("ticks",t),t},i._addTickItem=function(t,e,i,n){void 0===n&&(n="");var r=this.get("tickItems"),a=this.get("subTickItems"),o=this.getTickEnd(e,i,t),s={x1:e.x,y1:e.y,x2:o.x,y2:o.y};r||(r=[]),a||(a=[]),"sub"===n?a.push(s):r.push(s),this.set("tickItems",r),this.set("subTickItems",a)},i._renderLine=function(){var t,e=this.get("line");if(e){t=this.getLinePath(),e=r.mix({path:t},e);var i=this.get("group").addShape("path",{attrs:e});i.name="axis-line",this.get("appendInfo")&&i.setSilent("appendInfo",this.get("appendInfo")),this.set("lineShape",i)}},i._processCatTicks=function(){var t=this.get("label"),e=this.get("tickLine"),i=this.get("ticks");i=this._parseTicks(i);for(var n=this._getNormalizedTicks(i),r=0;r<n.length;r+=3){var a=this.getTickPoint(n[r]),o=this.getTickPoint(n[r+1]),s=this.getTickPoint(n[r+2]),l=Math.floor(r/3),u=i[l];e&&(0===l&&this._addTickItem(l,o,e.length),this._addTickItem(l,s,e.length)),t&&this.addLabel(u,a,l)}},i._getNormalizedTicks=function(t){var e=0;t.length>1&&(e=(t[1].value-t[0].value)/2);for(var i=[],n=0;n<t.length;n++){var a=t[n],o=a.value,s=a.value-e,l=a.value+e;i.push(o,s,l)}var u=r.arrayUtil.getRange(i);return i.map(function(t){return(t-u.min)/(u.max-u.min)})},i.addLabel=function(t,e,i){var n=this.get("labelItems"),a=this.get("labelRenderer"),o=r.deepMix({},this.get("label"));if(a){var s=this.get("_labelOffset");r.isNil(this.get("label").offset)||(s=this.get("label").offset);var l=this.getSideVector(s,e,i);e={x:e.x+l[0]+o.offsetX,y:e.y+l[1]+o.offsetY},o.text=t.text,o.x=e.x,o.y=e.y,o.point=e,o.textAlign=this.getTextAnchor(l),e.rotate&&(o.rotate=e.rotate),n.push(o)}},i._processTicks=function(){var t=this,e=t.get("label"),i=t.get("subTickCount"),n=t.get("tickLine"),a=t.get("ticks");if(a=t._parseTicks(a),r.each(a,function(i,r){var a=t.getTickPoint(i.value,r);n&&t._addTickItem(r,a,n.length),e&&t.addLabel(i,a,r)}),i){var o=t.get("subTickLine");r.each(a,function(e,r){if(r>0){var s=e.value-a[r-1].value;s/=t.get("subTickCount")+1;for(var l=1;l<=i;l++){var u={text:"",value:r?a[r-1].value+l*s:l*s},c=t.getTickPoint(u.value),h=void 0;h=o&&o.length?o.length:parseInt(.6*n.length,10),t._addTickItem(l-1,c,h,"sub")}}})}},i._addTickLine=function(t,e){var i=r.mix({},e),n=[];r.each(t,function(t){n.push(["M",t.x1,t.y1]),n.push(["L",t.x2,t.y2])}),delete i.length,i.path=n;var a=this.get("group").addShape("path",{attrs:i});a.name="axis-ticks",a._id=this.get("_id")+"-ticks",a.set("coord",this.get("coord")),this.get("appendInfo")&&a.setSilent("appendInfo",this.get("appendInfo"))},i._renderTicks=function(){var t=this.get("tickItems"),e=this.get("subTickItems");if(!r.isEmpty(t)){var i=this.get("tickLine");this._addTickLine(t,i)}if(!r.isEmpty(e)){var n=this.get("subTickLine")||this.get("tickLine");this._addTickLine(e,n)}},i._renderGrid=function(){var t=this.get("grid");if(t){t.coord=this.get("coord"),t.appendInfo=this.get("appendInfo");var e=this.get("group");this.set("gridGroup",e.addGroup(a,t))}},i._renderLabels=function(){var t=this.get("labelRenderer"),e=this.get("labelItems");t&&(t.set("items",e),t._dryDraw())},i.paint=function(){var t=this.get("tickLine"),e=!0;t&&t.hasOwnProperty("alignWithLabel")&&(e=t.alignWithLabel),this._renderLine();var i=this.get("type");("cat"===i||"timeCat"===i)&&!1===e?this._processCatTicks():this._processTicks(),this._renderTicks(),this._renderGrid(),this._renderLabels();var n=this.get("label");n&&n.autoRotate&&this.autoRotateLabels(),n&&n.autoHide&&this.autoHideLabels()},i.parseTick=function(t,e,i){return{text:t,value:e/(i-1)}},i.getTextAnchor=function(t){return Math.abs(t[1]/t[0])>=1?"center":t[0]>0?"start":"end"},i.getMaxLabelWidth=function(t){var e=t.getLabels(),i=0;return r.each(e,function(t){var e=t.getBBox().width;i<e&&(i=e)}),i},i.getMaxLabelHeight=function(t){var e=t.getLabels(),i=0;return r.each(e,function(t){var e=t.getBBox().height;i<e&&(i=e)}),i},i.destroy=function(){if(!this.destroyed){t.prototype.destroy.call(this);var e=this.get("gridGroup");e&&e.remove();var i=this.get("labelRenderer");i&&i.destroy();this.get("group").destroy(),this.destroyed=!0}},i.clear=function(){var t=this.get("group");if(!t.get("destroyed")&&t.get("children").length){var e=this.get("gridGroup");e&&e.clear();var i=this.get("labelRenderer");i&&i.clear();this.get("group").clear()}},i.autoRotateLabels=function(){},i.autoHideLabels=function(){},i.renderTitle=function(){},i.getLinePath=function(){},i.getTickPoint=function(){},i.getTickEnd=function(){},i.getSideVector=function(){},e}(n);t.exports=l},function(t,e,i){var n=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){return{_id:null,canvas:null,container:null,group:null,capture:!1,coord:null,offset:[0,0],plotRange:null,position:[0,0],visible:!0,zIndex:1}},i._init=function(){},i.clear=function(){},i.destroy=function(){},i.beforeRender=function(){},i.render=function(){},i.afterRender=function(){},i.beforeDraw=function(){},i.draw=function(){},i.afterDraw=function(){},i.show=function(){},i.hide=function(){},i.setOffset=function(){},i.setPosition=function(){},i.setVisible=function(){},i.setZIndex=function(){},e}(i(66));t.exports=n},function(t,e,i){var n=i(5),r=i(2),a=i(17),o=i(174),s=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this);this.type="linear",this.isLinear=!0,this.nice=!1,this.min=null,this.minLimit=null,this.max=null,this.maxLimit=null,this.tickCount=null,this.tickInterval=null,this.minTickInterval=null,this.snapArray=null},i.init=function(){if(this.ticks){var t=this.ticks,e=this.translate(t[0]),i=this.translate(t[t.length-1]);(n(this.min)||this.min>e)&&(this.min=e),(n(this.max)||this.max<i)&&(this.max=i)}else this.min=this.translate(this.min),this.max=this.translate(this.max),this.initTicks()},i.calculateTicks=function(){var t=this.min,e=this.max,i=this.minLimit,n=this.maxLimit,r=this.tickCount,a=this.tickInterval,s=this.minTickInterval,l=this.snapArray;if(1===r)throw new Error("linear scale'tickCount should not be 1");if(e<t)throw new Error("max: "+e+" should not be less than min: "+t);return o({min:t,max:e,minLimit:i,maxLimit:n,minCount:r,maxCount:r,interval:a,minTickInterval:s,snapArray:l}).ticks},i.initTicks=function(){var t=this,e=t.calculateTicks();if(t.nice)t.ticks=e,t.min=e[0],t.max=e[e.length-1];else{var i=[];r(e,function(e){e>=t.min&&e<=t.max&&i.push(e)}),i.length||(i.push(t.min),i.push(t.max)),t.ticks=i}},i.scale=function(t){if(n(t))return NaN;var e=this.max,i=this.min;if(e===i)return 0;var r=(t-i)/(e-i),a=this.rangeMin();return a+r*(this.rangeMax()-a)},i.invert=function(t){var e=(t-this.rangeMin())/(this.rangeMax()-this.rangeMin());return this.min+e*(this.max-this.min)},e}(a);a.Linear=s,t.exports=s},function(t,e,i){var n=i(13);t.exports=function(t){return n(t)?Array.prototype.slice.call(t):[]}},function(t,e){t.exports=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-5;return Math.abs(t-e)<i}},function(t,e,i){var n=i(1).vec2;t.exports={at:function(t,e,i){return(e-t)*i+t},pointDistance:function(t,e,i,r,a,o){var s=[i-t,r-e];if(n.exactEquals(s,[0,0]))return NaN;var l=[-s[1],s[0]];n.normalize(l,l);var u=[a-t,o-e];return Math.abs(n.dot(u,l))},box:function(t,e,i,n,r){var a=r/2,o=Math.min(t,i),s=Math.max(t,i);return{minX:o-a,minY:Math.min(e,n)-a,maxX:s+a,maxY:Math.max(e,n)+a}},len:function(t,e,i,n){return Math.sqrt((i-t)*(i-t)+(n-e)*(n-e))}}},function(t,e,i){function n(t,e,i,n){return{x:Math.cos(n)*i+t,y:Math.sin(n)*i+e}}function r(t,e,i,n){var r,a;return n?t<e?(r=e-t,a=2*Math.PI-i+t):t>i&&(r=2*Math.PI-t+e,a=t-i):(r=t-e,a=i-t),r>a?i:e}function a(t,e,i,n){var a=0;return i-e>=2*Math.PI&&(a=2*Math.PI),e=s.mod(e,2*Math.PI),i=s.mod(i,2*Math.PI)+a,t=s.mod(t,2*Math.PI),n?e>=i?t>i&&t<e?t:r(t,i,e,!0):t<e||t>i?t:r(t,e,i):e<=i?e<t&&t<i?t:r(t,e,i,!0):t>e||t<i?t:r(t,i,e)}function o(t,e,i,n,r,o,l,u,c){var h=[l,u],f=[t,e],g=s.vec2.subtract([],h,f),p=s.vec2.angleTo([1,0],g);p=a(p,n,r,o);var d=[i*Math.cos(p)+t,i*Math.sin(p)+e];c&&(c.x=d[0],c.y=d[1]);return s.vec2.distance(d,h)}var s=i(1);t.exports={nearAngle:a,projectPoint:function(t,e,i,n,r,a,s,l){var u={};return o(t,e,i,n,r,a,s,l,u),u},pointDistance:o,box:function(t,e,i,r,o,l){var u=Math.PI/2,c=Math.PI,h=3*Math.PI/2,f=[],g=a(0,r,o,l);0===g&&f.push(n(t,e,i,0)),(g=a(u,r,o,l))===u&&f.push(n(t,e,i,u)),(g=a(c,r,o,l))===c&&f.push(n(t,e,i,c)),(g=a(h,r,o,l))===h&&f.push(n(t,e,i,h)),f.push(n(t,e,i,r)),f.push(n(t,e,i,o));var p=1/0,d=-1/0,v=1/0,m=-1/0;return s.each(f,function(t){p>t.x&&(p=t.x),d<t.x&&(d=t.x),v>t.y&&(v=t.y),m<t.y&&(m=t.y)}),{minX:p,minY:v,maxX:d,maxY:m}}}},function(t,e,i){function n(t,e,i,n,r,a,o){var g,p,d,v,m,y,x;if(!e.fill){var b=e.arrowLength||h,_=e.arrowAngle?e.arrowAngle*s/180:f;x=c(n-a,i-r),m=Math.abs(e.lineWidth*u(x))/2,y=Math.abs(e.lineWidth*l(x))/2,o&&(m=-m,y=-y),g=r+b*u(x+_/2),p=a+b*l(x+_/2),d=r+b*u(x-_/2),v=a+b*l(x-_/2),t.beginPath(),t.moveTo(g-m,p-y),t.lineTo(r-m,a-y),t.lineTo(d-m,v-y),t.moveTo(r-m,a-y),t.lineTo(r+m,a+y),t.moveTo(r,a),t.stroke()}}function r(t,e,i,n,r,s,l){var u=l?e.startArrow:e.endArrow,c=u.d,h=0,f=r-i,g=s-n,p=Math.atan(f/g);0===g&&f<0?h=Math.PI:f>0&&g>0?h=Math.PI/2-p:f<0&&g<0?h=-Math.PI/2-p:f>=0&&g<0?h=-p-Math.PI/2:f<=0&&g>0&&(h=Math.PI/2-p);var d=function(t){var e,i=[],n=a.parsePath(t.path);if(!Array.isArray(n)||0===n.length||"M"!==n[0][0]&&"m"!==n[0][0])return!1;for(var r=n.length,s=0;s<n.length;s++){var l=n[s];e=new o(l,e,s===r-1),i.push(e)}return i}(u);if(d){c&&(l?(r+=Math.sin(Math.abs(p))*c,s=s+Math.cos(Math.abs(p))*c-.5*t.lineWidth):(r-=Math.sin(Math.abs(p))*c,s=s-Math.cos(Math.abs(p))*c+.5*t.lineWidth)),t.save(),t.beginPath(),t.translate(r,s),t.rotate(h);for(var v=0;v<d.length;v++)d[v].draw(t);t.setTransform(1,0,0,1,0,0),t.fillStyle=t.strokeStyle,t.fill(),t.restore()}}var a=i(27),o=i(39),s=Math.PI,l=Math.sin,u=Math.cos,c=Math.atan2,h=10,f=s/3;t.exports={addStartArrow:function(t,e,i,a,o,s){"object"==typeof e.startArrow?r(t,e,i,a,o,s,!0):e.startArrow&&n(t,e,i,a,o,s,!0)},addEndArrow:function(t,e,i,a,o,s){"object"==typeof e.endArrow?r(t,e,i,a,o,s,!1):e.endArrow&&n(t,e,i,a,o,s,!1)}}},function(t,e,i){function n(t,e,i){return{x:i.x+t,y:i.y+e}}function r(t,e){return{x:e.x+(e.x-t.x),y:e.y+(e.y-t.y)}}function a(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function o(t,e){return(t[0]*e[0]+t[1]*e[1])/(a(t)*a(e))}function s(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(o(t,e))}var l=i(1),u=i(54),c=i(55),h=i(103),f=i(104),g=l.vec3,p=l.mat3,d=["m","l","c","a","q","h","v","t","s","z"],v=function(t,e,i){this.preSegment=e,this.isLast=i,this.init(t,e)};l.augment(v,{init:function(t,e){var i=t[0];e=e||{endPoint:{x:0,y:0}};var a,u,c,h,f=d.indexOf(i)>=0,g=f?i.toUpperCase():i,p=t,v=e.endPoint,m=p[1],y=p[2];switch(g){default:break;case"M":h=f?n(m,y,v):{x:m,y:y},this.command="M",this.params=[v,h],this.subStart=h,this.endPoint=h;break;case"L":h=f?n(m,y,v):{x:m,y:y},this.command="L",this.params=[v,h],this.subStart=e.subStart,this.endPoint=h,this.endTangent=function(){return[h.x-v.x,h.y-v.y]},this.startTangent=function(){return[v.x-h.x,v.y-h.y]};break;case"H":h=f?n(m,0,v):{x:m,y:v.y},this.command="L",this.params=[v,h],this.subStart=e.subStart,this.endPoint=h,this.endTangent=function(){return[h.x-v.x,h.y-v.y]},this.startTangent=function(){return[v.x-h.x,v.y-h.y]};break;case"V":h=f?n(0,m,v):{x:v.x,y:m},this.command="L",this.params=[v,h],this.subStart=e.subStart,this.endPoint=h,this.endTangent=function(){return[h.x-v.x,h.y-v.y]},this.startTangent=function(){return[v.x-h.x,v.y-h.y]};break;case"Q":f?(a=n(m,y,v),u=n(p[3],p[4],v)):(a={x:m,y:y},u={x:p[3],y:p[4]}),this.command="Q",this.params=[v,a,u],this.subStart=e.subStart,this.endPoint=u,this.endTangent=function(){return[u.x-a.x,u.y-a.y]},this.startTangent=function(){return[v.x-a.x,v.y-a.y]};break;case"T":u=f?n(m,y,v):{x:m,y:y},"Q"===e.command?(a=r(e.params[1],v),this.command="Q",this.params=[v,a,u],this.subStart=e.subStart,this.endPoint=u,this.endTangent=function(){return[u.x-a.x,u.y-a.y]},this.startTangent=function(){return[v.x-a.x,v.y-a.y]}):(this.command="TL",this.params=[v,u],this.subStart=e.subStart,this.endPoint=u,this.endTangent=function(){return[u.x-v.x,u.y-v.y]},this.startTangent=function(){return[v.x-u.x,v.y-u.y]});break;case"C":f?(a=n(m,y,v),u=n(p[3],p[4],v),c=n(p[5],p[6],v)):(a={x:m,y:y},u={x:p[3],y:p[4]},c={x:p[5],y:p[6]}),this.command="C",this.params=[v,a,u,c],this.subStart=e.subStart,this.endPoint=c,this.endTangent=function(){return[c.x-u.x,c.y-u.y]},this.startTangent=function(){return[v.x-a.x,v.y-a.y]};break;case"S":f?(u=n(m,y,v),c=n(p[3],p[4],v)):(u={x:m,y:y},c={x:p[3],y:p[4]}),"C"===e.command?(a=r(e.params[2],v),this.command="C",this.params=[v,a,u,c],this.subStart=e.subStart,this.endPoint=c,this.endTangent=function(){return[c.x-u.x,c.y-u.y]},this.startTangent=function(){return[v.x-a.x,v.y-a.y]}):(this.command="SQ",this.params=[v,u,c],this.subStart=e.subStart,this.endPoint=c,this.endTangent=function(){return[c.x-u.x,c.y-u.y]},this.startTangent=function(){return[v.x-u.x,v.y-u.y]});break;case"A":var x=m,b=y,_=p[3],M=p[4],S=p[5];h=f?n(p[6],p[7],v):{x:p[6],y:p[7]},this.command="A";var w=function(t,e,i,n,r,a,u){var c=l.mod(l.toRadian(u),2*Math.PI),h=t.x,f=t.y,g=e.x,p=e.y,d=Math.cos(c)*(h-g)/2+Math.sin(c)*(f-p)/2,v=-1*Math.sin(c)*(h-g)/2+Math.cos(c)*(f-p)/2,m=d*d/(r*r)+v*v/(a*a);m>1&&(r*=Math.sqrt(m),a*=Math.sqrt(m));var y=r*r*(v*v)+a*a*(d*d),x=Math.sqrt((r*r*(a*a)-y)/y);i===n&&(x*=-1),isNaN(x)&&(x=0);var b=x*r*v/a,_=x*-a*d/r,M=(h+g)/2+Math.cos(c)*b-Math.sin(c)*_,S=(f+p)/2+Math.sin(c)*b+Math.cos(c)*_,w=s([1,0],[(d-b)/r,(v-_)/a]),k=[(d-b)/r,(v-_)/a],C=[(-1*d-b)/r,(-1*v-_)/a],A=s(k,C);return o(k,C)<=-1&&(A=Math.PI),o(k,C)>=1&&(A=0),0===n&&A>0&&(A-=2*Math.PI),1===n&&A<0&&(A+=2*Math.PI),[t,M,S,r,a,w,A,c,n]}(v,h,M,S,x,b,_);this.params=w;var k=e.subStart;this.subStart=k,this.endPoint=h;var C=w[5]%(2*Math.PI);l.isNumberEqual(C,2*Math.PI)&&(C=0);var A=w[6]%(2*Math.PI);l.isNumberEqual(A,2*Math.PI)&&(A=0);var T=.001;this.startTangent=function(){0===S&&(T*=-1);var t=w[3]*Math.cos(C-T)+w[1],e=w[4]*Math.sin(C-T)+w[2];return[t-k.x,e-k.y]},this.endTangent=function(){var t=w[6];t-2*Math.PI<1e-4&&(t=0);var e=w[3]*Math.cos(C+t+T)+w[1],i=w[4]*Math.sin(C+t-T)+w[2];return[v.x-e,v.y-i]};break;case"Z":this.command="Z",this.params=[v,e.subStart],this.subStart=e.subStart,this.endPoint=e.subStart}},isInside:function(t,e,i){var n=this.command,r=this.params,a=this.box;if(a&&!u.box(a.minX,a.maxX,a.minY,a.maxY,t,e))return!1;switch(n){default:break;case"M":return!1;case"TL":case"L":case"Z":return u.line(r[0].x,r[0].y,r[1].x,r[1].y,i,t,e);case"SQ":case"Q":return u.quadraticline(r[0].x,r[0].y,r[1].x,r[1].y,r[2].x,r[2].y,i,t,e);case"C":return u.cubicline(r[0].x,r[0].y,r[1].x,r[1].y,r[2].x,r[2].y,r[3].x,r[3].y,i,t,e);case"A":var o=r,s=o[1],l=o[2],c=o[3],h=o[4],f=o[5],d=o[6],v=o[7],m=o[8],y=c>h?c:h,x=c>h?1:c/h,b=c>h?h/c:1;o=[t,e,1];var _=[1,0,0,0,1,0,0,0,1];return p.translate(_,_,[-s,-l]),p.rotate(_,_,-v),p.scale(_,_,[1/x,1/b]),g.transformMat3(o,o,_),u.arcline(0,0,y,f,f+d,1-m,i,o[0],o[1])}return!1},draw:function(t){var e,i,n,r=this.command,a=this.params;switch(r){default:break;case"M":t.moveTo(a[1].x,a[1].y);break;case"TL":case"L":t.lineTo(a[1].x,a[1].y);break;case"SQ":case"Q":e=a[1],i=a[2],t.quadraticCurveTo(e.x,e.y,i.x,i.y);break;case"C":e=a[1],i=a[2],n=a[3],t.bezierCurveTo(e.x,e.y,i.x,i.y,n.x,n.y);break;case"A":var o=a,s=o[1],l=o[2],u=o[3],c=o[4],h=o[5],f=o[6],g=o[7],p=o[8],d=u>c?u:c,v=u>c?1:u/c,m=u>c?c/u:1;t.translate(s,l),t.rotate(g),t.scale(v,m),t.arc(0,0,d,h,h+f,1-p),t.scale(1/v,1/m),t.rotate(-g),t.translate(-s,-l);break;case"Z":t.closePath()}},getBBox:function(t){var e,i,n,r,a=t/2,o=this.params;switch(this.command){default:case"M":case"Z":break;case"TL":case"L":this.box={minX:Math.min(o[0].x,o[1].x)-a,maxX:Math.max(o[0].x,o[1].x)+a,minY:Math.min(o[0].y,o[1].y)-a,maxY:Math.max(o[0].y,o[1].y)+a};break;case"SQ":case"Q":for(n=0,r=(i=h.extrema(o[0].x,o[1].x,o[2].x)).length;n<r;n++)i[n]=h.at(o[0].x,o[1].x,o[2].x,i[n]);for(i.push(o[0].x,o[2].x),n=0,r=(e=h.extrema(o[0].y,o[1].y,o[2].y)).length;n<r;n++)e[n]=h.at(o[0].y,o[1].y,o[2].y,e);e.push(o[0].y,o[2].y),this.box={minX:Math.min.apply(Math,i)-a,maxX:Math.max.apply(Math,i)+a,minY:Math.min.apply(Math,e)-a,maxY:Math.max.apply(Math,e)+a};break;case"C":for(n=0,r=(i=c.extrema(o[0].x,o[1].x,o[2].x,o[3].x)).length;n<r;n++)i[n]=c.at(o[0].x,o[1].x,o[2].x,o[3].x,i[n]);for(n=0,r=(e=c.extrema(o[0].y,o[1].y,o[2].y,o[3].y)).length;n<r;n++)e[n]=c.at(o[0].y,o[1].y,o[2].y,o[3].y,e[n]);i.push(o[0].x,o[3].x),e.push(o[0].y,o[3].y),this.box={minX:Math.min.apply(Math,i)-a,maxX:Math.max.apply(Math,i)+a,minY:Math.min.apply(Math,e)-a,maxY:Math.max.apply(Math,e)+a};break;case"A":var s=o,l=s[1],u=s[2],g=s[3],p=s[4],d=s[5],v=s[6],m=s[7],y=s[8],x=d,b=d+v,_=f.xExtrema(m,g,p),M=1/0,S=-1/0,w=[x,b];for(n=2*-Math.PI;n<=2*Math.PI;n+=Math.PI){var k=_+n;1===y?x<k&&k<b&&w.push(k):b<k&&k<x&&w.push(k)}for(n=0,r=w.length;n<r;n++){var C=f.xAt(m,g,p,l,w[n]);C<M&&(M=C),C>S&&(S=C)}var A=f.yExtrema(m,g,p),T=1/0,P=-1/0,I=[x,b];for(n=2*-Math.PI;n<=2*Math.PI;n+=Math.PI){var O=A+n;1===y?x<O&&O<b&&I.push(O):b<O&&O<x&&I.push(O)}for(n=0,r=I.length;n<r;n++){var L=f.yAt(m,g,p,u,I[n]);L<T&&(T=L),L>P&&(P=L)}this.box={minX:M-a,maxX:S+a,minY:T-a,maxY:P+a}}}}),t.exports=v},function(t,e,i){"use strict";e.a=function(t,e){return t=+t,e-=t,function(i){return t+e*i}}},function(t,e,i){var n=i(13),r=Array.prototype.indexOf;t.exports=function(t,e){return!!n(t)&&r.call(t,e)>-1}},function(t,e){t.exports=function(t){for(var e=[],i=0;i<t.length;i++)e=e.concat(t[i]);return e}},function(t,e,i){t.exports={mat3:i(51),vec2:i(97),vec3:i(98),transform:i(99)}},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}var a=i(43),o=i(8),s=a.mat3,l=a.vec3,u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var i=this.getDefaultCfg();o(this,i,e),this.init()}return r(t,[{key:"getDefaultCfg",value:function(){return{isTransposed:!1,matrix:[1,0,0,0,1,0,0,0,1]}}}]),r(t,[{key:"init",value:function(){var t=this.start,e=this.end,i={x:(t.x+e.x)/2,y:(t.y+e.y)/2};this.center=i,this.width=Math.abs(e.x-t.x),this.height=Math.abs(e.y-t.y)}},{key:"_swapDim",value:function(t){var e=this[t];if(e){var i=e.start;e.start=e.end,e.end=i}}},{key:"getCenter",value:function(){return this.center}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"convertDim",value:function(t,e){var i=this[e],n=i.start;return n+t*(i.end-n)}},{key:"invertDim",value:function(t,e){var i=this[e],n=i.start;return(t-n)/(i.end-n)}},{key:"convertPoint",value:function(t){return t}},{key:"invertPoint",value:function(t){return t}},{key:"applyMatrix",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=this.matrix,r=[t,e,i];return l.transformMat3(r,r,n),r}},{key:"invertMatrix",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=this.matrix,r=s.invert([],n),a=[t,e,i];return l.transformMat3(a,a,r),a}},{key:"convert",value:function(t){var e=this.convertPoint(t),i=e.x,n=e.y,r=this.applyMatrix(i,n,1);return{x:r[0],y:r[1]}}},{key:"invert",value:function(t){var e=this.invertMatrix(t.x,t.y,1);return this.invertPoint({x:e[0],y:e[1]})}},{key:"rotate",value:function(t){var e=this.matrix,i=this.center;return s.translate(e,e,[-i.x,-i.y]),s.rotate(e,e,t),s.translate(e,e,[i.x,i.y]),this}},{key:"reflect",value:function(t){switch(t){case"x":this._swapDim("x");break;case"y":this._swapDim("y");break;default:this._swapDim("y")}return this}},{key:"scale",value:function(t,e){var i=this.matrix,n=this.center;return s.translate(i,i,[-n.x,-n.y]),s.scale(i,i,[t,e]),s.translate(i,i,[n.x,n.y]),this}},{key:"translate",value:function(t,e){var i=this.matrix;return s.translate(i,i,[t,e]),this}},{key:"transpose",value:function(){return this.isTransposed=!this.isTransposed,this}}]),t}();t.exports=u},,function(t,e,i){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=i(4);t.exports=function t(e){if("object"!==(void 0===e?"undefined":n(e))||null===e)return e;var i=void 0;if(r(e)){i=[];for(var a=0,o=e.length;a<o;a++)"object"===n(e[a])&&null!=e[a]?i[a]=t(e[a]):i[a]=e[a]}else{i={};for(var s in e)"object"===n(e[s])&&null!=e[s]?i[s]=t(e[s]):i[s]=e[s]}return i}},function(t,e,i){function n(t,e,i,s){i=i||0,s=s||o;for(var l in e)if(e.hasOwnProperty(l)){var u=e[l];null!==u&&r(u)?(r(t[l])||(t[l]={}),i<s?n(t[l],u,i+1,s):t[l]=e[l]):a(u)?(t[l]=[],t[l]=t[l].concat(u)):void 0!==u&&(t[l]=u)}}var r=i(26),a=i(4),o=5;t.exports=function(){for(var t=new Array(arguments.length),e=t.length,i=0;i<e;i++)t[i]=arguments[i];for(var r=t[0],a=1;a<e;a++)n(r,t[a]);return r}},function(t,e){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){return"object"===(void 0===t?"undefined":i(t))&&null!==t}},function(t,e,i){var n=i(48),r=i(13),a=i(10);t.exports=function t(e,i){if(e===i)return!0;if(!e||!i)return!1;if(a(e)||a(i))return!1;if(r(e)||r(i)){if(e.length!==i.length)return!1;for(var o=!0,s=0;s<e.length&&(o=t(e[s],i[s]));s++);return o}if(n(e)||n(i)){var l=Object.keys(e),u=Object.keys(i);if(l.length!==u.length)return!1;for(var c=!0,h=0;h<l.length&&(c=t(e[l[h]],i[l[h]]));h++);return c}return!1}},function(t,e){t.exports=function(t,e,i){return t<e?e:t>i?i:t}},function(t,e,i){var n=i(182);n.translate=function(t,e,i){var r=new Array(9);return n.fromTranslation(r,i),n.multiply(t,r,e)},n.rotate=function(t,e,i){var r=new Array(9);return n.fromRotation(r,i),n.multiply(t,r,e)},n.scale=function(t,e,i){var r=new Array(9);return n.fromScaling(r,i),n.multiply(t,r,e)},t.exports=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setMatrixArrayType=function(t){e.ARRAY_TYPE=r=t},e.toRadian=function(t){return t*a},e.equals=function(t,e){return Math.abs(t-e)<=n*Math.max(1,Math.abs(t),Math.abs(e))};var n=e.EPSILON=1e-6,r=e.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,a=(e.RANDOM=Math.random,Math.PI/180)},function(t,e,i){var n;!function(e){"use strict";function r(){}function a(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function o(t){return function(){return this[t].apply(this,arguments)}}function s(t){return"function"==typeof t||t instanceof RegExp||!(!t||"object"!=typeof t)&&s(t.listener)}var l=r.prototype,u=e.EventEmitter;l.getListeners=function(t){var e,i,n=this._getEvents();if(t instanceof RegExp){e={};for(i in n)n.hasOwnProperty(i)&&t.test(i)&&(e[i]=n[i])}else e=n[t]||(n[t]=[]);return e},l.flattenListeners=function(t){var e,i=[];for(e=0;e<t.length;e+=1)i.push(t[e].listener);return i},l.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&((e={})[t]=i),e||i},l.addListener=function(t,e){if(!s(e))throw new TypeError("listener must be a function");var i,n=this.getListenersAsObject(t),r="object"==typeof e;for(i in n)n.hasOwnProperty(i)&&-1===a(n[i],e)&&n[i].push(r?e:{listener:e,once:!1});return this},l.on=o("addListener"),l.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},l.once=o("addOnceListener"),l.defineEvent=function(t){return this.getListeners(t),this},l.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},l.removeListener=function(t,e){var i,n,r=this.getListenersAsObject(t);for(n in r)r.hasOwnProperty(n)&&-1!==(i=a(r[n],e))&&r[n].splice(i,1);return this},l.off=o("removeListener"),l.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},l.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},l.manipulateListeners=function(t,e,i){var n,r,a=t?this.removeListener:this.addListener,o=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(n=i.length;n--;)a.call(this,e,i[n]);else for(n in e)e.hasOwnProperty(n)&&(r=e[n])&&("function"==typeof r?a.call(this,n,r):o.call(this,n,r));return this},l.removeEvent=function(t){var e,i=typeof t,n=this._getEvents();if("string"===i)delete n[t];else if(t instanceof RegExp)for(e in n)n.hasOwnProperty(e)&&t.test(e)&&delete n[e];else delete this._events;return this},l.removeAllListeners=o("removeEvent"),l.emitEvent=function(t,e){var i,n,r,a,o=this.getListenersAsObject(t);for(a in o)if(o.hasOwnProperty(a))for(i=o[a].slice(0),r=0;r<i.length;r++)!0===(n=i[r]).once&&this.removeListener(t,n.listener),n.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,n.listener);return this},l.trigger=o("emitEvent"),l.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},l.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},l._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},l._getEvents=function(){return this._events||(this._events={})},r.noConflict=function(){return e.EventEmitter=u,r},void 0!==(n=function(){return r}.call(e,i,e,t))&&(t.exports=n)}(this||{})},function(t,e,i){var n=i(36),r=i(103),a=i(55),o=i(37);t.exports={line:function(t,e,i,r,a,o,s){var l=n.box(t,e,i,r,a);if(!this.box(l.minX,l.maxX,l.minY,l.maxY,o,s))return!1;var u=n.pointDistance(t,e,i,r,o,s);return!isNaN(u)&&u<=a/2},polyline:function(t,e,i,n){var r=t.length-1;if(r<1)return!1;for(var a=0;a<r;a++){var o=t[a][0],s=t[a][1],l=t[a+1][0],u=t[a+1][1];if(this.line(o,s,l,u,e,i,n))return!0}return!1},cubicline:function(t,e,i,n,r,o,s,l,u,c,h){return a.pointDistance(t,e,i,n,r,o,s,l,c,h)<=u/2},quadraticline:function(t,e,i,n,a,o,s,l,u){return r.pointDistance(t,e,i,n,a,o,l,u)<=s/2},arcline:function(t,e,i,n,r,a,s,l,u){return o.pointDistance(t,e,i,n,r,a,l,u)<=s/2},rect:function(t,e,i,n,r,a){return t<=r&&r<=t+i&&e<=a&&a<=e+n},circle:function(t,e,i,n,r){return Math.pow(n-t,2)+Math.pow(r-e,2)<=Math.pow(i,2)},box:function(t,e,i,n,r,a){return t<=r&&r<=e&&i<=a&&a<=n}}},function(t,e,i){function n(t,e,i,n,r){var a=1-r;return a*a*(a*n+3*r*i)+r*r*(r*t+3*a*e)}function r(t,e,i,r,a,o,l,u,c,h,f){var g,p,d,v,m,y,x,b,_=.005,M=1/0,S=[c,h];for(p=0;p<1;p+=.05)d=[n(t,i,a,l,p),n(e,r,o,u,p)],(v=s.squaredDistance(S,d))<M&&(g=p,M=v);M=1/0;for(var w=0;w<32&&!(_<1e-4);w++)b=g+_,d=[n(t,i,a,l,x=g-_),n(e,r,o,u,x)],v=s.squaredDistance(S,d),x>=0&&v<M?(g=x,M=v):(y=[n(t,i,a,l,b),n(e,r,o,u,b)],m=s.squaredDistance(S,y),b<=1&&m<M?(g=b,M=m):_*=.5);return f&&(f.x=n(t,i,a,l,g),f.y=n(e,r,o,u,g)),Math.sqrt(M)}function a(t,e,i,n,r){return t*(t*(-3*e+9*i-9*n+3*r)+6*e-12*i+6*n)-3*e+3*i}var o=i(1),s=o.vec2;t.exports={at:n,derivativeAt:function(t,e,i,n,r){var a=1-r;return 3*(((e-t)*a+2*(i-e)*r)*a+(n-i)*r*r)},projectPoint:function(t,e,i,n,a,o,s,l,u,c){var h={};return r(t,e,i,n,a,o,s,l,u,c,h),h},pointDistance:r,extrema:function(t,e,i,n){var r,a,s,l=3*t-9*e+9*i-3*n,u=6*e-12*i+6*n,c=3*i-3*n,h=[];if(o.isNumberEqual(l,0))o.isNumberEqual(u,0)||(r=-c/u)>=0&&r<=1&&h.push(r);else{var f=u*u-4*l*c;o.isNumberEqual(f,0)?h.push(-u/(2*l)):f>0&&(a=(-u-(s=Math.sqrt(f)))/(2*l),(r=(-u+s)/(2*l))>=0&&r<=1&&h.push(r),a>=0&&a<=1&&h.push(a))}return h},len:function(t,e,i,n,r,s,l,u,c){o.isNil(c)&&(c=1);for(var h=(c=c>1?1:c<0?0:c)/2,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],g=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,d=0;d<12;d++){var v=h*f[d]+h,m=a(v,t,i,r,l),y=a(v,e,n,s,u),x=m*m+y*y;p+=g[d]*Math.sqrt(x)}return h*p}}},function(t,e,i){var n=i(1),r=i(6),a=i(27),o=i(39),s=function t(e){t.superclass.constructor.call(this,e)};s.Symbols={circle:function(t,e,i){return[["M",t,e],["m",-i,0],["a",i,i,0,1,0,2*i,0],["a",i,i,0,1,0,2*-i,0]]},square:function(t,e,i){return[["M",t-i,e-i],["L",t+i,e-i],["L",t+i,e+i],["L",t-i,e+i],["Z"]]},diamond:function(t,e,i){return[["M",t-i,e],["L",t,e-i],["L",t+i,e],["L",t,e+i],["Z"]]},triangle:function(t,e,i){var n=i*Math.sin(1/3*Math.PI);return[["M",t-i,e+n],["L",t,e-n],["L",t+i,e+n],["z"]]},"triangle-down":function(t,e,i){var n=i*Math.sin(1/3*Math.PI);return[["M",t-i,e-n],["L",t+i,e-n],["L",t,e+n],["Z"]]}},s.ATTRS={path:null,lineWidth:1},n.extend(s,r),n.augment(s,{type:"marker",canFill:!0,canStroke:!0,getDefaultAttrs:function(){return{x:0,y:0,lineWidth:1}},calculateBox:function(){var t=this._attrs,e=t.x,i=t.y,n=t.radius,r=this.getHitLineWidth()/2+n;return{minX:e-r,minY:i-r,maxX:e+r,maxY:i+r}},_getPath:function(){var t,e=this._attrs,i=e.x,r=e.y,a=e.radius||e.r,o=e.symbol||"circle";return(t=n.isFunction(o)?o:s.Symbols[o])?t(i,r,a):(console.warn(o+" marker is not supported."),null)},createPath:function(t){var e=this._cfg.segments;if(!e||this._cfg.hasUpdate){var i=a.parsePath(this._getPath());t.beginPath();var n;e=[];for(var r=0;r<i.length;r++){var s=i[r];n=new o(s,n,r===i.length-1),e.push(n),n.draw(t)}this._cfg.segments=e,this._cfg.hasUpdate=!1}else{t.beginPath();for(var l=0;l<e.length;l++)e[l].draw(t)}}}),t.exports=s},function(t,e,i){function n(t,e){function i(t,e){if(1===t.length)n.push(t[0]),r.push(t[0]);else{for(var a=[],o=0;o<t.length-1;o++)0===o&&n.push(t[0]),o===t.length-2&&r.push(t[o+1]),a[o]=[(1-e)*t[o][0]+e*t[o+1][0],(1-e)*t[o][1]+e*t[o+1][1]];i(a,e)}}var n=[],r=[];return t.length&&i(t,e),{left:n,right:r.reverse()}}function r(t,e,i){var n=null,r=i;return e<r&&(r=e,n="add"),t<r&&(r=t,n="del"),{type:n,min:r}}function a(t,e,i){for(var n,r=[].concat(t),a=1/(i+1),s=o(e)[0],l=1;l<=i;l++)a*=l,0===(n=Math.floor(t.length*a))?r.unshift([s[0]*a+t[n][0]*(1-a),s[1]*a+t[n][1]*(1-a)]):r.splice(n,0,[s[0]*a+t[n][0]*(1-a),s[1]*a+t[n][1]*(1-a)]);return r}function o(t){var e=[];switch(t[0]){case"M":case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}var s=i(81),l="\t\n\v\f\r   ᠎             　\u2028\u2029",u=new RegExp("([a-z])["+l+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+l+"]*,?["+l+"]*)+)","ig"),c=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+l+"]*,?["+l+"]*","ig"),h=function(t){if(!t)return null;if(typeof t==typeof[])return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},i=[];return String(t).replace(u,function(t,n,r){var a=[],o=n.toLowerCase();if(r.replace(c,function(t,e){e&&a.push(+e)}),"m"===o&&a.length>2&&(i.push([n].concat(a.splice(0,2))),o="l",n="m"===n?"l":"L"),"o"===o&&1===a.length&&i.push([n,a[0]]),"r"===o)i.push([n].concat(a));else for(;a.length>=e[o]&&(i.push([n].concat(a.splice(0,e[o]))),e[o]););}),i},f=function(t,e){for(var i=[],n=0,r=t.length;r-2*!e>n;n+=2){var a=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?r-4===n?a[3]={x:+t[0],y:+t[1]}:r-2===n&&(a[2]={x:+t[0],y:+t[1]},a[3]={x:+t[2],y:+t[3]}):a[0]={x:+t[r-2],y:+t[r-1]}:r-4===n?a[3]=a[2]:n||(a[0]={x:+t[n],y:+t[n+1]}),i.push(["C",(-a[0].x+6*a[1].x+a[2].x)/6,(-a[0].y+6*a[1].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y])}return i},g=function(t,e,i,n,r){var a=[];if(null===r&&null===n&&(n=i),t=+t,e=+e,i=+i,n=+n,null!==r){var o=Math.PI/180,s=t+i*Math.cos(-n*o),l=t+i*Math.cos(-r*o);a=[["M",s,e+i*Math.sin(-n*o)],["A",i,i,0,+(r-n>180),0,l,e+i*Math.sin(-r*o)]]}else a=[["M",t,e],["m",0,-n],["a",i,n,0,1,1,0,2*n],["a",i,n,0,1,1,0,-2*n],["z"]];return a},p=function(t){if(!(t=h(t))||!t.length)return[["M",0,0]];var e,i,n=[],r=0,a=0,o=0,s=0,l=0;"M"===t[0][0]&&(o=r=+t[0][1],s=a=+t[0][2],l++,n[0]=["M",r,a]);for(var u,c,p=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),d=l,v=t.length;d<v;d++){if(n.push(u=[]),c=t[d],(e=c[0])!==e.toUpperCase())switch(u[0]=e.toUpperCase(),u[0]){case"A":u[1]=c[1],u[2]=c[2],u[3]=c[3],u[4]=c[4],u[5]=c[5],u[6]=+c[6]+r,u[7]=+c[7]+a;break;case"V":u[1]=+c[1]+a;break;case"H":u[1]=+c[1]+r;break;case"R":for(var m=2,y=(i=[r,a].concat(c.slice(1))).length;m<y;m++)i[m]=+i[m]+r,i[++m]=+i[m]+a;n.pop(),n=n.concat(f(i,p));break;case"O":n.pop(),(i=g(r,a,c[1],c[2])).push(i[0]),n=n.concat(i);break;case"U":n.pop(),n=n.concat(g(r,a,c[1],c[2],c[3])),u=["U"].concat(n[n.length-1].slice(-2));break;case"M":o=+c[1]+r,s=+c[2]+a;break;default:for(var x=1,b=c.length;x<b;x++)u[x]=+c[x]+(x%2?r:a)}else if("R"===e)i=[r,a].concat(c.slice(1)),n.pop(),n=n.concat(f(i,p)),u=["R"].concat(c.slice(-2));else if("O"===e)n.pop(),(i=g(r,a,c[1],c[2])).push(i[0]),n=n.concat(i);else if("U"===e)n.pop(),n=n.concat(g(r,a,c[1],c[2],c[3])),u=["U"].concat(n[n.length-1].slice(-2));else for(var _=0,M=c.length;_<M;_++)u[_]=c[_];if("O"!==(e=e.toUpperCase()))switch(u[0]){case"Z":r=+o,a=+s;break;case"H":r=u[1];break;case"V":a=u[1];break;case"M":o=u[u.length-2],s=u[u.length-1];break;default:r=u[u.length-2],a=u[u.length-1]}}return n},d=function(t,e,i,n){return[t,e,i,n,i,n]},v=function(t,e,i,n,r,a){return[1/3*t+2/3*i,1/3*e+2/3*n,1/3*r+2/3*i,1/3*a+2/3*n,r,a]},m=function(t,e){var i,n=p(t),r=e&&p(e),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=[],l=[],u="",c="",h=function(t,e,i){var n,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(function t(e,i,n,r,a,o,s,l,u,c){n===r&&(n+=1);var h,f,g,p,d,v=120*Math.PI/180,m=Math.PI/180*(+a||0),y=[],x=function(t,e,i){return{x:t*Math.cos(i)-e*Math.sin(i),y:t*Math.sin(i)+e*Math.cos(i)}};if(c)f=c[0],g=c[1],p=c[2],d=c[3];else{e=(h=x(e,i,-m)).x,i=h.y,l=(h=x(l,u,-m)).x,u=h.y,e===l&&i===u&&(l+=1,u+=1);var b=(e-l)/2,_=(i-u)/2,M=b*b/(n*n)+_*_/(r*r);M>1&&(n*=M=Math.sqrt(M),r*=M);var S=n*n,w=r*r,k=(o===s?-1:1)*Math.sqrt(Math.abs((S*w-S*_*_-w*b*b)/(S*_*_+w*b*b)));p=k*n*_/r+(e+l)/2,d=k*-r*b/n+(i+u)/2,f=Math.asin(((i-d)/r).toFixed(9)),g=Math.asin(((u-d)/r).toFixed(9)),f=e<p?Math.PI-f:f,g=l<p?Math.PI-g:g,f<0&&(f=2*Math.PI+f),g<0&&(g=2*Math.PI+g),s&&f>g&&(f-=2*Math.PI),!s&&g>f&&(g-=2*Math.PI)}var C=g-f;if(Math.abs(C)>v){var A=g,T=l,P=u;g=f+v*(s&&g>f?1:-1),y=t(l=p+n*Math.cos(g),u=d+r*Math.sin(g),n,r,a,0,s,T,P,[g,A,p,d])}C=g-f;var I=Math.cos(f),O=Math.sin(f),L=Math.cos(g),E=Math.sin(g),D=Math.tan(C/4),F=4/3*n*D,B=4/3*r*D,R=[e,i],N=[e+F*O,i-B*I],j=[l+F*E,u-B*L],Y=[l,u];if(N[0]=2*R[0]-N[0],N[1]=2*R[1]-N[1],c)return[N,j,Y].concat(y);for(var z=[],H=0,V=(y=[N,j,Y].concat(y).join().split(",")).length;H<V;H++)z[H]=H%2?x(y[H-1],y[H],m).y:x(y[H],y[H+1],m).x;return z}.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"===i||"S"===i?(n=2*e.x-e.bx,r=2*e.y-e.by):(n=e.x,r=e.y),t=["C",n,r].concat(t.slice(1));break;case"T":"Q"===i||"T"===i?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(v(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(v(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(d(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(d(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(d(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(d(e.x,e.y,e.X,e.Y))}return t},f=function(t,e){if(t[e].length>7){t[e].shift();for(var a=t[e];a.length;)s[e]="A",r&&(l[e]="A"),t.splice(e++,0,["C"].concat(a.splice(0,6)));t.splice(e,1),i=Math.max(n.length,r&&r.length||0)}},g=function(t,e,a,o,s){t&&e&&"M"===t[s][0]&&"M"!==e[s][0]&&(e.splice(s,0,["M",o.x,o.y]),a.bx=0,a.by=0,a.x=t[s][1],a.y=t[s][2],i=Math.max(n.length,r&&r.length||0))};i=Math.max(n.length,r&&r.length||0);for(var m=0;m<i;m++){n[m]&&(u=n[m][0]),"C"!==u&&(s[m]=u,m&&(c=s[m-1])),n[m]=h(n[m],a,c),"A"!==s[m]&&"C"===u&&(s[m]="C"),f(n,m),r&&(r[m]&&(u=r[m][0]),"C"!==u&&(l[m]=u,m&&(c=l[m-1])),r[m]=h(r[m],o,c),"A"!==l[m]&&"C"===u&&(l[m]="C"),f(r,m)),g(n,r,a,o,m),g(r,n,o,a,m);var y=n[m],x=r&&r[m],b=y.length,_=r&&x.length;a.x=y[b-2],a.y=y[b-1],a.bx=parseFloat(y[b-4])||a.x,a.by=parseFloat(y[b-3])||a.y,o.bx=r&&(parseFloat(x[_-4])||o.x),o.by=r&&(parseFloat(x[_-3])||o.y),o.x=r&&x[_-2],o.y=r&&x[_-1]}return r?[n,r]:n},y=/,?([a-z]),?/gi,x=function(t){return t.join(",").replace(y,"$1")},b=function(t,e,i,n,r){return t*(t*(-3*e+9*i-9*n+3*r)+6*e-12*i+6*n)-3*e+3*i},_=function(t,e,i,n,r,a,o,s,l){null===l&&(l=1);for(var u=(l=l>1?1:l<0?0:l)/2,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,g=0;g<12;g++){var p=u*c[g]+u,d=b(p,t,i,r,o),v=b(p,e,n,a,s),m=d*d+v*v;f+=h[g]*Math.sqrt(m)}return u*f},M=function(t,e,i,n,r,a,o,s){if(!(Math.max(t,i)<Math.min(r,o)||Math.min(t,i)>Math.max(r,o)||Math.max(e,n)<Math.min(a,s)||Math.min(e,n)>Math.max(a,s))){var l=(t-i)*(a-s)-(e-n)*(r-o);if(l){var u=((t*n-e*i)*(r-o)-(t-i)*(r*s-a*o))/l,c=((t*n-e*i)*(a-s)-(e-n)*(r*s-a*o))/l,h=+u.toFixed(2),f=+c.toFixed(2);if(!(h<+Math.min(t,i).toFixed(2)||h>+Math.max(t,i).toFixed(2)||h<+Math.min(r,o).toFixed(2)||h>+Math.max(r,o).toFixed(2)||f<+Math.min(e,n).toFixed(2)||f>+Math.max(e,n).toFixed(2)||f<+Math.min(a,s).toFixed(2)||f>+Math.max(a,s).toFixed(2)))return{x:u,y:c}}}},S=function(t,e,i){return e>=t.x&&e<=t.x+t.width&&i>=t.y&&i<=t.y+t.height},w=function(t,e,i,n,r){if(r)return[["M",+t+ +r,e],["l",i-2*r,0],["a",r,r,0,0,1,r,r],["l",0,n-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-i,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-n],["a",r,r,0,0,1,r,-r],["z"]];var a=[["M",t,e],["l",i,0],["l",0,n],["l",-i,0],["z"]];return a.parsePathArray=x,a},k=function(t,e,i,n){return null===t&&(t=e=i=n=0),null===e&&(e=t.y,i=t.width,n=t.height,t=t.x),{x:t,y:e,width:i,w:i,height:n,h:n,x2:t+i,y2:e+n,cx:t+i/2,cy:e+n/2,r1:Math.min(i,n)/2,r2:Math.max(i,n)/2,r0:Math.sqrt(i*i+n*n)/2,path:w(t,e,i,n),vb:[t,e,i,n].join(" ")}},C=function(t,e,i,n,r,a,o,l){s.isArray(t)||(t=[t,e,i,n,r,a,o,l]);var u=function(t,e,i,n,r,a,o,s){for(var l,u,c,h,f=[],g=[[],[]],p=0;p<2;++p)if(0===p?(u=6*t-12*i+6*r,l=-3*t+9*i-9*r+3*o,c=3*i-3*t):(u=6*e-12*n+6*a,l=-3*e+9*n-9*a+3*s,c=3*n-3*e),Math.abs(l)<1e-12){if(Math.abs(u)<1e-12)continue;(h=-c/u)>0&&h<1&&f.push(h)}else{var d=u*u-4*c*l,v=Math.sqrt(d);if(!(d<0)){var m=(-u+v)/(2*l);m>0&&m<1&&f.push(m);var y=(-u-v)/(2*l);y>0&&y<1&&f.push(y)}}for(var x,b=f.length,_=b;b--;)x=1-(h=f[b]),g[0][b]=x*x*x*t+3*x*x*h*i+3*x*h*h*r+h*h*h*o,g[1][b]=x*x*x*e+3*x*x*h*n+3*x*h*h*a+h*h*h*s;return g[0][_]=t,g[1][_]=e,g[0][_+1]=o,g[1][_+1]=s,g[0].length=g[1].length=_+2,{min:{x:Math.min.apply(0,g[0]),y:Math.min.apply(0,g[1])},max:{x:Math.max.apply(0,g[0]),y:Math.max.apply(0,g[1])}}}.apply(null,t);return k(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)},A=function(t,e,i,n,r,a,o,s,l){var u=1-l,c=Math.pow(u,3),h=Math.pow(u,2),f=l*l,g=f*l,p=t+2*l*(i-t)+f*(r-2*i+t),d=e+2*l*(n-e)+f*(a-2*n+e),v=i+2*l*(r-i)+f*(o-2*r+i),m=n+2*l*(a-n)+f*(s-2*a+n);return{x:c*t+3*h*l*i+3*u*l*l*r+g*o,y:c*e+3*h*l*n+3*u*l*l*a+g*s,m:{x:p,y:d},n:{x:v,y:m},start:{x:u*t+l*i,y:u*e+l*n},end:{x:u*r+l*o,y:u*a+l*s},alpha:90-180*Math.atan2(p-v,d-m)/Math.PI}},T=function(t,e,i){if(!function(t,e){return t=k(t),e=k(e),S(e,t.x,t.y)||S(e,t.x2,t.y)||S(e,t.x,t.y2)||S(e,t.x2,t.y2)||S(t,e.x,e.y)||S(t,e.x2,e.y)||S(t,e.x,e.y2)||S(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}(C(t),C(e)))return i?0:[];for(var n=~~(_.apply(0,t)/8),r=~~(_.apply(0,e)/8),a=[],o=[],s={},l=i?0:[],u=0;u<n+1;u++){var c=A.apply(0,t.concat(u/n));a.push({x:c.x,y:c.y,t:u/n})}for(var h=0;h<r+1;h++){var f=A.apply(0,e.concat(h/r));o.push({x:f.x,y:f.y,t:h/r})}for(var g=0;g<n;g++)for(var p=0;p<r;p++){var d=a[g],v=a[g+1],m=o[p],y=o[p+1],x=Math.abs(v.x-d.x)<.001?"y":"x",b=Math.abs(y.x-m.x)<.001?"y":"x",w=M(d.x,d.y,v.x,v.y,m.x,m.y,y.x,y.y);if(w){if(s[w.x.toFixed(4)]===w.y.toFixed(4))continue;s[w.x.toFixed(4)]=w.y.toFixed(4);var T=d.t+Math.abs((w[x]-d[x])/(v[x]-d[x]))*(v.t-d.t),P=m.t+Math.abs((w[b]-m[b])/(y[b]-m[b]))*(y.t-m.t);T>=0&&T<=1&&P>=0&&P<=1&&(i?l++:l.push({x:w.x,y:w.y,t1:T,t2:P}))}}return l},P=function(t,e,i){if(1===i)return[[].concat(t)];var r=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])r=r.concat(function(t,e,i){var r=[[t[1],t[2]]];i=i||2;var a=[];"A"===e[0]?(r.push(e[6]),r.push(e[7])):"C"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]]),r.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]])):r.push([e[1],e[2]]);for(var o=r,s=1/i,l=0;l<i-1;l++){var u=n(o,s/(1-s*l));a.push(u.left),o=u.right}return a.push(o),a.map(function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e=e.concat(t[t.length-1])})}(t,e,i));else{var a=[].concat(t);"M"===a[0]&&(a[0]="L");for(var o=0;o<=i-1;o++)r.push(a)}return r},I=function(t,e){if(t.length!==e.length)return!1;var i=!0;return s.each(t,function(t,n){if(t!==e[n])return i=!1,!1}),i};t.exports={parsePathString:h,parsePathArray:x,pathTocurve:m,pathToAbsolute:p,catmullRomToBezier:f,rectPath:w,fillPath:function(t,e){if(1===t.length)return t;var i=t.length-1,n=e.length-1,r=i/n,a=[];if(1===t.length&&"M"===t[0][0]){for(var o=0;o<n-i;o++)t.push(t[0]);return t}for(var s=0;s<n;s++){var l=Math.floor(r*s);a[l]=(a[l]||0)+1}var u=a.reduce(function(e,n,r){return r===i?e.concat(t[i]):e.concat(P(t[r],t[r+1],n))},[]);return u.unshift(t[0]),"Z"!==e[n]&&"z"!==e[n]||u.push("Z"),u},fillPathByDiff:function(t,e){var i=function(t,e){var i,n,a=t.length,o=e.length,s=0;if(0===a||0===o)return null;for(var l=[],u=0;u<=a;u++)l[u]=[],l[u][0]={min:u};for(var c=0;c<=o;c++)l[0][c]={min:c};for(var h=1;h<=a;h++){i=t[h-1];for(var f=1;f<=o;f++){n=e[f-1],s=I(i,n)?0:1;var g=l[h-1][f].min+1,p=l[h][f-1].min+1,d=l[h-1][f-1].min+s;l[h][f]=r(g,p,d)}}return l}(t,e),n=t.length,a=e.length,o=[],s=1,l=1;if(i[n][a]!==n){for(var u=1;u<=n;u++){var c=i[u][u].min;l=u;for(var h=s;h<=a;h++)i[u][h].min<c&&(c=i[u][h].min,l=h);s=l,i[u][s].type&&o.push({index:u-1,type:i[u][s].type})}for(var f=o.length-1;f>=0;f--)s=o[f].index,"add"===o[f].type?t.splice(s,0,[].concat(t[s])):t.splice(s,1)}var g=a-(n=t.length);if(n<a)for(var p=0;p<g;p++)"z"===t[n-1][0]||"Z"===t[n-1][0]?t.splice(n-2,0,t[n-2]):t.push(t[n-1]),n+=1;return t},formatPath:function(t,e){if(t.length<=1)return t;for(var i,n=0;n<e.length;n++)if(t[n][0]!==e[n][0])switch(i=o(t[n]),e[n][0]){case"M":t[n]=["M"].concat(i[0]);break;case"L":t[n]=["L"].concat(i[0]);break;case"A":t[n]=[].concat(e[n]),t[n][6]=i[0][0],t[n][7]=i[0][1];break;case"Q":if(i.length<2){if(!(n>0)){t[n]=e[n];break}i=a(i,t[n-1],1)}t[n]=["Q"].concat(i.reduce(function(t,e){return t.concat(e)},[]));break;case"T":t[n]=["T"].concat(i[0]);break;case"C":if(i.length<3){if(!(n>0)){t[n]=e[n];break}i=a(i,t[n-1],2)}t[n]=["C"].concat(i.reduce(function(t,e){return t.concat(e)},[]));break;case"S":if(i.length<2){if(!(n>0)){t[n]=e[n];break}i=a(i,t[n-1],1)}t[n]=["S"].concat(i.reduce(function(t,e){return t.concat(e)},[]));break;default:t[n]=e[n]}return t},intersection:function(t,e){return function(t,e,i){t=m(t),e=m(e);for(var n,r,a,o,s,l,u,c,h,f,g=i?0:[],p=0,d=t.length;p<d;p++){var v=t[p];if("M"===v[0])n=s=v[1],r=l=v[2];else{"C"===v[0]?(n=(h=[n,r].concat(v.slice(1)))[6],r=h[7]):(h=[n,r,n,r,s,l,s,l],n=s,r=l);for(var y=0,x=e.length;y<x;y++){var b=e[y];if("M"===b[0])a=u=b[1],o=c=b[2];else{"C"===b[0]?(a=(f=[a,o].concat(b.slice(1)))[6],o=f[7]):(f=[a,o,a,o,u,c,u,c],a=u,o=c);var _=T(h,f,i);if(i)g+=_;else{for(var M=0,S=_.length;M<S;M++)_[M].segment1=p,_[M].segment2=y,_[M].bez1=h,_[M].bez2=f;g=g.concat(_)}}}}}return g}(t,e)}}},function(t,e,i){"use strict";function n(){return y||(_(r),y=b.now()+x)}function r(){y=0}function a(){this._call=this._time=this._next=null}function o(t,e,i){var n=new a;return n.restart(t,e,i),n}function s(){n(),++g;for(var t,e=h;e;)(t=y-e._time)>=0&&e._call.call(null,t),e=e._next;--g}function l(){y=(m=b.now())+x,g=p=0;try{s()}finally{g=0,function(){var t,e,i=h,n=1/0;for(;i;)i._call?(n>i._time&&(n=i._time),t=i,i=i._next):(e=i._next,i._next=null,i=t?t._next=e:h=e);f=t,c(n)}(),y=0}}function u(){var t=b.now(),e=t-m;e>v&&(x-=e,m=t)}function c(t){if(!g){p&&(p=clearTimeout(p));t-y>24?(t<1/0&&(p=setTimeout(l,t-b.now()-x)),d&&(d=clearInterval(d))):(d||(m=b.now(),d=setInterval(u,v)),g=1,_(l))}}e.b=n,e.a=a,e.c=o,e.d=s;var h,f,g=0,p=0,d=0,v=1e3,m=0,y=0,x=0,b="object"==typeof performance&&performance.now?performance:Date,_="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};a.prototype=o.prototype={constructor:a,restart:function(t,e,i){if("function"!=typeof t)throw new TypeError("callback is not a function");i=(null==i?n():+i)+(null==e?0:+e),this._next||f===this||(f?f._next=this:h=this,f=this),this._call=t,this._time=i,c()},stop:function(){this._call&&(this._call=null,this._time=1/0,c())}}},function(t,e,i){"use strict";var n=i(19),r=i(119),a=i(122),o=i(123),s=i(40),l=i(124),u=i(125),c=i(121);e.a=function(t,e){var i,h=typeof e;return null==e||"boolean"===h?Object(c.a)(e):("number"===h?s.a:"string"===h?(i=Object(n.a)(e))?(e=i,r.a):u.a:e instanceof n.a?r.a:e instanceof Date?o.a:Array.isArray(e)?a.a:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?l.a:s.a)(t,e)}},function(t,e,i){"use strict";function n(){}function r(t){var e;return t=(t+"").trim().toLowerCase(),(e=b.exec(t))?(e=parseInt(e[1],16),new u(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=_.exec(t))?a(parseInt(e[1],16)):(e=M.exec(t))?new u(e[1],e[2],e[3],1):(e=S.exec(t))?new u(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=w.exec(t))?o(e[1],e[2],e[3],e[4]):(e=k.exec(t))?o(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=C.exec(t))?c(e[1],e[2]/100,e[3]/100,1):(e=A.exec(t))?c(e[1],e[2]/100,e[3]/100,e[4]):T.hasOwnProperty(t)?a(T[t]):"transparent"===t?new u(NaN,NaN,NaN,0):null}function a(t){return new u(t>>16&255,t>>8&255,255&t,1)}function o(t,e,i,n){return n<=0&&(t=e=i=NaN),new u(t,e,i,n)}function s(t){return t instanceof n||(t=r(t)),t?(t=t.rgb(),new u(t.r,t.g,t.b,t.opacity)):new u}function l(t,e,i,n){return 1===arguments.length?s(t):new u(t,e,i,null==n?1:n)}function u(t,e,i,n){this.r=+t,this.g=+e,this.b=+i,this.opacity=+n}function c(t,e,i,n){return n<=0?t=e=i=NaN:i<=0||i>=1?t=e=NaN:e<=0&&(t=NaN),new f(t,e,i,n)}function h(t,e,i,a){return 1===arguments.length?function(t){if(t instanceof f)return new f(t.h,t.s,t.l,t.opacity);if(t instanceof n||(t=r(t)),!t)return new f;if(t instanceof f)return t;var e=(t=t.rgb()).r/255,i=t.g/255,a=t.b/255,o=Math.min(e,i,a),s=Math.max(e,i,a),l=NaN,u=s-o,c=(s+o)/2;return u?(l=e===s?(i-a)/u+6*(i<a):i===s?(a-e)/u+2:(e-i)/u+4,u/=c<.5?s+o:2-s-o,l*=60):u=c>0&&c<1?0:l,new f(l,u,c,t.opacity)}(t):new f(t,e,i,null==a?1:a)}function f(t,e,i,n){this.h=+t,this.s=+e,this.l=+i,this.opacity=+n}function g(t,e,i){return 255*(t<60?e+(i-e)*t/60:t<180?i:t<240?e+(i-e)*(240-t)/60:e)}e.a=n,i.d(e,"d",function(){return d}),i.d(e,"c",function(){return v}),e.e=r,e.h=s,e.g=l,e.b=u,e.f=h;var p=i(61),d=.7,v=1/d,m="\\s*([+-]?\\d+)\\s*",y="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",x="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",b=/^#([0-9a-f]{3})$/,_=/^#([0-9a-f]{6})$/,M=new RegExp("^rgb\\("+[m,m,m]+"\\)$"),S=new RegExp("^rgb\\("+[x,x,x]+"\\)$"),w=new RegExp("^rgba\\("+[m,m,m,y]+"\\)$"),k=new RegExp("^rgba\\("+[x,x,x,y]+"\\)$"),C=new RegExp("^hsl\\("+[y,x,x]+"\\)$"),A=new RegExp("^hsla\\("+[y,x,x,y]+"\\)$"),T={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object(p.a)(n,r,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Object(p.a)(u,l,Object(p.b)(n,{brighter:function(t){return t=null==t?v:Math.pow(v,t),new u(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?d:Math.pow(d,t),new u(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Object(p.a)(f,h,Object(p.b)(n,{brighter:function(t){return t=null==t?v:Math.pow(v,t),new f(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?d:Math.pow(d,t),new f(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,n=i+(i<.5?i:1-i)*e,r=2*i-n;return new u(g(t>=240?t-240:t+120,r,n),g(t,r,n),g(t<120?t+240:t-120,r,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}))},function(t,e,i){"use strict";e.b=function(t,e){var i=Object.create(t.prototype);for(var n in e)i[n]=e[n];return i},e.a=function(t,e,i){t.prototype=e.prototype=i,i.constructor=t}},function(t,e,i){"use strict";function n(t,e,i,n,r){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*i+(1+3*t+3*a-3*o)*n+o*r)/6}e.a=n,e.b=function(t){var e=t.length-1;return function(i){var r=i<=0?i=0:i>=1?(i=1,e-1):Math.floor(i*e),a=t[r],o=t[r+1],s=r>0?t[r-1]:2*a-o,l=r<e-1?t[r+2]:2*o-a;return n((i-r/e)*e,s,a,o,l)}}},function(t,e,i){var n=i(2),r=i(13);t.exports=function(t,e){if(!r(t))return t;var i=[];return n(t,function(t,n){e(t,n)&&i.push(t)}),i}},function(t,e,i){var n=i(5),r=i(4),a=i(2);t.exports=function(t,e){for(var i=[],o={},s=0;s<t.length;s++){var l=t[s][e];n(l)||(r(l)||(l=[l]),a(l,function(t){o[t]||(i.push(t),o[t]=!0)}))}return i}},function(t,e,i){var n=i(16).Group,r=i(21).Label,a=i(7),o=i(0),s=["line","point","path"],l=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){return{label:a.label,labelCfg:null,coord:null,geomType:null,zIndex:6}},i._renderUI=function(){t.prototype._renderUI.call(this),this.initLabelsCfg();var e=this.addGroup(),i=this.addGroup({elCls:"x-line-group"}),n=this.get("labelRenderer");this.set("labelsGroup",e),this.set("lineGroup",i),this.get("labelRenderer").set("group",e),n.set("group",e),n.set("lineGroup",i)},i.initLabelsCfg=function(){var t=new r,e=this.getDefaultLabelCfg(),i=this.get("labelCfg");o.deepMix(e,i.globalCfg||i.cfg),t.set("config",!1),e.labelLine&&t.set("labelLine",e.labelLine),t.set("coord",this.get("coord")),this.set("labelRenderer",t),this.set("label",e)},i.getDefaultLabelCfg=function(){var t=this.get("labelCfg").cfg||this.get("labelCfg").globalCfg,e=this.get("geomType"),i=this.get("viewTheme")||a;return"polygon"===e||t&&t.offset<0&&-1===o.indexOf(s,e)?o.deepMix({},this.get("label"),i.innerLabels,t):o.deepMix({},this.get("label"),i.label,t)},i.getLabelsItems=function(t,e){var i=this,n=[],r=i.get("geom"),a=i.get("coord");i._getLabelCfgs(t,e);var s=i.get("labelItemCfgs");return o.each(t,function(t,e){var l=t._origin,u=s[e];if(u){o.isArray(u.text)||(u.text=[u.text]);var c=u.length;o.each(u.text,function(e,s){if(o.isNil(e)||""===e)n.push(null);else{var h=i.getLabelPoint(u,t,s);(h=o.mix({},u,h)).textAlign||(h.textAlign=i.getLabelAlign(h,s,c)),r&&(h._id=r._getShapeId(l)+"-glabel-"+s+"-"+h.text),h.coord=a,n.push(h)}})}else n.push(null)}),n},i.adjustItems=function(t){return o.each(t,function(t){t&&(t.offsetX&&(t.x+=t.offsetX),t.offsetY&&(t.y+=t.offsetY))}),t},i.drawLines=function(t){var e=this;o.each(t,function(t){t&&t.offset>0&&e.lineToLabel(t)})},i.lineToLabel=function(){},i.getLabelPoint=function(t,e,i){function n(e,i){return o.isArray(e)&&(e=1===t.text.length?e.length<=2?e[e.length-1]:function(t){var e=0;return o.each(t,function(t){e+=t}),e/t.length}(e):e[i]),e}var r=this.get("coord"),a=t.text.length,s={text:t.text[i]};if(e&&"polygon"===this.get("geomType")){var l=function(t,e){if(o.isNumber(t)&&o.isNumber(e))return[t,e];for(var i,n,r=-1,a=0,s=0,l=t.length-1,u=0;++r<t.length;)i=l,l=r,u+=n=t[i]*e[l]-t[l]*e[i],a+=(t[i]+t[l])*n,s+=(e[i]+e[l])*n;return u*=3,[a/u,s/u]}(e.x,e.y);s.x=l[0],s.y=l[1]}else s.x=n(e.x,i),s.y=n(e.y,i);if(e&&e.nextPoints&&("funnel"===e.shape||"pyramid"===e.shape)){var u=-1/0;e.nextPoints.forEach(function(t){(t=r.convert(t)).x>u&&(u=t.x)}),s.x=(s.x+u)/2}"pyramid"===e.shape&&!e.nextPoints&&e.points&&e.points.forEach(function(t){t=r.convert(t),(o.isArray(t.x)&&-1===e.x.indexOf(t.x)||o.isNumber(t.x)&&e.x!==t.x)&&(s.x=(s.x+t.x)/2)}),t.position&&this.setLabelPosition(s,e,i,t.position);var c=this.getLabelOffset(t,i,a);return t.offsetX&&(c.x+=t.offsetX),t.offsetY&&(c.y+=t.offsetY),this.transLabelPoint(s),s.start={x:s.x,y:s.y},s.x+=c.x,s.y+=c.y,s.color=e.color,s},i.setLabelPosition=function(){},i.transLabelPoint=function(t){var e=this.get("coord").applyMatrix(t.x,t.y,1);t.x=e[0],t.y=e[1]},i.getOffsetVector=function(t){var e=t.offset||0,i=this.get("coord");return i.isTransposed?i.applyMatrix(e,0):i.applyMatrix(0,e)},i.getDefaultOffset=function(t){var e=this.get("coord"),i=this.getOffsetVector(t);return e.isTransposed?i[0]:i[1]},i.getLabelOffset=function(t,e,i){var n=this.getDefaultOffset(t),r=this.get("coord").isTransposed,a=r?"x":"y",o=r?1:-1,s={x:0,y:0};return s[a]=e>0||1===i?n*o:n*o*-1,s},i.getLabelAlign=function(t,e,i){var n="center";if(this.get("coord").isTransposed){var r=this.getDefaultOffset(t);n=r<0?"right":0===r?"center":"left",i>1&&0===e&&("right"===n?n="left":"left"===n&&(n="right"))}return n},i._getLabelValue=function(t,e){o.isArray(e)||(e=[e]);var i=[];return o.each(e,function(e){var n=t[e.field];if(o.isArray(n)){var r=[];o.each(n,function(t){r.push(e.getText(t))}),n=r}else n=e.getText(n);(o.isNil(n)||""===n)&&i.push(null),i.push(n)}),i},i._getLabelCfgs=function(t){var e=this,i=this.get("labelCfg"),n=i.scales,r=this.get("label"),s=e.get("viewTheme")||a,l=[];i.globalCfg&&i.globalCfg.type&&e.set("type",i.globalCfg.type),o.each(t,function(t,a){var u={},c=t._origin,h=e._getLabelValue(c,n);if(i.callback){var f=n.map(function(t){return c[t.field]});u=i.callback.apply(null,f.concat([t,a]))}if(u||0===u){if(o.isString(u)||o.isNumber(u)?u={text:u}:(u.text=u.content||h[0],delete u.content),u=o.mix({},r,i.globalCfg||{},u),t.point=c,u.point=c,u.htmlTemplate&&(u.useHtml=!0,u.text=u.htmlTemplate.call(null,u.text,t,a),delete u.htmlTemplate),u.formatter&&(u.text=u.formatter.call(null,u.text,t,a),delete u.formatter),u.label){var g=u.label;delete u.label,u=o.mix(u,g)}if(u.textStyle){delete u.textStyle.offset;var p=u.textStyle;o.isFunction(p)&&(u.textStyle=p.call(null,u.text,t,a))}u.labelLine&&(u.labelLine=o.mix({},r.labelLine,u.labelLine)),u.textStyle=o.mix({},r.textStyle,s.label.textStyle,u.textStyle),delete u.items,l.push(u)}else l.push(null)}),this.set("labelItemCfgs",l)},i.showLabels=function(t,e){var i=this.get("labelRenderer"),n=this.getLabelsItems(t,e);e=[].concat(e);var r=this.get("type");n=this.adjustItems(n,e),this.drawLines(n),i.set("items",n.filter(function(t,i){return!!t||(e.splice(i,1),!1)})),r&&(i.set("shapes",e),i.set("type",r),i.set("points",t)),i.set("canvas",this.get("canvas")),i.draw()},i.destroy=function(){this.get("labelRenderer").destroy(),t.prototype.destroy.call(this)},e}(n);t.exports=l},function(t,e,i){function n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var r=i(53),a=i(3),o=function(t){function e(e){var i,r=n(n(i=t.call(this)||this)),o={visible:!0},s=r.getDefaultCfg();return r._attrs=o,a.deepMix(o,s,e),i}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){return{}},i.get=function(t){return this._attrs[t]},i.set=function(t,e){this._attrs[t]=e},i.changeVisible=function(){},i.destroy=function(){this._attrs={},this.removeAllListeners(),this.destroyed=!0},e}(r);t.exports=o},function(t,e,i){var n=i(3),r=i(158),a=i(327),o=i(14).FONT_FAMILY,s=n.Event,l=n.Group,u=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return n.mix({},e,{type:"continuous-legend",items:null,layout:"vertical",width:20,height:156,textStyle:{fill:"#333",textAlign:"center",textBaseline:"middle",stroke:"#fff",lineWidth:5,fontFamily:o},hoverTextStyle:{fill:"rgba(0,0,0,0.25)"},slidable:!0,triggerAttr:{fill:"#fff",shadowBlur:10,shadowColor:"rgba(0,0,0,0.65)",radius:2},_range:[0,100],middleBackgroundStyle:{fill:"#D9D9D9"},textOffset:4,lineStyle:{lineWidth:1,stroke:"#fff"},pointerStyle:{fill:"rgb(230, 230, 230)"}})},i._calStartPoint=function(){var t={x:10,y:this.get("titleGap")-8},e=this.get("titleShape");if(e){var i=e.getBBox();t.y+=i.height}return t},i.beforeRender=function(){var e=this.get("items");n.isArray(e)&&!n.isEmpty(e)&&(t.prototype.beforeRender.call(this),this.set("firstItem",e[0]),this.set("lastItem",e[e.length-1]))},i._formatItemValue=function(t){var e=this.get("formatter")||this.get("itemFormatter");return e&&(t=e.call(this,t)),t},i.render=function(){t.prototype.render.call(this),this.get("slidable")?this._renderSlider():this._renderUnslidable()},i._renderSlider=function(){var t=new l,e=new l,i=new l,n=this._calStartPoint(),r=this.get("group").addGroup(a,{minHandleElement:t,maxHandleElement:e,backgroundElement:i,layout:this.get("layout"),range:this.get("_range"),width:this.get("width"),height:this.get("height")});r.translate(n.x,n.y),this.set("slider",r);this._renderSliderShape().attr("clip",r.get("middleHandleElement")),this._renderTrigger()},i._addMiddleBar=function(t,e,i){return t.addShape(e,{attrs:n.mix({},i,this.get("middleBackgroundStyle"))}),t.addShape(e,{attrs:i})},i._renderTrigger=function(){var t=this.get("firstItem"),e=this.get("lastItem"),i=this.get("layout"),r=this.get("textStyle"),a=this.get("triggerAttr"),o=n.mix({},a),s=n.mix({},a),l=n.mix({text:this._formatItemValue(t.value)+""},r),u=n.mix({text:this._formatItemValue(e.value)+""},r);"vertical"===i?(this._addVerticalTrigger("min",o,l),this._addVerticalTrigger("max",s,u)):(this._addHorizontalTrigger("min",o,l),this._addHorizontalTrigger("max",s,u))},i._addVerticalTrigger=function(t,e,i){var r=this.get("slider").get(t+"HandleElement"),a=this.get("width"),o=r.addShape("rect",{attrs:n.mix({x:a/2-8-2,y:"min"===t?0:-8,width:18,height:8},e)}),s=r.addShape("text",{attrs:n.mix(i,{x:a+this.get("textOffset"),y:"max"===t?-4:4,textAlign:"start",lineHeight:1,textBaseline:"middle"})}),l="vertical"===this.get("layout")?"ns-resize":"ew-resize";o.attr("cursor",l),s.attr("cursor",l),this.set(t+"ButtonElement",o),this.set(t+"TextElement",s)},i._addHorizontalTrigger=function(t,e,i){var r=this.get("slider").get(t+"HandleElement"),a=r.addShape("rect",{attrs:n.mix({x:"min"===t?-8:0,y:-8-this.get("height")/2,width:8,height:16},e)}),o=r.addShape("text",{attrs:n.mix(i,{x:"min"===t?-12:12,y:4+this.get("textOffset")+10,textAlign:"min"===t?"end":"start",textBaseline:"middle"})}),s="vertical"===this.get("layout")?"ns-resize":"ew-resize";a.attr("cursor",s),o.attr("cursor",s),this.set(t+"ButtonElement",a),this.set(t+"TextElement",o)},i._bindEvents=function(){var t=this;if(this.get("slidable")){this.get("slider").on("sliderchange",function(e){var i=e.range,n=t.get("firstItem").value,r=t.get("lastItem").value,a=n+i[0]/100*(r-n),o=n+i[1]/100*(r-n);t._updateElement(a,o);var l=new s("itemfilter",e,!0,!0);l.range=[a,o],t.emit("itemfilter",l)})}this.get("hoverable")&&(this.get("group").on("mousemove",n.wrapBehavior(this,"_onMouseMove")),this.get("group").on("mouseleave",n.wrapBehavior(this,"_onMouseLeave")))},i._updateElement=function(t,e){var i=this.get("minTextElement"),n=this.get("maxTextElement");e>1&&(t=parseInt(t,10),e=parseInt(e,10)),i.attr("text",this._formatItemValue(t)+""),n.attr("text",this._formatItemValue(e)+"")},i._onMouseLeave=function(){var t=this.get("group").findById("hoverPointer");t&&t.destroy();var e=this.get("group").findById("hoverText");e&&e.destroy(),this.get("canvas").draw()},i._onMouseMove=function(t){var e,i=this.get("height"),n=this.get("width"),r=this.get("items"),a=this.get("canvas").get("el").getBoundingClientRect(),o=this.get("group").getBBox();if("vertical"===this.get("layout")){var s=5;"color-legend"===this.get("type")&&(s=30);var l=this.get("titleGap"),u=this.get("titleShape");u&&(l+=u.getBBox().maxY-u.getBBox().minY);var c=t.clientY||t.event.clientY;c=c-a.y-this.get("group").attr("matrix")[7]+o.y-s+l,e=r[0].value+(1-c/i)*(r[r.length-1].value-r[0].value)}else{var h=t.clientX||t.event.clientX;h=h-a.x-this.get("group").attr("matrix")[6],e=r[0].value+h/n*(r[r.length-1].value-r[0].value)}e=e.toFixed(2),this.activate(e),this.emit("mousehover",{value:e})},i.activate=function(t){if(t){var e=this.get("group").findById("hoverPointer"),i=this.get("group").findById("hoverText"),r=this.get("items");if(!(t<r[0].value||t>r[r.length-1].value)){var a,o=this.get("height"),s=this.get("width"),l=this.get("titleShape"),u=this.get("titleGap"),c=[],h=(t-r[0].value)/(r[r.length-1].value-r[0].value);if("vertical"===this.get("layout")){var f=0,g=0;"color-legend"===this.get("type")&&(f=u,l&&(f+=l.getBBox().height)),this.get("slidable")&&("color-legend"===this.get("type")?f-=13:(f=u-15,l&&(f+=l.getBBox().height)),g+=10),c=[[g,(h=(1-h)*o)+f],[g-10,h+f-5],[g-10,h+f+5]],a=n.mix({},{x:s+this.get("textOffset")/2+g,y:h+f,text:this._formatItemValue(t)+""},this.get("textStyle"),{textAlign:"start"})}else{var p=0,d=0;"color-legend"===this.get("type")&&(p=u,l&&(p+=l.getBBox().height)),this.get("slidable")&&("color-legend"===this.get("type")?p-=7:(p=u,l||(p-=7)),d+=10),c=[[(h*=s)+d,p],[h+d-5,p-10],[h+d+5,p-10]],a=n.mix({},{x:h-5,y:o+this.get("textOffset")+p,text:this._formatItemValue(t)+""},this.get("textStyle"))}var v=n.mix(a,this.get("hoverTextStyle"));i?i.attr(v):(i=this.get("group").addShape("text",{attrs:v})).set("id","hoverText"),e?e.attr(n.mix({points:c},this.get("pointerStyle"))):(e=this.get("group").addShape("Polygon",{attrs:n.mix({points:c},this.get("pointerStyle"))})).set("id","hoverPointer"),this.get("canvas").draw()}}},i.deactivate=function(){var t=this.get("group").findById("hoverPointer");t&&t.destroy();var e=this.get("group").findById("hoverText");e&&e.destroy(),this.get("canvas").draw()},e}(r);t.exports=u},function(t,e,i){var n=i(66),r=i(3),a=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{x:0,y:0,items:null,titleContent:null,showTitle:!0,plotRange:null,offset:10,timeStamp:0,inPlot:!0,crosshairs:null})},i.isContentChange=function(t,e){var i=this.get("titleContent"),n=this.get("items"),a=!(t===i&&n.length===e.length);return a||r.each(e,function(t,e){var i=n[e];for(var o in t)if(t.hasOwnProperty(o)&&!r.isObject(t[o])&&t[o]!==i[o]){a=!0;break}if(a)return!1}),a},i.setContent=function(t,e){var i=(new Date).valueOf();return this.set("items",e),this.set("titleContent",t),this.set("timeStamp",i),this.render(),this},i.setPosition=function(t,e){this.set("x",t),this.set("y",e)},i.render=function(){},i.clear=function(){},i.show=function(){this.set("visible",!0)},i.hide=function(){this.set("visible",!1)},i.destroy=function(){},e}(n);t.exports=a},,,function(t,e,i){var n=i(10),r=i(80);t.exports={toTimeStamp:function(t){return n(t)&&(t=t.indexOf("T")>0?new Date(t).getTime():new Date(t.replace(/-/gi,"/")).getTime()),r(t)&&(t=t.getTime()),t}}},,function(t,e,i){t.exports={Position:i(292),Color:i(293),Shape:i(294),Size:i(295),Opacity:i(296),ColorUtil:i(149)}},function(t,e,i){var n=i(75),r=i(17);r.Linear=i(33),r.Identity=i(175),r.Cat=i(77),r.Time=i(176),r.TimeCat=i(178),r.Log=i(179),r.Pow=i(180);var a=function(t){if(r.hasOwnProperty(t)){var e=n(t);r[e]=function(e){return new r[t](e)}}};for(var o in r)a(o);var s=["cat","timeCat"];r.isCategory=function(t){return s.indexOf(t)>=0},t.exports=r},function(t,e,i){var n=i(23);t.exports=function(t){var e=n(t);return e.charAt(0).toLowerCase()+e.substring(1)}},function(t,e){function i(t,e){var i=t.length;if(0===i)return NaN;var n=t[0];if(e<t[0])return NaN;if(e>=t[i-1])return t[i-1];for(var r=1;r<t.length&&!(e<t[r]);r++)n=t[r];return n}function n(t,e){var i=t.length;if(0===i)return NaN;var n;if(e>t[i-1])return NaN;if(e<t[0])return t[0];for(var r=1;r<t.length;r++)if(e<=t[r]){n=t[r];break}return n}var r=12,a={snapFactorTo:function(t,e,i){if(isNaN(t))return NaN;var n=1;if(0!==t){t<0&&(n=-1);var o=function(t){var e=1;if(t===1/0||t===-1/0)throw new Error("Not support Infinity!");if(t<1){for(var i=0;t<1;)e/=10,t*=10,i++;e.toString().length>r&&(e=parseFloat(e.toFixed(i)))}else for(;t>10;)e*=10,t/=10;return e}(t*=n);n*=o,t/=o}t="floor"===i?a.snapFloor(e,t):"ceil"===i?a.snapCeiling(e,t):a.snapTo(e,t);var s=parseFloat((t*n).toPrecision(r));if(Math.abs(n)<1&&s.toString().length>r){s=t/parseInt(1/n)*(n>0?1:-1)}return s},snapMultiple:function(t,e,i){return("ceil"===i?Math.ceil(t/e):"floor"===i?Math.floor(t/e):Math.round(t/e))*e},snapTo:function(t,e){var r=i(t,e),a=n(t,e);if(isNaN(r)||isNaN(a)){if(t[0]>=e)return t[0];var o=t[t.length-1];if(o<=e)return o}return Math.abs(e-r)<Math.abs(a-e)?r:a},snapFloor:function(t,e){return i(t,e)},snapCeiling:function(t,e){return n(t,e)},fixedBase:function(t,e){var i=e.toString(),n=i.indexOf(".");if(-1===n)return Math.round(t);var r=i.substr(n+1).length;return r>20&&(r=20),parseFloat(t.toFixed(r))}};t.exports=a},function(t,e,i){var n=i(17),r=i(78),a=i(2),o=i(9),s=i(10),l=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.type="cat",this.isCategory=!0,this.isRounding=!0},i.init=function(){var t=this.values,e=this.tickCount;if(a(t,function(e,i){t[i]=e.toString()}),!this.ticks){var i=t;if(e){i=r({maxCount:e,data:t,isRounding:this.isRounding}).ticks}this.ticks=i}},i.getText=function(e){return-1===this.values.indexOf(e)&&o(e)&&(e=this.values[Math.round(e)]),t.prototype.getText.call(this,e)},i.translate=function(t){var e=this.values.indexOf(t);return-1===e&&o(t)?e=t:-1===e&&(e=NaN),e},i.scale=function(t){var e,i=this.rangeMin(),n=this.rangeMax();return(s(t)||-1!==this.values.indexOf(t))&&(t=this.translate(t)),e=this.values.length>1?t/(this.values.length-1):t,i+e*(n-i)},i.invert=function(t){if(s(t))return t;var e=this.rangeMin(),i=this.rangeMax();t<e&&(t=e),t>i&&(t=i);var n=(t-e)/(i-e),r=Math.round(n*(this.values.length-1))%this.values.length;return r=r||0,this.values[r]},e}(n);n.Cat=l,t.exports=l},function(t,e,i){var n=i(2);t.exports=function(t){var e,i={},r=[],a=t.isRounding,o=function(t){var e=[];return n(t,function(t){e=e.concat(t)}),e}(t.data),s=o.length,l=t.maxCount||8;if(a?2===(e=function(t,e){var i;for(i=e;i>0&&t%i!=0;i--);if(1===i)for(i=e;i>0&&(t-1)%i!=0;i--);return i}(s-1,l-1)+1)?e=l:e<l-4&&(e=l-4):e=l,!a&&s<=e+e/2)r=[].concat(o);else{for(var u=parseInt(s/(e-1),10),c=o.map(function(t,e){return e%u==0?o.slice(e,e+u):null}).filter(function(t){return t}),h=1,f=c.length;h<f&&(a?h*u<s-u:h<e-1);h++)r.push(c[h][0]);if(o.length){r.unshift(o[0]);var g=o[s-1];-1===r.indexOf(g)&&r.push(g)}}return i.categories=o,i.ticks=r,i}},function(t,e,i){var n;!function(r){"use strict";function a(t,e){for(var i=[],n=0,r=t.length;n<r;n++)i.push(t[n].substr(0,e));return i}function o(t){return function(e,i,n){var r=n[t].indexOf(i.charAt(0).toUpperCase()+i.substr(1).toLowerCase());~r&&(e.month=r)}}function s(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}var l={},u=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,c=/\d\d?/,h=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,f=/\[([^]*?)\]/gm,g=function(){},p=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d=["January","February","March","April","May","June","July","August","September","October","November","December"],v=a(d,3),m=a(p,3);l.i18n={dayNamesShort:m,dayNames:p,monthNamesShort:v,monthNames:d,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!=10)*t%10]}};var y={D:function(t){return t.getDate()},DD:function(t){return s(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return t.getDay()},dd:function(t){return s(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return t.getMonth()+1},MM:function(t){return s(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return String(t.getFullYear()).substr(2)},YYYY:function(t){return s(t.getFullYear(),4)},h:function(t){return t.getHours()%12||12},hh:function(t){return s(t.getHours()%12||12)},H:function(t){return t.getHours()},HH:function(t){return s(t.getHours())},m:function(t){return t.getMinutes()},mm:function(t){return s(t.getMinutes())},s:function(t){return t.getSeconds()},ss:function(t){return s(t.getSeconds())},S:function(t){return Math.round(t.getMilliseconds()/100)},SS:function(t){return s(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return s(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+s(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)}},x={D:[c,function(t,e){t.day=e}],Do:[new RegExp(c.source+h.source),function(t,e){t.day=parseInt(e,10)}],M:[c,function(t,e){t.month=e-1}],YY:[c,function(t,e){var i=+(""+(new Date).getFullYear()).substr(0,2);t.year=""+(e>68?i-1:i)+e}],h:[c,function(t,e){t.hour=e}],m:[c,function(t,e){t.minute=e}],s:[c,function(t,e){t.second=e}],YYYY:[/\d{4}/,function(t,e){t.year=e}],S:[/\d/,function(t,e){t.millisecond=100*e}],SS:[/\d{2}/,function(t,e){t.millisecond=10*e}],SSS:[/\d{3}/,function(t,e){t.millisecond=e}],d:[c,g],ddd:[h,g],MMM:[h,o("monthNamesShort")],MMMM:[h,o("monthNames")],a:[h,function(t,e,i){var n=e.toLowerCase();n===i.amPm[0]?t.isPm=!1:n===i.amPm[1]&&(t.isPm=!0)}],ZZ:[/([\+\-]\d\d:?\d\d|Z)/,function(t,e){"Z"===e&&(e="+00:00");var i,n=(e+"").match(/([\+\-]|\d\d)/gi);n&&(i=60*n[1]+parseInt(n[2],10),t.timezoneOffset="+"===n[0]?i:-i)}]};x.dd=x.d,x.dddd=x.ddd,x.DD=x.D,x.mm=x.m,x.hh=x.H=x.HH=x.h,x.MM=x.M,x.ss=x.s,x.A=x.a,l.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},l.format=function(t,e,i){var n=i||l.i18n;if("number"==typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date in fecha.format");var r=[];return e=(e=l.masks[e]||e||l.masks.default).replace(f,function(t,e){return r.push(e),"??"}),(e=e.replace(u,function(e){return e in y?y[e](t,n):e.slice(1,e.length-1)})).replace(/\?\?/g,function(){return r.shift()})},l.parse=function(t,e,i){var n=i||l.i18n;if("string"!=typeof e)throw new Error("Invalid format in fecha.parse");if(e=l.masks[e]||e,t.length>1e3)return!1;var r=!0,a={};if(e.replace(u,function(e){if(x[e]){var i=x[e],o=t.search(i[0]);~o?t.replace(i[0],function(e){return i[1](a,e,n),t=t.substr(o+e.length),e}):r=!1}return x[e]?"":e.slice(1,e.length-1)}),!r)return!1;var o=new Date;!0===a.isPm&&null!=a.hour&&12!=+a.hour?a.hour=+a.hour+12:!1===a.isPm&&12==+a.hour&&(a.hour=0);var s;return null!=a.timezoneOffset?(a.minute=+(a.minute||0)-+a.timezoneOffset,s=new Date(Date.UTC(a.year||o.getFullYear(),a.month||0,a.day||1,a.hour||0,a.minute||0,a.second||0,a.millisecond||0))):s=new Date(a.year||o.getFullYear(),a.month||0,a.day||1,a.hour||0,a.minute||0,a.second||0,a.millisecond||0),s},void 0!==t&&t.exports?t.exports=l:void 0!==(n=function(){return l}.call(e,i,e,t))&&(t.exports=n)}()},function(t,e,i){var n=i(12);t.exports=function(t){return n(t,"Date")}},function(t,e,i){t.exports={isFunction:i(11),isObject:i(24),isBoolean:i(82),isNil:i(5),isString:i(10),isArray:i(4),isNumber:i(9),isEmpty:i(83),uniqueId:i(86),clone:i(46),deepMix:i(47),assign:i(8),merge:i(47),upperFirst:i(87),each:i(2),isEqual:i(49),toArray:i(34),extend:i(88),augment:i(89),remove:i(90),isNumberEqual:i(35),toRadian:i(91),toDegree:i(92),mod:i(93),clamp:i(50),createDom:i(94),modifyCSS:i(95),requestAnimationFrame:i(96),getRatio:function(){return window.devicePixelRatio?window.devicePixelRatio:2},mat3:i(51),vec2:i(97),vec3:i(98),transform:i(99)}},function(t,e,i){var n=i(12);t.exports=function(t){return n(t,"Boolean")}},function(t,e,i){var n=i(5),r=i(13),a=i(84),o=i(85),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(n(t))return!0;if(r(t))return!t.length;var e=a(t);if("Map"===e||"Set"===e)return!t.size;if(o(t))return!Object.keys(t).length;for(var i in t)if(s.call(t,i))return!1;return!0}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).replace(/^\[object /,"").replace(/\]$/,"")}},function(t,e){var i=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||i)}},function(t,e){var i=function(){var t={};return function(e){return e=e||"g",t[e]?t[e]+=1:t[e]=1,e+t[e]}}();t.exports=i},function(t,e,i){var n=i(23);t.exports=function(t){var e=n(t);return e.charAt(0).toUpperCase()+e.substring(1)}},function(t,e,i){var n=i(11),r=i(8);t.exports=function(t,e,i,a){n(e)||(i=e,e=t,t=function(){});var o=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function i(){}i.prototype=t;var n=new i;return n.constructor=e,n},s=o(e.prototype,t);return t.prototype=r(s,t.prototype),t.superclass=o(e.prototype,e),r(s,i),r(t,a),t}},function(t,e,i){var n=i(11),r=i(34),a=i(8);t.exports=function(t){for(var e=r(arguments),i=1;i<e.length;i++){var o=e[i];n(o)&&(o=o.prototype),a(t.prototype,o)}}},function(t,e){var i=Array.prototype,n=i.splice,r=i.indexOf,a=i.slice;t.exports=function(t){for(var e=a.call(arguments,1),i=0;i<e.length;i++)for(var o=e[i],s=-1;(s=r.call(t,o))>-1;)n.call(t,s,1);return t}},function(t,e){var i=Math.PI/180;t.exports=function(t){return i*t}},function(t,e){var i=180/Math.PI;t.exports=function(t){return i*t}},function(t,e){t.exports=function(t,e){return(t%e+e)%e}},function(t,e){var i=document.createElement("table"),n=document.createElement("tr"),r=/^\s*<(\w+|!)[^>]*>/,a={tr:document.createElement("tbody"),tbody:i,thead:i,tfoot:i,td:n,th:n,"*":document.createElement("div")};t.exports=function(t){var e=r.test(t)&&RegExp.$1;e in a||(e="*");var i=a[e];t=t.replace(/(^\s*)|(\s*$)/g,""),i.innerHTML=""+t;var n=i.childNodes[0];return i.removeChild(n),n}},function(t,e){t.exports=function(t,e){if(t)for(var i in e)e.hasOwnProperty(i)&&(t.style[i]=e[i]);return t}},function(t,e){t.exports=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}},function(t,e,i){var n=i(183),r=i(50);n.angle=function(t,e){var i=n.dot(t,e)/(n.length(t)*n.length(e));return Math.acos(r(i,-1,1))},n.direction=function(t,e){return t[0]*e[1]-e[0]*t[1]},n.angleTo=function(t,e,i){var r=n.angle(t,e),a=n.direction(t,e)>=0;return i?a?2*Math.PI-r:r:a?r:2*Math.PI-r},n.vertical=function(t,e,i){return i?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t},t.exports=n},function(t,e,i){var n=i(184);t.exports=n},function(t,e,i){var n=i(46),r=i(2),a=i(51);t.exports=function(t,e){return t=n(t),r(e,function(e){switch(e[0]){case"t":a.translate(t,t,[e[1],e[2]]);break;case"s":a.scale(t,t,[e[1],e[2]]);break;case"r":a.rotate(t,t,e[1]);break;case"m":a.multiply(t,t,e[1]);break;default:return!1}}),t}},function(t,e,i){var n=i(1),r=function(t,e,i,n){this.type=t,this.target=null,this.currentTarget=null,this.bubbles=i,this.cancelable=n,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.removed=!1,this.event=e};n.augment(r,{preventDefault:function(){this.defaultPrevented=this.cancelable&&!0},stopPropagation:function(){this.propagationStopped=!0},remove:function(){this.remove=!0},clone:function(){return n.clone(this)},toString:function(){return"[Event (type="+this.type+")]"}}),t.exports=r},function(t,e,i){function n(t,e,i){for(var n,r=t.length-1;r>=0;r--){var a=t[r];if(a._cfg.visible&&a._cfg.capture&&(a.isGroup?n=a.getShape(e,i):a.isHit(e,i)&&(n=a)),n)break}return n}function r(t){if(!t._cfg&&t!==c){var e=t.superclass.constructor;e&&!e._cfg&&r(e),t._cfg={},a.merge(t._cfg,e._cfg),a.merge(t._cfg,t.CFG)}}var a=i(1),o=i(102),s=i(188),l={},u="_INDEX",c=function t(e){t.superclass.constructor.call(this,e),this.set("children",[]),this.set("tobeRemoved",[]),this._beforeRenderUI(),this._renderUI(),this._bindUI()};a.extend(c,o),a.augment(c,{isGroup:!0,type:"group",canFill:!0,canStroke:!0,getDefaultCfg:function(){return r(this.constructor),a.merge({},this.constructor._cfg)},_beforeRenderUI:function(){},_renderUI:function(){},_bindUI:function(){},addShape:function(t,e){var i=this.get("canvas");e=e||{};var n=l[t];if(n||(n=a.upperFirst(t),l[t]=n),e.attrs&&i){var r=e.attrs;if("text"===t){var o=i.get("fontFamily");o&&(r.fontFamily=r.fontFamily?r.fontFamily:o)}}e.canvas=i,e.type=t;var u=new s[n](e);return this.add(u),u},addGroup:function(t,e){var i,n=this.get("canvas");if(e=a.merge({},e),a.isFunction(t))e?(e.canvas=n,e.parent=this,i=new t(e)):i=new t({canvas:n,parent:this}),this.add(i);else if(a.isObject(t))t.canvas=n,i=new c(t),this.add(i);else{if(void 0!==t)return!1;i=new c,this.add(i)}return i},renderBack:function(t,e){var i=this.get("backShape"),n=this.getBBox();return a.merge(e,{x:n.minX-t[3],y:n.minY-t[0],width:n.width+t[1]+t[3],height:n.height+t[0]+t[2]}),i?i.attr(e):i=this.addShape("rect",{zIndex:-1,attrs:e}),this.set("backShape",i),this.sort(),i},removeChild:function(t,e){if(arguments.length>=2)this.contain(t)&&t.remove(e);else{if(1===arguments.length){if(!a.isBoolean(t))return this.contain(t)&&t.remove(!0),this;e=t}0===arguments.length&&(e=!0),c.superclass.remove.call(this,e)}return this},add:function(t){var e=this,i=e.get("children");if(a.isArray(t))a.each(t,function(t){var i=t.get("parent");i&&i.removeChild(t,!1),e._setCfgProperty(t)}),e._cfg.children=i.concat(t);else{var n=t,r=n.get("parent");r&&r.removeChild(n,!1),e._setCfgProperty(n),i.push(n)}return e},_setCfgProperty:function(t){var e=this._cfg;t.set("parent",this),t.set("canvas",e.canvas),e.timeline&&t.set("timeline",e.timeline)},contain:function(t){return this.get("children").indexOf(t)>-1},getChildByIndex:function(t){return this.get("children")[t]},getFirst:function(){return this.getChildByIndex(0)},getLast:function(){var t=this.get("children").length-1;return this.getChildByIndex(t)},getBBox:function(){var t=1/0,e=-1/0,i=1/0,n=-1/0,r=this.get("children");r.length>0?a.each(r,function(r){if(r.get("visible")){if(r.isGroup&&0===r.get("children").length)return;var a=r.getBBox();if(!a)return!0;var o=[a.minX,a.minY,1],s=[a.minX,a.maxY,1],l=[a.maxX,a.minY,1],u=[a.maxX,a.maxY,1];r.apply(o),r.apply(s),r.apply(l),r.apply(u);var c=Math.min(o[0],s[0],l[0],u[0]),h=Math.max(o[0],s[0],l[0],u[0]),f=Math.min(o[1],s[1],l[1],u[1]),g=Math.max(o[1],s[1],l[1],u[1]);c<t&&(t=c),h>e&&(e=h),f<i&&(i=f),g>n&&(n=g)}}):(t=0,e=0,i=0,n=0);var o={minX:t,minY:i,maxX:e,maxY:n};return o.x=o.minX,o.y=o.minY,o.width=o.maxX-o.minX,o.height=o.maxY-o.minY,o},getCount:function(){return this.get("children").length},sort:function(){var t=this.get("children");return a.each(t,function(t,e){return t[u]=e,t}),t.sort(function(t){return function(e,i){var n=t(e,i);return 0===n?e[u]-i[u]:n}}(function(t,e){return t.get("zIndex")-e.get("zIndex")})),this},findById:function(t){return this.find(function(e){return e.get("id")===t})},find:function(t){if(a.isString(t))return this.findById(t);var e=this.get("children"),i=null;return a.each(e,function(e){if(t(e)?i=e:e.find&&(i=e.find(t)),i)return!1}),i},findAll:function(t){var e=this.get("children"),i=[],n=[];return a.each(e,function(e){t(e)&&i.push(e),e.findAllBy&&(n=e.findAllBy(t),i=i.concat(n))}),i},findBy:function(t){var e=this.get("children"),i=null;return a.each(e,function(e){if(t(e)?i=e:e.findBy&&(i=e.findBy(t)),i)return!1}),i},findAllBy:function(t){var e=this.get("children"),i=[],n=[];return a.each(e,function(e){t(e)&&i.push(e),e.findAllBy&&(n=e.findAllBy(t),i=i.concat(n))}),i},getShape:function(t,e){var i,r=this._attrs.clip,a=this._cfg.children;if(r){var o=[t,e,1];r.invert(o,this.get("canvas")),r.isPointInPath(o[0],o[1])&&(i=n(a,t,e))}else i=n(a,t,e);return i},clearTotalMatrix:function(){if(this.get("totalMatrix")){this.setSilent("totalMatrix",null);for(var t=this._cfg.children,e=0;e<t.length;e++){t[e].clearTotalMatrix()}}},clear:function(t){for(var e=this._cfg.children,i=e.length-1;i>=0;i--)e[i].remove(!0,t);return this._cfg.children=[],this},destroy:function(){this.get("destroyed")||(this.clear(),c.superclass.destroy.call(this))},clone:function(){var t=this._cfg.children,e=new c;return a.each(t,function(t){e.add(t.clone())}),e}}),t.exports=c},function(t,e,i){var n=i(1),r=i(185),a=i(186),o=i(187),s=i(53),l=function(t){this._cfg={zIndex:0,capture:!0,visible:!0,destroyed:!1},n.assign(this._cfg,this.getDefaultCfg(),t),this.initAttrs(this._cfg.attrs),this._cfg.attrs={},this.initTransform(),this.init()};l.CFG={id:null,zIndex:0,canvas:null,parent:null,capture:!0,context:null,visible:!0,destroyed:!1},n.augment(l,r,a,s,o,{init:function(){this.setSilent("animable",!0),this.setSilent("animating",!1)},getParent:function(){return this._cfg.parent},getDefaultCfg:function(){return{}},set:function(t,e){return"zIndex"===t&&this._beforeSetZIndex&&this._beforeSetZIndex(e),"loading"===t&&this._beforeSetLoading&&this._beforeSetLoading(e),this._cfg[t]=e,this},setSilent:function(t,e){this._cfg[t]=e},get:function(t){return this._cfg[t]},show:function(){return this._cfg.visible=!0,this},hide:function(){return this._cfg.visible=!1,this},remove:function(t,e){var i=this._cfg,r=i.parent,a=i.el;return r&&n.remove(r.get("children"),this),a&&(e?r&&r._cfg.tobeRemoved.push(a):a.parentNode.removeChild(a)),(t||void 0===t)&&this.destroy(),this},destroy:function(){this.get("destroyed")||(this._attrs=null,this.removeEvent(),this._cfg={destroyed:!0})},toFront:function(){var t=this._cfg,e=t.parent;if(e){var i=e._cfg.children,n=t.el,r=i.indexOf(this);i.splice(r,1),i.push(this),n&&(n.parentNode.removeChild(n),t.el=null)}},toBack:function(){var t=this._cfg,e=t.parent;if(e){var i=e._cfg.children,n=t.el,r=i.indexOf(this);if(i.splice(r,1),i.unshift(this),n){var a=n.parentNode;a.removeChild(n),a.insertBefore(n,a.firstChild)}}},_beforeSetZIndex:function(t){var e=this._cfg.parent;this._cfg.zIndex=t,n.isNil(e)||e.sort();var i=this._cfg.el;if(i){var r=e._cfg.children,a=r.indexOf(this),o=i.parentNode;o.removeChild(i),a===r.length-1?o.appendChild(i):o.insertBefore(i,o.childNodes[a])}return t},_setAttrs:function(t){return this.attr(t),t},setZIndex:function(t){return this._cfg.zIndex=t,this._beforeSetZIndex(t)},clone:function(){return n.clone(this)},getBBox:function(){}}),t.exports=l},function(t,e,i){function n(t,e,i,n){var r=1-n;return r*(r*t+2*n*e)+n*n*i}function r(t,e,i,r,a,s,l,u,c){var h,f,g,p,d,v,m,y=.005,x=1/0,b=[l,u];for(d=0;d<1;d+=.05)g=[n(t,i,a,d),n(e,r,s,d)],(f=o.squaredDistance(b,g))<x&&(h=d,x=f);for(x=1/0,m=0;m<32&&!(y<1e-4);m++){var _=h-y,M=h+y;g=[n(t,i,a,_),n(e,r,s,_)],f=o.squaredDistance(b,g),_>=0&&f<x?(h=_,x=f):(p=[n(t,i,a,M),n(e,r,s,M)],v=o.squaredDistance(b,p),M<=1&&v<x?(h=M,x=v):y*=.5)}return c&&(c.x=n(t,i,a,h),c.y=n(e,r,s,h)),Math.sqrt(x)}var a=i(1),o=a.vec2;t.exports={at:n,projectPoint:function(t,e,i,n,a,o,s,l){var u={};return r(t,e,i,n,a,o,s,l,u),u},pointDistance:r,extrema:function(t,e,i){var n=t+i-2*e;if(a.isNumberEqual(n,0))return[.5];var r=(t-e)/n;return r<=1&&r>=0?[r]:[]}}},function(t,e){t.exports={xAt:function(t,e,i,n,r){return e*Math.cos(t)*Math.cos(r)-i*Math.sin(t)*Math.sin(r)+n},yAt:function(t,e,i,n,r){return e*Math.sin(t)*Math.cos(r)+i*Math.cos(t)*Math.sin(r)+n},xExtrema:function(t,e,i){return Math.atan(-i/e*Math.tan(t))},yExtrema:function(t,e,i){return Math.atan(i/(e*Math.tan(t)))}}},function(t,e,i){function n(t,e,i){return t+e*Math.cos(i)}function r(t,e,i){return t+e*Math.sin(i)}var a=i(1),o=i(6),s=i(37),l=i(38),u=function t(e){t.superclass.constructor.call(this,e)};u.ATTRS={x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1},a.extend(u,o),a.augment(u,{canStroke:!0,type:"arc",getDefaultAttrs:function(){return{x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var t=this._attrs,e=t.x,i=t.y,n=t.r,r=t.startAngle,a=t.endAngle,o=t.clockwise,l=this.getHitLineWidth()/2,u=s.box(e,i,n,r,a,o);return u.minX-=l,u.minY-=l,u.maxX+=l,u.maxY+=l,u},getStartTangent:function(){var t=this._attrs,e=t.x,i=t.y,a=t.startAngle,o=t.r,s=t.clockwise,l=Math.PI/180;s&&(l*=-1);var u=[],c=n(e,o,a+l),h=r(i,o,a+l),f=n(e,o,a),g=r(i,o,a);return u.push([c,h]),u.push([f,g]),u},getEndTangent:function(){var t=this._attrs,e=t.x,i=t.y,a=t.endAngle,o=t.r,s=t.clockwise,l=Math.PI/180,u=[];s&&(l*=-1);var c=n(e,o,a+l),h=r(i,o,a+l),f=n(e,o,a),g=r(i,o,a);return u.push([f,g]),u.push([c,h]),u},createPath:function(t){var e=this._attrs,i=e.x,n=e.y,r=e.r,a=e.startAngle,o=e.endAngle,s=e.clockwise;(t=t||self.get("context")).beginPath(),t.arc(i,n,r,a,o,s)},afterPath:function(t){var e=this._attrs;if(t=t||this.get("context"),e.startArrow){var i=this.getStartTangent();l.addStartArrow(t,e,i[0][0],i[0][1],i[1][0],i[1][1])}if(e.endArrow){var n=this.getEndTangent();l.addEndArrow(t,e,n[0][0],n[0][1],n[1][0],n[1][1])}}}),t.exports=u},function(t,e,i){var n=i(1),r=i(6),a=function t(e){t.superclass.constructor.call(this,e)};a.ATTRS={x:0,y:0,r:0,lineWidth:1},n.extend(a,r),n.augment(a,{canFill:!0,canStroke:!0,type:"circle",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var t=this._attrs,e=t.x,i=t.y,n=t.r,r=this.getHitLineWidth()/2+n;return{minX:e-r,minY:i-r,maxX:e+r,maxY:i+r}},createPath:function(t){var e=this._attrs,i=e.x,n=e.y,r=e.r;t.beginPath(),t.arc(i,n,r,0,2*Math.PI,!1),t.closePath()}}),t.exports=a},function(t,e,i){var n=i(1),r=i(6),a=function t(e){t.superclass.constructor.call(this,e)};n.extend(a,r),n.augment(a,{canFill:!0,canStroke:!0,type:"dom",calculateBox:function(){var t=this._attrs,e=t.x,i=t.y,n=t.width,r=t.height,a=this.getHitLineWidth()/2;return{minX:e-a,minY:i-a,maxX:e+n+a,maxY:i+r+a}}}),t.exports=a},function(t,e,i){var n=i(1),r=i(6),a=function t(e){t.superclass.constructor.call(this,e)};a.ATTRS={x:0,y:0,rx:1,ry:1,lineWidth:1},n.extend(a,r),n.augment(a,{canFill:!0,canStroke:!0,type:"ellipse",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var t=this._attrs,e=t.x,i=t.y,n=t.rx,r=t.ry,a=this.getHitLineWidth(),o=n+a/2,s=r+a/2;return{minX:e-o,minY:i-s,maxX:e+o,maxY:i+s}},createPath:function(t){var e=this._attrs,i=e.x,r=e.y,a=e.rx,o=e.ry;t=t||self.get("context");var s=a>o?a:o,l=a>o?1:a/o,u=a>o?o/a:1,c=[1,0,0,0,1,0,0,0,1];n.mat3.scale(c,c,[l,u]),n.mat3.translate(c,c,[i,r]),t.beginPath(),t.save(),t.transform(c[0],c[1],c[3],c[4],c[6],c[7]),t.arc(0,0,s,0,2*Math.PI),t.restore(),t.closePath()}}),t.exports=a},function(t,e,i){var n=i(1),r=i(6),a=i(37),o=function t(e){t.superclass.constructor.call(this,e)};o.ATTRS={x:0,y:0,rs:0,re:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1},n.extend(o,r),n.augment(o,{canFill:!0,canStroke:!0,type:"fan",getDefaultAttrs:function(){return{clockwise:!1,lineWidth:1,rs:0,re:0}},calculateBox:function(){var t=this._attrs,e=t.x,i=t.y,n=t.rs,r=t.re,o=t.startAngle,s=t.endAngle,l=t.clockwise,u=this.getHitLineWidth(),c=a.box(e,i,n,o,s,l),h=a.box(e,i,r,o,s,l),f=u/2;return{minX:Math.min(c.minX,h.minX)-f,minY:Math.min(c.minY,h.minY)-f,maxX:Math.max(c.maxX,h.maxX)+f,maxY:Math.max(c.maxY,h.maxY)+f}},createPath:function(t){var e=this._attrs,i=e.x,n=e.y,r=e.rs,a=e.re,o=e.startAngle,s=e.endAngle,l=e.clockwise,u={x:Math.cos(o)*r+i,y:Math.sin(o)*r+n},c={x:Math.cos(o)*a+i,y:Math.sin(o)*a+n},h={x:Math.cos(s)*r+i,y:Math.sin(s)*r+n};(t=t||self.get("context")).beginPath(),t.moveTo(u.x,u.y),t.lineTo(c.x,c.y),t.arc(i,n,a,o,s,l),t.lineTo(h.x,h.y),t.arc(i,n,r,s,o,!l),t.closePath()}}),t.exports=o},function(t,e,i){var n=i(1),r=i(6),a=function t(e){t.superclass.constructor.call(this,e)};a.ATTRS={x:0,y:0,img:void 0,width:0,height:0,sx:null,sy:null,swidth:null,sheight:null},n.extend(a,r),n.augment(a,{type:"image",isHitBox:function(){return!1},calculateBox:function(){var t=this._attrs;this._cfg.attrs&&this._cfg.attrs.img===t.img||this._setAttrImg();var e=t.x,i=t.y;return{minX:e,minY:i,maxX:e+t.width,maxY:i+t.height}},_beforeSetLoading:function(t){var e=this.get("canvas");return!1===t&&!0===this.get("toDraw")&&(this._cfg.loading=!1,e.draw()),t},_setAttrImg:function(){var t=this,e=t._attrs,i=e.img;if(!n.isString(i))return i instanceof Image?(e.width||t.attr("width",i.width),e.height||t.attr("height",i.height),i):i instanceof HTMLElement&&n.isString(i.nodeName)&&"CANVAS"===i.nodeName.toUpperCase()?(e.width||t.attr("width",Number(i.getAttribute("width"))),e.height||t.attr("height",Number(i.getAttribute("height"))),i):i instanceof ImageData?(e.width||t.attr("width",i.width),e.height||t.attr("height",i.height),i):null;var r=new Image;r.onload=function(){if(t.get("destroyed"))return!1;t.attr("imgSrc",i),t.attr("img",r);var e=t.get("callback");e&&e.call(t),t.set("loading",!1)},r.src=i,r.crossOrigin="Anonymous",t.set("loading",!0)},drawInner:function(t){this._cfg.hasUpdate&&this._setAttrImg(),this.get("loading")?this.set("toDraw",!0):(this._drawImage(t),this._cfg.hasUpdate=!1)},_drawImage:function(t){var e=this._attrs,i=e.x,r=e.y,a=e.img,o=e.width,s=e.height,l=e.sx,u=e.sy,c=e.swidth,h=e.sheight;this.set("toDraw",!1);var f=a;if(f instanceof ImageData&&((f=new Image).src=a),f instanceof Image||f instanceof HTMLElement&&n.isString(f.nodeName)&&"CANVAS"===f.nodeName.toUpperCase()){if(n.isNil(l)||n.isNil(u)||n.isNil(c)||n.isNil(h))return void t.drawImage(f,i,r,o,s);if(!(n.isNil(l)||n.isNil(u)||n.isNil(c)||n.isNil(h)))return void t.drawImage(f,l,u,c,h,i,r,o,s)}}}),t.exports=a},function(t,e,i){var n=i(1),r=i(6),a=i(38),o=i(36),s=function t(e){t.superclass.constructor.call(this,e)};s.ATTRS={x1:0,y1:0,x2:0,y2:0,lineWidth:1,startArrow:!1,endArrow:!1},n.extend(s,r),n.augment(s,{canStroke:!0,type:"line",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var t=this._attrs,e=t.x1,i=t.y1,n=t.x2,r=t.y2,a=this.getHitLineWidth();return o.box(e,i,n,r,a)},createPath:function(t){var e=this._attrs,i=e.x1,n=e.y1,r=e.x2,a=e.y2;(t=t||self.get("context")).beginPath(),t.moveTo(i,n),t.lineTo(r,a)},afterPath:function(t){var e=this._attrs,i=e.x1,n=e.y1,r=e.x2,o=e.y2;t=t||this.get("context"),e.startArrow&&a.addStartArrow(t,e,r,o,i,n),e.endArrow&&a.addEndArrow(t,e,i,n,r,o)},getPoint:function(t){var e=this._attrs;return{x:o.at(e.x1,e.x2,t),y:o.at(e.y1,e.y2,t)}}}),t.exports=s},function(t,e,i){var n=i(1),r=i(6),a=i(39),o=i(27),s=i(38),l=i(57),u=i(55),c=function t(e){t.superclass.constructor.call(this,e)};c.ATTRS={path:null,lineWidth:1,startArrow:!1,endArrow:!1},n.extend(c,r),n.augment(c,{canFill:!0,canStroke:!0,type:"path",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},_afterSetAttrPath:function(t){if(n.isNil(t))return this.setSilent("segments",null),void this.setSilent("box",void 0);var e,i=o.parsePath(t),r=[];if(n.isArray(i)&&0!==i.length&&("M"===i[0][0]||"m"===i[0][0])){for(var s=i.length,l=0;l<i.length;l++){var u=i[l];e=new a(u,e,l===s-1),r.push(e)}this.setSilent("segments",r),this.setSilent("tCache",null),this.setSilent("box",null)}},calculateBox:function(){var t=this.get("segments");if(!t)return null;var e=this.getHitLineWidth(),i=1/0,r=-1/0,a=1/0,o=-1/0;return n.each(t,function(t){t.getBBox(e);var n=t.box;n&&(n.minX<i&&(i=n.minX),n.maxX>r&&(r=n.maxX),n.minY<a&&(a=n.minY),n.maxY>o&&(o=n.maxY))}),i===1/0||a===1/0?{minX:0,minY:0,maxX:0,maxY:0}:{minX:i,minY:a,maxX:r,maxY:o}},_setTcache:function(){var t,e,i,r,a=0,o=0,s=[],l=this._cfg.curve;l&&(n.each(l,function(t,e){i=l[e+1],r=t.length,i&&(a+=u.len(t[r-2],t[r-1],i[1],i[2],i[3],i[4],i[5],i[6]))}),n.each(l,function(n,c){i=l[c+1],r=n.length,i&&((t=[])[0]=o/a,e=u.len(n[r-2],n[r-1],i[1],i[2],i[3],i[4],i[5],i[6]),o+=e,t[1]=o/a,s.push(t))}),this._cfg.tCache=s)},_calculateCurve:function(){var t=this._attrs.path;this._cfg.curve=l.pathTocurve(t)},getStartTangent:function(){var t,e,i,r,a=this.get("segments");if(a.length>1)if(t=a[0].endPoint,e=a[1].endPoint,i=a[1].startTangent,r=[],n.isFunction(i)){var o=i();r.push([t.x-o[0],t.y-o[1]]),r.push([t.x,t.y])}else r.push([e.x,e.y]),r.push([t.x,t.y]);return r},getEndTangent:function(){var t,e,i,r,a=this.get("segments"),o=a.length;if(o>1)if(t=a[o-2].endPoint,e=a[o-1].endPoint,i=a[o-1].endTangent,r=[],n.isFunction(i)){var s=i();r.push([e.x-s[0],e.y-s[1]]),r.push([e.x,e.y])}else r.push([t.x,t.y]),r.push([e.x,e.y]);return r},getPoint:function(t){var e,i,r=this._cfg.tCache;r||(this._calculateCurve(),this._setTcache(),r=this._cfg.tCache);var a=this._cfg.curve;if(!r)return a?{x:a[0][1],y:a[0][2]}:null;n.each(r,function(n,r){t>=n[0]&&t<=n[1]&&(e=(t-n[0])/(n[1]-n[0]),i=r)});var o=a[i];if(n.isNil(o)||n.isNil(i))return null;var s=o.length,l=a[i+1];return{x:u.at(o[s-2],l[1],l[3],l[5],1-e),y:u.at(o[s-1],l[2],l[4],l[6],1-e)}},createPath:function(t){var e=this.get("segments");if(n.isArray(e)){(t=t||this.get("context")).beginPath();for(var i=e.length,r=0;r<i;r++)e[r].draw(t)}},afterPath:function(t){var e=this._attrs,i=this.get("segments"),r=e.path;if(t=t||this.get("context"),n.isArray(i)&&1!==i.length&&(e.startArrow||e.endArrow)&&"z"!==r[r.length-1]&&"Z"!==r[r.length-1]&&!e.fill){var a=this.getStartTangent();s.addStartArrow(t,e,a[0][0],a[0][1],a[1][0],a[1][1]);var o=this.getEndTangent();s.addEndArrow(t,e,o[0][0],o[0][1],o[1][0],o[1][1])}}}),t.exports=c},function(t,e,i){var n=i(1),r=i(6),a=function t(e){t.superclass.constructor.call(this,e)};a.ATTRS={points:null,lineWidth:1},n.extend(a,r),n.augment(a,{canFill:!0,canStroke:!0,type:"polygon",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var t=this._attrs.points,e=this.getHitLineWidth();if(!t||0===t.length)return null;var i=1/0,r=1/0,a=-1/0,o=-1/0;n.each(t,function(t){var e=t[0],n=t[1];e<i&&(i=e),e>a&&(a=e),n<r&&(r=n),n>o&&(o=n)});var s=e/2;return{minX:i-s,minY:r-s,maxX:a+s,maxY:o+s}},createPath:function(t){var e=this._attrs.points;e.length<2||((t=t||this.get("context")).beginPath(),n.each(e,function(e,i){0===i?t.moveTo(e[0],e[1]):t.lineTo(e[0],e[1])}),t.closePath())}}),t.exports=a},function(t,e,i){var n=i(1),r=i(6),a=i(38),o=i(36),s=function t(e){t.superclass.constructor.call(this,e)};s.ATTRS={points:null,lineWidth:1,startArrow:!1,endArrow:!1,tCache:null},n.extend(s,r),n.augment(s,{canStroke:!0,type:"polyline",tCache:null,getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var t=this._attrs,e=this.getHitLineWidth(),i=t.points;if(!i||0===i.length)return null;var r=1/0,a=1/0,o=-1/0,s=-1/0;n.each(i,function(t){var e=t[0],i=t[1];e<r&&(r=e),e>o&&(o=e),i<a&&(a=i),i>s&&(s=i)});var l=e/2;return{minX:r-l,minY:a-l,maxX:o+l,maxY:s+l}},_setTcache:function(){var t,e,i=this._attrs.points,r=0,a=0,s=[];i&&0!==i.length&&(n.each(i,function(t,e){i[e+1]&&(r+=o.len(t[0],t[1],i[e+1][0],i[e+1][1]))}),r<=0||(n.each(i,function(n,l){i[l+1]&&((t=[])[0]=a/r,e=o.len(n[0],n[1],i[l+1][0],i[l+1][1]),a+=e,t[1]=a/r,s.push(t))}),this.tCache=s))},createPath:function(t){var e,i,n=this._attrs.points;if(!(n.length<2)){for((t=t||this.get("context")).beginPath(),t.moveTo(n[0][0],n[0][1]),i=1,e=n.length-1;i<e;i++)t.lineTo(n[i][0],n[i][1]);t.lineTo(n[e][0],n[e][1])}},getStartTangent:function(){var t=this.__attrs.points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},getEndTangent:function(){var t=this.__attrs.points,e=t.length-1,i=[];return i.push([t[e-1][0],t[e-1][1]]),i.push([t[e][0],t[e][1]]),i},afterPath:function(t){var e=this._attrs,i=e.points,n=i.length-1;t=t||this.get("context"),e.startArrow&&a.addStartArrow(t,e,i[1][0],i[1][1],i[0][0],i[0][1]),e.endArrow&&a.addEndArrow(t,e,i[n-1][0],i[n-1][1],i[n][0],i[n][1])},getPoint:function(t){var e,i,r=this._attrs.points,a=this.tCache;return a||(this._setTcache(),a=this.tCache),n.each(a,function(n,r){t>=n[0]&&t<=n[1]&&(e=(t-n[0])/(n[1]-n[0]),i=r)}),{x:o.at(r[i][0],r[i+1][0],e),y:o.at(r[i][1],r[i+1][1],e)}}}),t.exports=s},function(t,e,i){var n=i(1),r=i(27).parseRadius,a=i(6),o=function t(e){t.superclass.constructor.call(this,e)};o.ATTRS={x:0,y:0,width:0,height:0,radius:0,lineWidth:1},n.extend(o,a),n.augment(o,{canFill:!0,canStroke:!0,type:"rect",getDefaultAttrs:function(){return{lineWidth:1,radius:0}},calculateBox:function(){var t=this._attrs,e=t.x,i=t.y,n=t.width,r=t.height,a=this.getHitLineWidth()/2;return{minX:e-a,minY:i-a,maxX:e+n+a,maxY:i+r+a}},createPath:function(t){var e=this._attrs,i=e.x,n=e.y,a=e.width,o=e.height,s=e.radius;if((t=t||this.get("context")).beginPath(),0===s)t.rect(i,n,a,o);else{var l=r(s);t.moveTo(i+l.r1,n),t.lineTo(i+a-l.r2,n),0!==l.r2&&t.arc(i+a-l.r2,n+l.r2,l.r2,-Math.PI/2,0),t.lineTo(i+a,n+o-l.r3),0!==l.r3&&t.arc(i+a-l.r3,n+o-l.r3,l.r3,0,Math.PI/2),t.lineTo(i+l.r4,n+o),0!==l.r4&&t.arc(i+l.r4,n+o-l.r4,l.r4,Math.PI/2,Math.PI),t.lineTo(i,n+l.r1),0!==l.r1&&t.arc(i+l.r1,n+l.r1,l.r1,Math.PI,1.5*Math.PI),t.closePath()}}}),t.exports=o},function(t,e,i){var n=i(1),r=i(6),a=function t(e){t.superclass.constructor.call(this,e)};a.ATTRS={x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom",lineHeight:null,textArr:null},n.extend(a,r),n.augment(a,{canFill:!0,canStroke:!0,type:"text",getDefaultAttrs:function(){return{lineWidth:1,lineCount:1,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"}},initTransform:function(){var t=this._attrs.fontSize;t&&+t<12&&this.transform([["t",-1*this._attrs.x,-1*this._attrs.y],["s",+t/12,+t/12],["t",this._attrs.x,this._attrs.y]])},_assembleFont:function(){var t=this._attrs,e=t.fontSize,i=t.fontFamily,n=t.fontWeight,r=t.fontStyle,a=t.fontVariant;t.font=[r,a,n,e+"px",i].join(" ")},_setAttrText:function(){var t=this._attrs,e=t.text,i=null;if(n.isString(e)&&-1!==e.indexOf("\n")){var r=(i=e.split("\n")).length;t.lineCount=r}t.textArr=i},_getTextHeight:function(){var t=this._attrs,e=t.lineCount,i=1*t.fontSize;if(e>1){return i*e+this._getSpaceingY()*(e-1)}return i},isHitBox:function(){return!1},calculateBox:function(){var t=this._attrs,e=this._cfg;e.attrs&&!e.hasUpdate||(this._assembleFont(),this._setAttrText()),t.textArr||this._setAttrText();var i=t.x,n=t.y,r=this.measureText();if(!r)return{minX:i,minY:n,maxX:i,maxY:n};var a=this._getTextHeight(),o=t.textAlign,s=t.textBaseline,l=this.getHitLineWidth(),u={x:i,y:n-a};o&&("end"===o||"right"===o?u.x-=r:"center"===o&&(u.x-=r/2)),s&&("top"===s?u.y+=a:"middle"===s&&(u.y+=a/2)),this.set("startPoint",u);var c=l/2;return{minX:u.x-c,minY:u.y-c,maxX:u.x+r+c,maxY:u.y+a+c}},_getSpaceingY:function(){var t=this._attrs,e=t.lineHeight,i=1*t.fontSize;return e?e-i:.14*i},drawInner:function(t){var e=this._attrs,i=this._cfg;i.attrs&&!i.hasUpdate||(this._assembleFont(),this._setAttrText()),t.font=e.font;var r=e.text;if(r){var a=e.textArr,o=e.x,s=e.y;if(t.beginPath(),this.hasStroke()){var l=e.strokeOpacity;n.isNil(l)||1===l||(t.globalAlpha=l),a?this._drawTextArr(t,!1):t.strokeText(r,o,s),t.globalAlpha=1}if(this.hasFill()){var u=e.fillOpacity;n.isNil(u)||1===u||(t.globalAlpha=u),a?this._drawTextArr(t,!0):t.fillText(r,o,s)}i.hasUpdate=!1}},_drawTextArr:function(t,e){var i,r=this._attrs.textArr,a=this._attrs.textBaseline,o=1*this._attrs.fontSize,s=this._getSpaceingY(),l=this._attrs.x,u=this._attrs.y,c=this.getBBox(),h=c.maxY-c.minY;n.each(r,function(n,r){i=u+r*(s+o)-h+o,"middle"===a&&(i+=h-o-(h-o)/2),"top"===a&&(i+=h-o),e?t.fillText(n,l,i):t.strokeText(n,l,i)})},measureText:function(){var t,e=this._attrs,i=e.text,r=e.font,a=e.textArr,o=0;if(!n.isNil(i)){var s=document.createElement("canvas").getContext("2d");return s.save(),s.font=r,a?n.each(a,function(e){t=s.measureText(e).width,o<t&&(o=t),s.restore()}):(o=s.measureText(i).width,s.restore()),o}}}),t.exports=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(59);i.d(e,"interpolate",function(){return n.a});var r=i(122);i.d(e,"interpolateArray",function(){return r.a});var a=i(62);i.d(e,"interpolateBasis",function(){return a.b});var o=i(120);i.d(e,"interpolateBasisClosed",function(){return o.a});var s=i(123);i.d(e,"interpolateDate",function(){return s.a});var l=i(40);i.d(e,"interpolateNumber",function(){return l.a});var u=i(124);i.d(e,"interpolateObject",function(){return u.a});var c=i(205);i.d(e,"interpolateRound",function(){return c.a});var h=i(125);i.d(e,"interpolateString",function(){return h.a});var f=i(206);i.d(e,"interpolateTransformCss",function(){return f.a}),i.d(e,"interpolateTransformSvg",function(){return f.b});var g=i(209);i.d(e,"interpolateZoom",function(){return g.a});var p=i(119);i.d(e,"interpolateRgb",function(){return p.a}),i.d(e,"interpolateRgbBasis",function(){return p.b}),i.d(e,"interpolateRgbBasisClosed",function(){return p.c});var d=i(210);i.d(e,"interpolateHsl",function(){return d.a}),i.d(e,"interpolateHslLong",function(){return d.b});var v=i(211);i.d(e,"interpolateLab",function(){return v.a});var m=i(212);i.d(e,"interpolateHcl",function(){return m.a}),i.d(e,"interpolateHclLong",function(){return m.b});var y=i(213);i.d(e,"interpolateCubehelix",function(){return y.b}),i.d(e,"interpolateCubehelixLong",function(){return y.a});var x=i(214);i.d(e,"quantize",function(){return x.a})},function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return r});var n=Math.PI/180,r=180/Math.PI},function(t,e,i){"use strict";function n(t){return function(e){var i,n,a=e.length,o=new Array(a),s=new Array(a),l=new Array(a);for(i=0;i<a;++i)n=Object(r.f)(e[i]),o[i]=n.r||0,s[i]=n.g||0,l[i]=n.b||0;return o=t(o),s=t(s),l=t(l),n.opacity=1,function(t){return n.r=o(t),n.g=s(t),n.b=l(t),n+""}}}i.d(e,"b",function(){return l}),i.d(e,"c",function(){return u});var r=i(19),a=i(62),o=i(120),s=i(28);e.a=function t(e){function i(t,e){var i=n((t=Object(r.f)(t)).r,(e=Object(r.f)(e)).r),a=n(t.g,e.g),o=n(t.b,e.b),l=Object(s.a)(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=a(e),t.b=o(e),t.opacity=l(e),t+""}}var n=Object(s.b)(e);return i.gamma=t,i}(1);var l=n(a.b),u=n(o.a)},function(t,e,i){"use strict";var n=i(62);e.a=function(t){var e=t.length;return function(i){var r=Math.floor(((i%=1)<0?++i:i)*e),a=t[(r+e-1)%e],o=t[r%e],s=t[(r+1)%e],l=t[(r+2)%e];return Object(n.a)((i-r/e)*e,a,o,s,l)}}},function(t,e,i){"use strict";e.a=function(t){return function(){return t}}},function(t,e,i){"use strict";var n=i(59);e.a=function(t,e){var i,r=e?e.length:0,a=t?Math.min(r,t.length):0,o=new Array(a),s=new Array(r);for(i=0;i<a;++i)o[i]=Object(n.a)(t[i],e[i]);for(;i<r;++i)s[i]=e[i];return function(t){for(i=0;i<a;++i)s[i]=o[i](t);return s}}},function(t,e,i){"use strict";e.a=function(t,e){var i=new Date;return t=+t,e-=t,function(n){return i.setTime(t+e*n),i}}},function(t,e,i){"use strict";var n=i(59);e.a=function(t,e){var i,r={},a={};null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={});for(i in e)i in t?r[i]=Object(n.a)(t[i],e[i]):a[i]=e[i];return function(t){for(i in r)a[i]=r[i](t);return a}}},function(t,e,i){"use strict";var n=i(40),r=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,a=new RegExp(r.source,"g");e.a=function(t,e){var i,o,s,l=r.lastIndex=a.lastIndex=0,u=-1,c=[],h=[];for(t+="",e+="";(i=r.exec(t))&&(o=a.exec(e));)(s=o.index)>l&&(s=e.slice(l,s),c[u]?c[u]+=s:c[++u]=s),(i=i[0])===(o=o[0])?c[u]?c[u]+=o:c[++u]=o:(c[++u]=null,h.push({i:u,x:Object(n.a)(i,o)})),l=a.lastIndex;return l<e.length&&(s=e.slice(l),c[u]?c[u]+=s:c[++u]=s),c.length<2?h[0]?function(t){return function(e){return t(e)+""}}(h[0].x):function(t){return function(){return t}}(e):(e=h.length,function(t){for(var i,n=0;n<e;++n)c[(i=h[n]).i]=i.x(t);return c.join("")})}},function(t,e,i){var n=i(0),r=i(290),a={appear:{duration:450,easing:"easeQuadOut"},update:{duration:450,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut",delay:100},leave:{duration:350,easing:"easeQuadIn"}},o={line:{appear:function(){return r.appear.clipIn},enter:function(){return r.enter.clipIn},leave:function(){return r.leave.lineWidthOut}},path:{appear:function(){return r.appear.clipIn},enter:function(){return r.enter.clipIn},leave:function(){return r.leave.lineWidthOut}},area:{appear:function(){return r.appear.clipIn},enter:function(){return r.enter.fadeIn},leave:function(){return r.leave.fadeOut},cfg:{appear:{duration:500,easing:"easeQuadOut"},update:{duration:450,easing:"easeQuadInOut"},enter:{duration:600,delay:150,easing:"easeQuadInOut"},leave:{easing:"easeQuadOut",duration:350}}},polygon:{appear:function(){return r.appear.zoomIn},enter:function(){return r.enter.zoomIn},leave:function(){return r.leave.zoomOut}},edge:{appear:function(){return r.appear.pathIn},enter:function(){return r.enter.pathIn},leave:function(){return r.leave.pathOut}},interval:{appear:function(t){var e;return t.isPolar?(e=r.appear.zoomIn,(t.isTransposed||"theta"===t.type)&&(e=r.appear.fanIn)):e=t.isRect?t.isTransposed?r.appear.scaleInX:r.appear.scaleInY:r.appear.zoomIn,e},enter:function(t){return t.isRect||t.isTransposed||"theta"===t.type?r.enter.fadeIn:r.enter.zoomIn},leave:function(){return r.leave.fadeOut},update:function(t){if("theta"===t.type)return r.update.fanIn}},point:{appear:function(){return r.appear.zoomIn},enter:function(){return r.enter.zoomIn},leave:function(){return r.leave.zoomOut}},schema:{appear:function(){return r.appear.clipIn},enter:function(){return r.enter.clipIn},leave:function(){return r.leave.lineWidthOut}},contour:null,heatmap:null,label:{appear:function(){return r.appear.fadeIn},enter:function(){return r.enter.fadeIn},leave:function(){return r.leave.fadeOut},cfg:{appear:{duration:900}}},"axis-label":{enter:function(){return r.appear.fadeIn},leave:function(){return r.leave.fadeOut},update:function(t){if(t.isPolar)return r.appear.fadeIn}},"axis-ticks":{enter:function(){return r.appear.fadeIn},leave:function(){return r.leave.fadeOut},update:function(t){if(t.isPolar)return r.appear.fadeIn}},"axis-grid":{enter:function(){return r.appear.fadeIn},leave:function(){return r.leave.fadeOut},update:function(t){if(t.isPolar)return r.appear.fadeIn}},"axis-grid-rect":{enter:function(){return r.appear.fadeIn},leave:function(){return r.leave.fadeOut},update:function(){return r.leave.fadeIn}},labelLine:{appear:function(){return r.appear.pathIn},enter:function(){return r.enter.pathIn},leave:function(){return r.leave.pathOut}}};o.Action=r,o.defaultCfg=a,o.getAnimation=function(t,e,i){var r=this[t];if(r){var a=r[i];if(n.isFunction(a))return a(e)}return!1},o.getAnimateCfg=function(t,e){var i=a[e];return this[t]&&this[t].cfg&&this[t].cfg[e]?n.deepMix({},i,this[t].cfg[e]):i},o.registerAnimation=function(t,e,i){this.Action[t]||(this.Action[t]={}),this.Action[t][e]=i},t.exports=o},function(t,e,i){var n=i(2),r=i(8),a=i(228),o=i(237),s=i(248),l=i(251),u=i(255),c=i(43),h=i(264),f=i(268),g=i(274),p=i(278),d={DOMUtil:a,DomUtil:a,MatrixUtil:c,PathUtil:f,arrayUtil:o,domUtil:a,eventUtil:s,formatUtil:l,mathUtil:u,matrixUtil:c,objectUtil:h,stringUtil:g,pathUtil:f,typeUtil:p,augment:i(89),clone:i(46),debounce:i(284),deepMix:i(47),each:n,extend:i(88),filter:i(63),group:i(144),groupBy:i(146),groupToMap:i(145),indexOf:i(285),isEmpty:i(83),isEqual:i(49),isEqualWith:i(286),map:i(287),mix:r,pick:i(288),throttle:i(289),toArray:i(34),toString:i(23),uniqueId:i(86)};n([a,o,s,l,u,c,h,f,g,p],function(t){r(d,t)}),t.exports=d},function(t,e,i){var n=i(129),r=i(5);t.exports=function(t,e){var i=n(e),a=i.length;if(r(t))return!a;for(var o=0;o<a;o+=1){var s=i[o];if(e[s]!==t[s]||!(s in t))return!1}return!0}},function(t,e,i){var n=i(2),r=i(11),a=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return n(t,function(i,n){r(t)&&"prototype"===n||e.push(n)}),e};t.exports=a},function(t,e,i){var n=i(13),r=Array.prototype.splice;t.exports=function(t,e){if(!n(t))return[];for(var i=t?e.length:0,a=i-1;i--;){var o=void 0,s=e[i];i!==a&&s===o||(o=s,r.call(t,s,1))}return t}},function(t,e,i){var n=i(2),r=i(41);t.exports=function(t){var e=[];return n(t,function(t){r(e,t)||e.push(t)}),e}},function(t,e,i){var n=i(4),r=i(11),a=i(2);t.exports=function(t,e){if(n(t)){var i=t[0],o=void 0;o=r(e)?e(t[0]):t[0][e];var s=void 0;return a(t,function(t){(s=r(e)?e(t):t[e])>o&&(i=t,o=s)}),i}}},function(t,e){t.exports=parseInt},function(t,e){t.exports=function(t,e){return t.hasOwnProperty(e)}},function(t,e,i){var n=i(2),r=i(11),a=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return n(t,function(i,n){r(t)&&"prototype"===n||e.push(i)}),e};t.exports=a},function(t,e,i){var n=i(137);t.exports=function(t,e,i,r,a){if(a)return[["M",+t+ +a,e],["l",i-2*a,0],["a",a,a,0,0,1,a,a],["l",0,r-2*a],["a",a,a,0,0,1,-a,a],["l",2*a-i,0],["a",a,a,0,0,1,-a,-a],["l",0,2*a-r],["a",a,a,0,0,1,a,-a],["z"]];var o=[["M",t,e],["l",i,0],["l",0,r],["l",-i,0],["z"]];return o.parsePathArray=n,o}},function(t,e){var i=/,?([a-z]),?/gi;t.exports=function(t){return t.join(",").replace(i,"$1")}},function(t,e,i){var n=i(139),r=function(t,e,i,n){return[t,e,i,n,i,n]},a=function(t,e,i,n,r,a){return[1/3*t+2/3*i,1/3*e+2/3*n,1/3*r+2/3*i,1/3*a+2/3*n,r,a]};t.exports=function(t,e){var i=n(t),o=e&&n(e),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u=[],c=[],h="",f="",g=void 0,p=function(t,e,i){var n=void 0,o=void 0;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(function t(e,i,n,r,a,o,s,l,u,c){n===r&&(n+=1);var h=120*Math.PI/180,f=Math.PI/180*(+a||0),g=[],p=void 0,d=void 0,v=void 0,m=void 0,y=void 0,x=function(t,e,i){return{x:t*Math.cos(i)-e*Math.sin(i),y:t*Math.sin(i)+e*Math.cos(i)}};if(c)d=c[0],v=c[1],m=c[2],y=c[3];else{e=(p=x(e,i,-f)).x,i=p.y,l=(p=x(l,u,-f)).x,u=p.y,e===l&&i===u&&(l+=1,u+=1);var b=(e-l)/2,_=(i-u)/2,M=b*b/(n*n)+_*_/(r*r);M>1&&(n*=M=Math.sqrt(M),r*=M);var S=n*n,w=r*r,k=(o===s?-1:1)*Math.sqrt(Math.abs((S*w-S*_*_-w*b*b)/(S*_*_+w*b*b)));m=k*n*_/r+(e+l)/2,y=k*-r*b/n+(i+u)/2,d=Math.asin(((i-y)/r).toFixed(9)),v=Math.asin(((u-y)/r).toFixed(9)),d=e<m?Math.PI-d:d,v=l<m?Math.PI-v:v,d<0&&(d=2*Math.PI+d),v<0&&(v=2*Math.PI+v),s&&d>v&&(d-=2*Math.PI),!s&&v>d&&(v-=2*Math.PI)}var C=v-d;if(Math.abs(C)>h){var A=v,T=l,P=u;v=d+h*(s&&v>d?1:-1),g=t(l=m+n*Math.cos(v),u=y+r*Math.sin(v),n,r,a,0,s,T,P,[v,A,m,y])}C=v-d;var I=Math.cos(d),O=Math.sin(d),L=Math.cos(v),E=Math.sin(v),D=Math.tan(C/4),F=4/3*n*D,B=4/3*r*D,R=[e,i],N=[e+F*O,i-B*I],j=[l+F*E,u-B*L],Y=[l,u];if(N[0]=2*R[0]-N[0],N[1]=2*R[1]-N[1],c)return[N,j,Y].concat(g);for(var z=[],H=0,V=(g=[N,j,Y].concat(g).join().split(",")).length;H<V;H++)z[H]=H%2?x(g[H-1],g[H],f).y:x(g[H],g[H+1],f).x;return z}.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"===i||"S"===i?(n=2*e.x-e.bx,o=2*e.y-e.by):(n=e.x,o=e.y),t=["C",n,o].concat(t.slice(1));break;case"T":"Q"===i||"T"===i?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(a(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(a(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(r(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(r(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(r(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(r(e.x,e.y,e.X,e.Y))}return t},d=function(t,e){if(t[e].length>7){t[e].shift();for(var n=t[e];n.length;)u[e]="A",o&&(c[e]="A"),t.splice(e++,0,["C"].concat(n.splice(0,6)));t.splice(e,1),g=Math.max(i.length,o&&o.length||0)}},v=function(t,e,n,r,a){t&&e&&"M"===t[a][0]&&"M"!==e[a][0]&&(e.splice(a,0,["M",r.x,r.y]),n.bx=0,n.by=0,n.x=t[a][1],n.y=t[a][2],g=Math.max(i.length,o&&o.length||0))};g=Math.max(i.length,o&&o.length||0);for(var m=0;m<g;m++){i[m]&&(h=i[m][0]),"C"!==h&&(u[m]=h,m&&(f=u[m-1])),i[m]=p(i[m],s,f),"A"!==u[m]&&"C"===h&&(u[m]="C"),d(i,m),o&&(o[m]&&(h=o[m][0]),"C"!==h&&(c[m]=h,m&&(f=c[m-1])),o[m]=p(o[m],l,f),"A"!==c[m]&&"C"===h&&(c[m]="C"),d(o,m)),v(i,o,s,l,m),v(o,i,l,s,m);var y=i[m],x=o&&o[m],b=y.length,_=o&&x.length;s.x=y[b-2],s.y=y[b-1],s.bx=parseFloat(y[b-4])||s.x,s.by=parseFloat(y[b-3])||s.y,l.bx=o&&(parseFloat(x[_-4])||l.x),l.by=o&&(parseFloat(x[_-3])||l.y),l.x=o&&x[_-2],l.y=o&&x[_-1]}return o?[i,o]:i}},function(t,e,i){function n(t,e,i,n,r){var a=[];if(null===r&&null===n&&(n=i),t=+t,e=+e,i=+i,n=+n,null!==r){var o=Math.PI/180,s=t+i*Math.cos(-n*o),l=t+i*Math.cos(-r*o);a=[["M",s,e+i*Math.sin(-n*o)],["A",i,i,0,+(r-n>180),0,l,e+i*Math.sin(-r*o)]]}else a=[["M",t,e],["m",0,-n],["a",i,n,0,1,1,0,2*n],["a",i,n,0,1,1,0,-2*n],["z"]];return a}var r=i(140),a=i(141);t.exports=function(t){if(!(t=r(t))||!t.length)return[["M",0,0]];var e=[],i=0,o=0,s=0,l=0,u=0,c=void 0,h=void 0;"M"===t[0][0]&&(s=i=+t[0][1],l=o=+t[0][2],u++,e[0]=["M",i,o]);for(var f,g,p=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),d=u,v=t.length;d<v;d++){if(e.push(f=[]),g=t[d],(c=g[0])!==c.toUpperCase())switch(f[0]=c.toUpperCase(),f[0]){case"A":f[1]=g[1],f[2]=g[2],f[3]=g[3],f[4]=g[4],f[5]=g[5],f[6]=+g[6]+i,f[7]=+g[7]+o;break;case"V":f[1]=+g[1]+o;break;case"H":f[1]=+g[1]+i;break;case"R":for(var m=2,y=(h=[i,o].concat(g.slice(1))).length;m<y;m++)h[m]=+h[m]+i,h[++m]=+h[m]+o;e.pop(),e=e.concat(a(h,p));break;case"O":e.pop(),(h=n(i,o,g[1],g[2])).push(h[0]),e=e.concat(h);break;case"U":e.pop(),e=e.concat(n(i,o,g[1],g[2],g[3])),f=["U"].concat(e[e.length-1].slice(-2));break;case"M":s=+g[1]+i,l=+g[2]+o;break;default:for(var x=1,b=g.length;x<b;x++)f[x]=+g[x]+(x%2?i:o)}else if("R"===c)h=[i,o].concat(g.slice(1)),e.pop(),e=e.concat(a(h,p)),f=["R"].concat(g.slice(-2));else if("O"===c)e.pop(),(h=n(i,o,g[1],g[2])).push(h[0]),e=e.concat(h);else if("U"===c)e.pop(),e=e.concat(n(i,o,g[1],g[2],g[3])),f=["U"].concat(e[e.length-1].slice(-2));else for(var _=0,M=g.length;_<M;_++)f[_]=g[_];if("O"!==(c=c.toUpperCase()))switch(f[0]){case"Z":i=+s,o=+l;break;case"H":i=f[1];break;case"V":o=f[1];break;case"M":s=f[f.length-2],l=f[f.length-1];break;default:i=f[f.length-2],o=f[f.length-1]}}return e}},function(t,e){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n="\t\n\v\f\r   ᠎             　\u2028\u2029",r=new RegExp("([a-z])["+n+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+n+"]*,?["+n+"]*)+)","ig"),a=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+n+"]*,?["+n+"]*","ig");t.exports=function(t){if(!t)return null;if((void 0===t?"undefined":i(t))===i([]))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(r,function(t,i,r){var o=[],s=i.toLowerCase();if(r.replace(a,function(t,e){e&&o.push(+e)}),"m"===s&&o.length>2&&(n.push([i].concat(o.splice(0,2))),s="l",i="m"===i?"l":"L"),"o"===s&&1===o.length&&n.push([i,o[0]]),"r"===s)n.push([i].concat(o));else for(;o.length>=e[s]&&(n.push([i].concat(o.splice(0,e[s]))),e[s]););}),n}},function(t,e){t.exports=function(t,e){for(var i=[],n=0,r=t.length;r-2*!e>n;n+=2){var a=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?r-4===n?a[3]={x:+t[0],y:+t[1]}:r-2===n&&(a[2]={x:+t[0],y:+t[1]},a[3]={x:+t[2],y:+t[3]}):a[0]={x:+t[r-2],y:+t[r-1]}:r-4===n?a[3]=a[2]:n||(a[0]={x:+t[n],y:+t[n+1]}),i.push(["C",(-a[0].x+6*a[1].x+a[2].x)/6,(-a[0].y+6*a[1].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y])}return i}},function(t,e,i){var n=i(23);t.exports=function(t){return n(t).toLowerCase()}},function(t,e,i){var n=i(23);t.exports=function(t){return n(t).toUpperCase()}},function(t,e,i){var n=i(145);t.exports=function(t,e){if(!e)return[t];var i=n(t,e),r=[];for(var a in i)r.push(i[a]);return r}},function(t,e,i){var n=i(11),r=i(4),a=i(146);t.exports=function(t,e){if(!e)return{0:t};if(!n(e)){var i=r(e)?e:e.replace(/\s+/g,"").split("*");e=function(t){for(var e="_",n=0,r=i.length;n<r;n++)e+=t[i[n]]&&t[i[n]].toString();return e}}return a(t,e)}},function(t,e,i){var n=i(2),r=i(4),a=Object.prototype.hasOwnProperty;t.exports=function(t,e){if(!e||!r(t))return t;var i={},o=null;return n(t,function(t){o=e(t),a.call(i,o)?i[o].push(t):i[o]=[t]}),i}},function(t,e,i){function n(t,e){return r.isEqualWith(t,e,function(t,e){return t===e})}var r=i(0),a=i(291),o=i(16).Canvas,s=r.DomUtil,l=i(7),u=i(356),c=i(165),h=i(167),f=i(166),g=i(168),p=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix(e,{id:null,forceFit:!1,container:null,wrapperEl:null,canvas:null,width:500,height:500,pixelRatio:null,backPlot:null,frontPlot:null,plotBackground:null,padding:l.plotCfg.padding,background:null,autoPaddingAppend:5,limitInPlot:!1,renderer:l.renderer,views:[]})},i.init=function(){var e=this.get("viewTheme");this._initCanvas(),this._initPlot(),this._initEvents(),t.prototype.init.call(this);var i=new c.Tooltip({chart:this,viewTheme:e,options:{}});this.set("tooltipController",i);var n=new c.Legend({chart:this,viewTheme:e});this.set("legendController",n),this.set("_id","chart"),this.emit("afterinit")},i._isAutoPadding=function(){var t=this.get("padding");return r.isArray(t)?-1!==t.indexOf("auto"):"auto"===t},i._getAutoPadding=function(){for(var t=this.get("padding"),e=this.get("frontPlot").getBBox(),i=this.get("backPlot"),n=f(i,g(this.get("plotRange"))),a=h(e,n),o=[0-a.minY,a.maxX-this.get("width"),a.maxY-this.get("height"),0-a.minX],s=r.toAllPadding(t),l=0;l<s.length;l++)if("auto"===s[l]){var u=Math.max(0,o[l]);s[l]=u+this.get("autoPaddingAppend")}return s},i._initCanvas=function(){var t=this.get("container"),e=this.get("id");!t&&e&&(t=e,this.set("container",e));var i=this.get("width"),n=this.get("height");if(r.isString(t)){if(!(t=document.getElementById(t)))throw new Error("Please specify the container for the chart!");this.set("container",t)}var a=s.createDom('<div style="position:relative;"></div>');t.appendChild(a),this.set("wrapperEl",a),this.get("forceFit")&&(i=s.getWidth(t,i),this.set("width",i));var l=this.get("renderer"),u=new o({containerDOM:a,width:i,height:n,pixelRatio:"svg"===l?1:this.get("pixelRatio"),renderer:l});this.set("canvas",u)},i._initPlot=function(){this._initPlotBack();var t=this.get("canvas"),e=t.addGroup({zIndex:1}),i=t.addGroup({zIndex:0}),n=t.addGroup({zIndex:3});this.set("backPlot",e),this.set("middlePlot",i),this.set("frontPlot",n)},i._initPlotBack=function(){var t=this.get("canvas"),e=this.get("viewTheme"),i=t.addGroup(u,{padding:this.get("padding"),plotBackground:r.mix({},e.plotBackground,this.get("plotBackground")),background:r.mix({},e.background,this.get("background"))});this.set("plot",i),this.set("plotRange",i.get("plotRange"))},i._initEvents=function(){this.get("forceFit")&&window.addEventListener("resize",r.wrapBehavior(this,"_initForceFitEvent"))},i._initForceFitEvent=function(){var t=setTimeout(r.wrapBehavior(this,"forceFit"),200);clearTimeout(this.get("resizeTimer")),this.set("resizeTimer",t)},i._renderLegends=function(){var t=this.get("options").legends;if(r.isNil(t)||!1!==t){var e=this.get("legendController");if(e.options=t||{},e.plotRange=this.get("plotRange"),t&&t.custom)e.addCustomLegend();else{var i=this.getAllGeoms(),n=[];r.each(i,function(t){var i=t.get("view"),a=t.getAttrsForLegend();r.each(a,function(a){var o=a.type,s=a.getScale(o);if(s.field&&"identity"!==s.type&&!function(t,e){var i=!1;return r.each(t,function(t){var n=[].concat(t.values),r=[].concat(e.values);t.type!==e.type||t.field!==e.field||n.sort().toString()!==r.sort().toString()||(i=!0)}),i}(n,s)){n.push(s);var l=i.getFilteredOutValues(s.field);e.addLegend(s,a,t,l)}})});var a=this.getYScales();0===n.length&&a.length>1&&e.addMixedLegend(a,i)}e.alignLegends()}},i._renderTooltips=function(){var t=this.get("options");if(r.isNil(t.tooltip)||!1!==t.tooltip){var e=this.get("tooltipController");e.options=t.tooltip||{},e.renderTooltip()}},i.getAllGeoms=function(){var t=[];t=t.concat(this.get("geoms"));var e=this.get("views");return r.each(e,function(e){t=t.concat(e.get("geoms"))}),t},i.forceFit=function(){if(this&&!this.destroyed){var t=this.get("container"),e=this.get("width"),i=s.getWidth(t,e);if(0!==i&&i!==e){var n=this.get("height");this.changeSize(i,n)}return this}},i.resetPlot=function(){var t=this.get("plot"),e=this.get("padding");n(e,t.get("padding"))||(t.set("padding",e),t.repaint())},i.changeSize=function(t,e){this.get("canvas").changeSize(t,e);var i=this.get("plot");return this.set("width",t),this.set("height",e),i.repaint(),this.set("keepPadding",!0),this.repaint(),this.set("keepPadding",!1),this.emit("afterchangesize"),this},i.changeWidth=function(t){return this.changeSize(t,this.get("height"))},i.changeHeight=function(t){return this.changeSize(this.get("width"),t)},i.view=function(t){(t=t||{}).theme=this.get("theme"),t.parent=this,t.backPlot=this.get("backPlot"),t.middlePlot=this.get("middlePlot"),t.frontPlot=this.get("frontPlot"),t.canvas=this.get("canvas"),r.isNil(t.animate)&&(t.animate=this.get("animate")),t.options=r.mix({},this._getSharedOptions(),t.options);var e=new a(t);return e.set("_id","view"+this.get("views").length),this.get("views").push(e),this.emit("addview",{view:e}),e},i.removeView=function(t){var e=this.get("views");r.Array.remove(e,t),t.destroy()},i._getSharedOptions=function(){var t=this.get("options"),e={};return r.each(["scales","coord","axes"],function(i){e[i]=r.cloneDeep(t[i])}),e},i.getViewRegion=function(){var t=this.get("plotRange");return{start:t.bl,end:t.tr}},i.legend=function(t,e){var i=this.get("options");i.legends||(i.legends={});var n={};return!1===t?i.legends=!1:r.isObject(t)?n=t:r.isString(t)?n[t]=e:n=e,r.mix(i.legends,n),this},i.tooltip=function(t,e){var i=this.get("options");return i.tooltip||(i.tooltip={}),!1===t?i.tooltip=!1:r.isObject(t)?r.mix(i.tooltip,t):r.mix(i.tooltip,e),this},i.clear=function(){this.emit("beforeclear");for(var e=this.get("views");e.length>0;){e.shift().destroy()}t.prototype.clear.call(this);var i=this.get("canvas");return this.resetPlot(),i.draw(),this.emit("afterclear"),this},i.clearInner=function(){var e=this.get("views");r.each(e,function(t){t.clearInner()});var i=this.get("tooltipController");if(i&&i.clear(),!this.get("keepLegend")){var n=this.get("legendController");n&&n.clear()}t.prototype.clearInner.call(this)},i.drawComponents=function(){t.prototype.drawComponents.call(this),this.get("keepLegend")||this._renderLegends()},i.render=function(){if(!this.get("keepPadding")&&this._isAutoPadding()){this.beforeRender(),this.drawComponents();var e=this._getAutoPadding(),i=this.get("plot");n(i.get("padding"),e)||(i.set("padding",e),i.repaint())}var a=this.get("middlePlot");if(this.get("limitInPlot")&&!a.attr("clip")){var o=r.getClipByRange(this.get("plotRange"));a.attr("clip",o)}t.prototype.render.call(this),this._renderTooltips()},i.repaint=function(){this.get("keepPadding")||this.resetPlot(),t.prototype.repaint.call(this)},i.changeVisible=function(t){var e=this.get("wrapperEl"),i=t?"":"none";e.style.display=i},i.toDataURL=function(){var t=this.get("canvas"),e=this.get("renderer"),i=t.get("el"),n="";if("svg"===e){var r=i.cloneNode(!0),a=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),o=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",a);o.replaceChild(r,o.documentElement);var s=(new XMLSerializer).serializeToString(o);n="data:image/svg+xml;charset=utf8,"+encodeURIComponent(s)}else"canvas"===e&&(n=i.toDataURL("image/png"));return n},i.downloadImage=function(t){var e=this,i=document.createElement("a"),n=e.get("renderer"),r=(t||"chart")+("svg"===n?".svg":".png");e.get("canvas").get("timeline").stopAllAnimations(),setTimeout(function(){var t=e.toDataURL();if(window.Blob&&window.URL&&"svg"!==n){for(var a=t.split(","),o=a[0].match(/:(.*?);/)[1],s=atob(a[1]),l=s.length,u=new Uint8Array(l);l--;)u[l]=s.charCodeAt(l);var c=new Blob([u],{type:o});window.navigator.msSaveBlob?window.navigator.msSaveBlob(c,r):i.addEventListener("click",function(){i.download=r,i.href=window.URL.createObjectURL(c)})}else i.addEventListener("click",function(){i.download=r,i.href=t});var h=document.createEvent("MouseEvents");h.initEvent("click",!1,!1),i.dispatchEvent(h)},16)},i.showTooltip=function(t){var e=this.getViewsByPoint(t);if(e.length){this.get("tooltipController").showTooltip(t,e)}return this},i.hideTooltip=function(){return this.get("tooltipController").hideTooltip(),this},i.getTooltipItems=function(t){var e=this.getViewsByPoint(t),i=[];return r.each(e,function(e){var n=e.get("geoms");r.each(n,function(e){var n=e.get("dataArray"),a=[];r.each(n,function(i){var n=e.findPoint(t,i);if(n){var r=e.getTipItems(n);a=a.concat(r)}}),i=i.concat(a)})}),i},i.destroy=function(){this.emit("beforedestroy"),clearTimeout(this.get("resizeTimer"));var e=this.get("canvas"),i=this.get("wrapperEl");i.parentNode.removeChild(i),t.prototype.destroy.call(this),e.destroy(),window.removeEventListener("resize",r.getWrapBehavior(this,"_initForceFitEvent")),this.emit("afterdestroy")},e}(a);t.exports=p},function(t,e,i){var n=i(53),r=i(0),a=function(t){function e(e){var i,n={visible:!0},a=(i=t.call(this)||this).getDefaultCfg();return i._attrs=n,r.assign(n,a,e),i}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){return{}},i.get=function(t){return this._attrs[t]},i.set=function(t,e){this._attrs[t]=e},i.show=function(){this.get("visible")||(this.set("visible",!0),this.changeVisible(!0))},i.hide=function(){this.get("visible")&&(this.set("visible",!1),this.changeVisible(!1))},i.changeVisible=function(){},i.destroy=function(){this._attrs={},this.removeAllListeners(),this.destroyed=!0},e}(n);t.exports=a},function(t,e,i){function n(t,e,i,n){return t[n]+(e[n]-t[n])*i}function r(t){return"#"+a(t[0])+a(t[1])+a(t[2])}function a(t){return t=Math.round(t),1===(t=t.toString(16)).length&&(t="0"+t),t}function o(t){var e=[];return e.push(parseInt(t.substr(1,2),16)),e.push(parseInt(t.substr(3,2),16)),e.push(parseInt(t.substr(5,2),16)),e}var s=i(9),l=i(10),u=i(2),c=/rgba?\(([\s.,0-9]+)\)/,h={},f=null,g={toRGB:function(t){if("#"===t[0]&&7===t.length)return t;f||(f=function(){var t=document.createElement("i");return t.title="Web Colour Picker",t.style.display="none",document.body.appendChild(t),t}());var e;if(h[t])e=h[t];else{f.style.color=t,e=document.defaultView.getComputedStyle(f,"").getPropertyValue("color");e=r(c.exec(e)[1].split(/\s*,\s*/)),h[t]=e}return e},rgb2arr:o,gradient:function(t){var e=[];return l(t)&&(t=t.split("-")),u(t,function(t){-1===t.indexOf("#")&&(t=g.toRGB(t)),e.push(o(t))}),function(t){return function(t,e){(isNaN(e)||!s(e)||e<0)&&(e=0),e>1&&(e=1);var i=t.length-1,a=Math.floor(i*e),o=i*e-a,l=t[a],u=a===i?l:t[a+1];return r([n(l,u,o,0),n(l,u,o,1),n(l,u,o,2)])}(e,t)}}};t.exports=g},function(t,e,i){var n=i(2),r={values:i(64)};t.exports={isAdjust:function(t){return this.adjustNames.indexOf(t)>=0},_getDimValues:function(t){var e={},i=[];if(this.xField&&this.isAdjust("x")&&i.push(this.xField),this.yField&&this.isAdjust("y")&&i.push(this.yField),n(i,function(i){var n=r.values(t,i);n.sort(function(t,e){return t-e}),e[i]=n}),!this.yField&&this.isAdjust("y")){var a=[0,1];e.y=a}return e},adjustData:function(t,e){var i=this,r=i._getDimValues(e);n(t,function(e,a){n(r,function(n,r){i.adjustDim(r,n,e,t.length,a)})})},getAdjustRange:function(t,e,i){var n,r,a=i.indexOf(e),o=i.length;return!this.yField&&this.isAdjust("y")?(n=0,r=1):o>1?(n=0===a?i[0]:i[a-1],r=a===o-1?i[o-1]:i[a+1],0!==a?n+=(e-n)/2:n-=(r-e)/2,a!==o-1?r-=(r-e)/2:r+=(e-i[o-2])/2):(n=0===e?0:e-.5,r=0===e?1:e+.5),{pre:n,next:r}},groupData:function(t,e){var i={};return n(t,function(t){var n=t[e];void 0===n&&(n=t[e]=0),i[n]||(i[n]=[]),i[n].push(t)}),i}}},function(t,e,i){var n={default:i(152),dark:i(304)};t.exports=n},function(t,e){var i,n,r='"-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",SimSun, "sans-serif"',a={defaultColor:"#1890FF",plotCfg:{padding:[20,20,95,80]},fontFamily:r,defaultLegendPosition:"bottom",colors:["#1890FF","#2FC25B","#FACC14","#223273","#8543E0","#13C2C2","#3436C7","#F04864"],colors_16:["#1890FF","#41D9C7","#2FC25B","#FACC14","#E6965C","#223273","#7564CC","#8543E0","#5C8EE6","#13C2C2","#5CA3E6","#3436C7","#B381E6","#F04864","#D598D9"],colors_24:["#1890FF","#66B5FF","#41D9C7","#2FC25B","#6EDB8F","#9AE65C","#FACC14","#E6965C","#57AD71","#223273","#738AE6","#7564CC","#8543E0","#A877ED","#5C8EE6","#13C2C2","#70E0E0","#5CA3E6","#3436C7","#8082FF","#DD81E6","#F04864","#FA7D92","#D598D9"],colors_pie:["#1890FF","#13C2C2","#2FC25B","#FACC14","#F04864","#8543E0","#3436C7","#223273"],colors_pie_16:["#1890FF","#73C9E6","#13C2C2","#6CD9B3","#2FC25B","#9DD96C","#FACC14","#E6965C","#F04864","#D66BCA","#8543E0","#8E77ED","#3436C7","#737EE6","#223273","#7EA2E6"],shapes:{point:["hollowCircle","hollowSquare","hollowDiamond","hollowBowtie","hollowTriangle","hollowHexagon","cross","tick","plus","hyphen","line"],line:["line","dash","dot"],area:["area"]},sizes:[1,10],opacities:[.1,.9],axis:{top:{position:"top",title:null,label:{offset:16,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:r},autoRotate:!0},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0}},bottom:{position:"bottom",title:null,label:{offset:16,autoRotate:!0,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:r}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0}},left:{position:"left",title:null,label:{offset:8,autoRotate:!0,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:r}},line:null,tickLine:null,grid:{zIndex:-1,lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:!0}},right:{position:"right",title:null,label:{offset:8,autoRotate:!0,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:r}},line:null,tickLine:null,grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:!0}},circle:{zIndex:1,title:null,label:{offset:8,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,fontFamily:r}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0},grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:!0}},radius:{zIndex:0,label:{offset:12,textStyle:{fill:"#545454",fontSize:12,textBaseline:"middle",lineHeight:16,fontFamily:r}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0},grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},type:"circle"}},helix:{grid:null,label:null,title:null,line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,length:4,stroke:"#BFBFBF",alignWithLabel:!0}}},label:{offset:20,textStyle:{fill:"#545454",fontSize:12,textBaseline:"middle",fontFamily:r}},treemapLabels:{offset:10,textStyle:{fill:"#fff",fontSize:12,textBaseline:"top",fontStyle:"bold",fontFamily:r}},innerLabels:{textStyle:{fill:"#fff",fontSize:12,textBaseline:"middle",fontFamily:r}},thetaLabels:{labelHeight:14,offset:30},legend:{right:{position:"right",layout:"vertical",itemMarginBottom:8,width:16,height:156,title:null,legendStyle:{LIST_CLASS:{textAlign:"left"}},textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:0,fontFamily:r},unCheckColor:"#bfbfbf"},left:{position:"left",layout:"vertical",itemMarginBottom:8,width:16,height:156,title:null,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:r},unCheckColor:"#bfbfbf"},top:{position:"top",offset:[0,6],layout:"horizontal",title:null,itemGap:10,width:156,height:16,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:r},unCheckColor:"#bfbfbf"},bottom:{position:"bottom",offset:[0,6],layout:"horizontal",title:null,itemGap:10,width:156,height:16,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:r},unCheckColor:"#bfbfbf"},html:(i={},i["g2-legend"]={height:"auto",width:"auto",position:"absolute",overflow:"auto",fontSize:"12px",fontFamily:r,lineHeight:"20px",color:"#8C8C8C"},i["g2-legend-title"]={marginBottom:"4px"},i["g2-legend-list"]={listStyleType:"none",margin:0,padding:0},i["g2-legend-list-item"]={cursor:"pointer",marginBottom:"5px",marginRight:"24px"},i["g2-legend-marker"]={width:"9px",height:"9px",borderRadius:"50%",display:"inline-block",marginRight:"8px",verticalAlign:"middle"},i),gradient:{textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"center",textBaseline:"middle",lineHeight:20,fontFamily:r},lineStyle:{lineWidth:1,stroke:"#fff"},unCheckColor:"#bfbfbf"},margin:[0,5,24,5],legendMargin:24},tooltip:(n={useHtml:!0,crosshairs:!1,offset:15},n["g2-tooltip"]={position:"absolute",visibility:"hidden",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:r,lineHeight:"20px",padding:"10px 10px 6px 10px"},n["g2-tooltip-title"]={marginBottom:"4px"},n["g2-tooltip-list"]={margin:0,listStyleType:"none",padding:0},n["g2-tooltip-list-item"]={marginBottom:"4px"},n["g2-tooltip-marker"]={width:"5px",height:"5px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},n["g2-tooltip-value"]={display:"inline-block",float:"right",marginLeft:"30px"},n),tooltipMarker:{symbol:function(t,e,i){return[["M",t,e],["m",-i,0],["a",i,i,0,1,0,2*i,0],["a",i,i,0,1,0,2*-i,0]]},stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffSetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,radius:4},tooltipCrosshairsRect:{type:"rect",rectStyle:{fill:"#CCD6EC",opacity:.3}},tooltipCrosshairsLine:{lineStyle:{stroke:"rgba(0, 0, 0, 0.25)",lineWidth:1}},shape:{point:{lineWidth:1,fill:"#1890FF",radius:4},hollowPoint:{fill:"#fff",lineWidth:1,stroke:"#1890FF",radius:3},interval:{lineWidth:0,fill:"#1890FF",fillOpacity:.85},hollowInterval:{fill:"#fff",stroke:"#1890FF",fillOpacity:0,lineWidth:2},area:{lineWidth:0,fill:"#1890FF",fillOpacity:.6},polygon:{lineWidth:0,fill:"#1890FF",fillOpacity:1},hollowPolygon:{fill:"#fff",stroke:"#1890FF",fillOpacity:0,lineWidth:2},hollowArea:{fill:"#fff",stroke:"#1890FF",fillOpacity:0,lineWidth:2},line:{stroke:"#1890FF",lineWidth:2,fill:null},edge:{stroke:"#1890FF",lineWidth:1,fill:null},schema:{stroke:"#1890FF",lineWidth:1,fill:null}},guide:{line:{lineStyle:{stroke:"rgba(0, 0, 0, .65)",lineDash:[2,2],lineWidth:1},text:{position:"start",autoRotate:!0,style:{fill:"rgba(0, 0, 0, .45)",fontSize:12,textAlign:"start",fontFamily:r,textBaseline:"bottom"}}},text:{style:{fill:"rgba(0,0,0,.5)",fontSize:12,textBaseline:"middle",textAlign:"start",fontFamily:r}},region:{style:{lineWidth:0,fill:"#000",fillOpacity:.04}},html:{alignX:"middle",alignY:"middle"},dataRegion:{style:{region:{lineWidth:0,fill:"#000000",opacity:.04},text:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:"rgba(0, 0, 0, .65)"}}},dataMarker:{top:!0,style:{point:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2},line:{stroke:"#A3B1BF",lineWidth:1},text:{fill:"rgba(0, 0, 0, .65)",opacity:1,fontSize:12,textAlign:"start"}},display:{point:!0,line:!0,text:!0},lineLength:20,direction:"upward",autoAdjust:!0}},pixelRatio:null};t.exports=a},function(t,e,i){var n=i(25).Group,r=i(3),a=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){return{zIndex:1,type:"line",lineStyle:null,items:null,alternateColor:null,matrix:null,hideFirstLine:!1,hideLastLine:!1,hightLightZero:!1,zeroLineStyle:{stroke:"#595959",lineDash:[0,0]}}},i._renderUI=function(){t.prototype._renderUI.call(this),this._drawLines()},i._drawLines=function(){var t=this.get("lineStyle"),e=this.get("items");e&&e.length&&(this._precessItems(e),this._drawGridLines(e,t))},i._precessItems=function(t){var e,i=this;r.each(t,function(t,n){e&&i.get("alternateColor")&&i._drawAlternativeBg(t,e,n),e=t})},i._drawGridLines=function(t,e){var i,n,a,o,s=this,l=this.get("type"),u=t.length;"line"===l||"polygon"===l?r.each(t,function(t,c){s.get("hideFirstLine")&&0===c||s.get("hideLastLine")&&c===u-1||(o=t.points,n=[],"line"===l?(n.push(["M",o[0].x,o[0].y]),n.push(["L",o[o.length-1].x,o[o.length-1].y])):r.each(o,function(t,e){0===e?n.push(["M",t.x,t.y]):n.push(["L",t.x,t.y])}),a=s._drawZeroLine(l,c)?r.mix({},s.get("zeroLineStyle"),{path:n}):r.mix({},e,{path:n}),(i=s.addShape("path",{attrs:a})).name="axis-grid",i._id=t._id,i.set("coord",s.get("coord")),s.get("appendInfo")&&i.setSilent("appendInfo",s.get("appendInfo")))}):r.each(t,function(t,l){s.get("hideFirstLine")&&0===l||s.get("hideLastLine")&&l===u-1||(o=t.points,n=[],r.each(o,function(t,e){var i=t.radius;0===e?n.push(["M",t.x,t.y]):n.push(["A",i,i,0,0,t.flag,t.x,t.y])}),a=r.mix({},e,{path:n}),(i=s.addShape("path",{attrs:a})).name="axis-grid",i._id=t._id,i.set("coord",s.get("coord")),s.get("appendInfo")&&i.setSilent("appendInfo",s.get("appendInfo")))})},i._drawZeroLine=function(t,e){var i=this.get("tickValues");return!("line"!==t||!i||0!==i[e]||!this.get("hightLightZero"))},i._drawAlternativeBg=function(t,e,i){var n,a,o,s=this.get("alternateColor");r.isString(s)?a=s:r.isArray(s)&&(a=s[0],o=s[1]),i%2==0?o&&(n=this._getBackItem(e.points,t.points,o)):a&&(n=this._getBackItem(e.points,t.points,a));var l=this.addShape("Path",{attrs:n});l.name="axis-grid-rect",l._id=t._id&&t._id.replace("grid","grid-rect"),l.set("coord",this.get("coord")),this.get("appendInfo")&&l.setSilent("appendInfo",this.get("appendInfo"))},i._getBackItem=function(t,e,i){var n=[],a=this.get("type");if("line"===a)n.push(["M",t[0].x,t[0].y]),n.push(["L",t[t.length-1].x,t[t.length-1].y]),n.push(["L",e[e.length-1].x,e[e.length-1].y]),n.push(["L",e[0].x,e[0].y]),n.push(["Z"]);else if("polygon"===a){r.each(t,function(t,e){0===e?n.push(["M",t.x,t.y]):n.push(["L",t.x,t.y])});for(var o=e.length-1;o>=0;o--)n.push(["L",e[o].x,e[o].y]);n.push(["Z"])}else{var s=t[0].flag;r.each(t,function(t,e){var i=t.radius;0===e?n.push(["M",t.x,t.y]):n.push(["A",i,i,0,0,t.flag,t.x,t.y])});for(var l=e.length-1;l>=0;l--){var u=e[l],c=u.radius;l===e.length-1?n.push(["M",u.x,u.y]):n.push(["A",c,c,0,0,1===s?0:1,u.x,u.y])}}return{fill:i,path:n}},e}(n);t.exports=a},function(t,e,i){var n=i(3),r=n.DomUtil,a=i(32),o={scatter:i(307),map:i(308),treemap:i(309)},s=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return n.mix({},e,{name:"label",type:"default",textStyle:null,formatter:null,items:null,useHtml:!1,containerTpl:'<div class="g-labels" style="position:absolute;top:0;left:0;"></div>',itemTpl:'<div class="g-label" style="position:absolute;">{text}</div>',labelLine:!1,lineGroup:null,shapes:null,config:!0,capture:!0})},i.clear=function(){var e=this.get("group"),i=this.get("container");e&&!e.get("destroyed")&&e.clear(),i&&(i.innerHTML=""),t.prototype.clear.call(this)},i.destroy=function(){var t=this.get("group"),e=this.get("container");t.destroy||t.destroy(),e&&(e.innerHTML="")},i.render=function(){this.clear(),this._init(),this.beforeDraw(),this.draw(),this.afterDraw()},i._dryDraw=function(){var t=this,e=t.get("items"),i=t.getLabels(),r=i.length;n.each(e,function(e,n){if(n<r){var a=i[n];t.changeLabel(a,e)}else{var o=t._addLabel(e,n);o&&(o._id=e._id,o.set("coord",e.coord))}});for(var a=r-1;a>=e.length;a--)i[a].remove();t._adjustLabels(),!t.get("labelLine")&&t.get("config")||t.drawLines()},i.draw=function(){this._dryDraw(),this.get("canvas").draw()},i.changeLabel=function(t,e){if(t)if(t.tagName){var i=this._createDom(e);t.innerHTML=i.innerHTML,this._setCustomPosition(e,t)}else t._id=e._id,t.attr("text",e.text),t.attr("x")===e.x&&t.attr("y")===e.y||(t.resetMatrix(),e.textStyle.rotate&&(t.rotateAtStart(e.textStyle.rotate),delete e.textStyle.rotate),t.attr(e))},i.show=function(){var t=this.get("group"),e=this.get("container");t&&t.show(),e&&(e.style.opacity=1)},i.hide=function(){var t=this.get("group"),e=this.get("container");t&&t.hide(),e&&(e.style.opacity=0)},i.drawLines=function(){var t=this;"boolean"==typeof t.get("labelLine")&&t.set("labelLine",{});var e=t.get("lineGroup");!e||e.get("destroyed")?(e=t.get("group").addGroup({elCls:"x-line-group"}),t.set("lineGroup",e)):e.clear(),n.each(t.get("items"),function(i){t.lineToLabel(i,e)})},i.lineToLabel=function(t,e){if(this.get("config")||t.labelLine){var i=t.labelLine||this.get("labelLine"),r=void 0===t.capture?this.get("capture"):t.capture,a=i.path;if(a&&n.isFunction(i.path)&&(a=i.path(t)),!a){var o=t.start||{x:t.x-t._offset.x,y:t.y-t._offset.y};a=[["M",o.x,o.y],["L",t.x,t.y]]}var s=t.color;s||(s=t.textStyle&&t.textStyle.fill?t.textStyle.fill:"#000");var l=e.addShape("path",{attrs:n.mix({path:a,fill:null,stroke:s},i),capture:r});l.name=this.get("name"),l._id=t._id&&t._id.replace("glabel","glabelline"),l.set("coord",this.get("coord"))}},i._adjustLabels=function(){var t=this.get("type"),e=this.getLabels(),i=this.get("shapes"),n=o[t];"default"!==t&&n&&n(e,i)},i.getLabels=function(){var t=this.get("container");return t?n.toArray(t.childNodes):this.get("group").get("children")},i._addLabel=function(t,e){var i=t;return this.get("config")&&(i=this._getLabelCfg(t,e)),this._createText(i)},i._getLabelCfg=function(t,e){var i=this.get("textStyle")||{},r=this.get("formatter"),a=this.get("htmlTemplate");if(!n.isObject(t)){var o=t;(t={}).text=o}n.isFunction(i)&&(i=i(t.text,t,e)),r&&(t.text=r(t.text,t,e)),a&&(t.useHtml=!0,n.isFunction(a)&&(t.text=a(t.text,t,e))),n.isNil(t.text)&&(t.text=""),t.text=t.text+"";return n.mix({},t,{textStyle:i},{x:t.x||0,y:t.y||0})},i._init=function(){if(!this.get("group")){var t=this.get("canvas").addGroup({id:"label-group"});this.set("group",t)}},i.initHtmlContainer=function(){var t=this.get("container");if(t)n.isString(t)&&(t=document.getElementById(t))&&this.set("container",t);else{var e=this.get("containerTpl"),i=this.get("canvas").get("el").parentNode;t=r.createDom(e),i.style.position="relative",i.appendChild(t),this.set("container",t)}return t},i._createText=function(t){var e,i=n.deepMix({},t),r=this.get("container"),a=void 0===i.capture?this.get("capture"):i.capture;if(!i.useHtml&&!i.htmlTemplate){var o=this.get("name"),s=i.point,l=this.get("group");delete i.point;var u=i.rotate;return i.textStyle&&(i.textStyle.rotate&&(u=i.textStyle.rotate,delete i.textStyle.rotate),i=n.mix({x:i.x,y:i.y,textAlign:i.textAlign,text:i.text},i.textStyle)),e=l.addShape("text",{attrs:i,capture:a}),u&&(Math.abs(u)>2*Math.PI&&(u=u/180*Math.PI),e.transform([["t",-i.x,-i.y],["r",u],["t",i.x,i.y]])),e.setSilent("origin",s||i),e.name=o,this.get("appendInfo")&&e.setSilent("appendInfo",this.get("appendInfo")),e}r||(r=this.initHtmlContainer());var c=this._createDom(i);r.appendChild(c),this._setCustomPosition(i,c)},i._createDom=function(t){var e=this.get("itemTpl"),i=n.substitute(e,{text:t.text});return r.createDom(i)},i._setCustomPosition=function(t,e){var i=t.textAlign||"left",n=t.y,a=t.x,o=r.getOuterWidth(e);n-=r.getOuterHeight(e)/2,"center"===i?a-=o/2:"right"===i&&(a-=o),e.style.top=parseInt(n,10)+"px",e.style.left=parseInt(a,10)+"px"},e}(a);t.exports=s},function(t,e){var i=function(){function t(){this.bitmap=[]}var e=t.prototype;return e.hasGap=function(t){for(var e=!0,i=this.bitmap,n=Math.floor(t.minX),r=Math.ceil(t.maxX),a=Math.floor(t.minY),o=Math.ceil(t.maxY)-1,s=n;s<r;s++)if(i[s]){if(s===n||s===r-1){for(var l=a;l<=o;l++)if(i[s][l]){e=!1;break}}else if(i[s][a]||i[s][o]){e=!1;break}}else i[s]=[];return e},e.fillGap=function(t){for(var e=this.bitmap,i=Math.floor(t.minX),n=Math.ceil(t.maxX)-1,r=Math.floor(t.minY),a=Math.ceil(t.maxY)-1,o=i;o<=n;o++){for(var s=r;s<a;s+=8)e[o]||(e[o]=[]),e[o][s]=!0;e[o][a]=!0}for(var l=r;l<=a;l++)e[i][l]=!0,e[n][l]=!0},t}();t.exports=i},function(t,e,i){var n=i(3);t.exports={getFirstScale:function(t){var e;return n.each(t,function(t){if(t)return e=t,!1}),e}}},function(t,e,i){function n(t,e){var i=null,n=e instanceof u||"legendGroup"===e.name?e.get("value"):e;return a.each(t,function(t){if(t.value===n)return i=t,!1}),i}function r(t,e){return t.findBy(function(t){return t.name===e})}var a=i(3),o=i(158),s=i(14).FONT_FAMILY,l=a.Event,u=a.Group,c=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return a.mix({},e,{type:"category-legend",items:null,itemGap:5,itemMarginBottom:8,itemsGroup:null,layout:"horizontal",allowAllCanceled:!1,backPadding:[0,0,0,0],unCheckColor:"#ccc",background:{fill:"#fff",fillOpacity:0},itemWidth:null,textStyle:{fill:"#333",fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:s},_wordSpaceing:8,clickable:!0,selectedMode:"multiple",reversed:!1,autoWrap:!0,highlight:!1,activeOpacity:.7,inactiveOpacity:1})},i.render=function(){t.prototype.render.call(this),this._renderItems(),this.get("autoWrap")&&this._adjustItems()},i._bindEvents=function(){this.get("hoverable")&&(this.get("group").on("mousemove",a.wrapBehavior(this,"_onMousemove")),this.get("group").on("mouseleave",a.wrapBehavior(this,"_onMouseleave"))),this.get("clickable")&&this.get("group").on("click",a.wrapBehavior(this,"_onClick"))},i._getLegendItem=function(t){var e=t.get("parent");return e&&"legendGroup"===e.name?e:null},i.activate=function(t){var e=this,i=this,n=void 0;i.get("itemsGroup").get("children").forEach(function(a){if(n=r(a,"legend-marker")){var o=a.get("checked");e.get("highlight")?a.get("value")===t&&o?n.attr("stroke","#333"):n.attr("stroke",null):a.get("value")===t&&n.attr("fillOpacity",i.get("activeOpacity"))}}),this.get("canvas").draw()},i.deactivate=function(){var t=this,e=this,i=e.get("itemsGroup").get("children"),n=void 0,a=this.get("unCheckColor");i.forEach(function(i){if(n=r(i,"legend-marker"))if(t.get("highlight")){var o=n.get("oriStroke"),s=i.get("checked");o=o&&!s?a:"",n.attr("stroke",o)}else n.attr("fillOpacity",e.get("inactiveOpacity"))}),this.get("canvas").draw()},i._onMousemove=function(t){var e=this._getLegendItem(t.currentTarget);if(e&&e.get("checked")){var i=this.get("items"),r=new l("itemhover",t,!0,!0);r.item=n(i,e),r.checked=e.get("checked"),r.currentTarget=t.currentTarget,this.deactivate(),this.activate(e.get("value")),this.emit("itemhover",r)}else this.deactivate(),this.emit("itemunhover",t);this.get("canvas").draw()},i._onMouseleave=function(t){this.deactivate(),this.get("canvas").draw(),this.emit("itemunhover",t)},i._onClick=function(t){var e=this._getLegendItem(t.currentTarget),i=this.get("items");if(e&&!e.get("destroyed")){var o=e.get("checked"),s=this.get("selectedMode"),u=n(i,e),c=new l("itemclick",t,!0,!0);if(c.item=u,c.currentTarget=e,c.appendInfo=t.currentTarget.get("appendInfo"),c.checked="single"===s||!o,!this.get("allowAllCanceled")&&o&&1===this.getCheckedCount())return void this.emit("clicklastitem",c);var h=this.get("unCheckColor"),f=this.get("textStyle").fill,g=void 0,p=void 0,d=void 0;if("single"===s){var v=this.get("itemsGroup").get("children");a.each(v,function(t){g=r(t,"legend-marker"),p=r(t,"legend-text"),d=r(t,"legend-item"),t!==e?(g.attr("fill")&&g.attr("fill",h),g.attr("stroke")&&g.attr("stroke",h),p.attr("fill",h),g.setSilent("checked",!1),p.setSilent("checked",!1),d.setSilent("checked",!1),t.setSilent("checked",!1)):(g.attr("fill")&&u&&u.marker&&g.attr("fill",u.marker.fill),g.attr("stroke")&&u&&u.marker&&g.attr("stroke",u.marker.stroke),p.attr("fill",f),g.setSilent("checked",!0),p.setSilent("checked",!0),d.setSilent("checked",!0),t.setSilent("checked",!0))})}else g=r(e,"legend-marker"),p=r(e,"legend-text"),d=r(e,"legend-item"),g.attr("fill")&&u&&u.marker&&g.attr("fill",o?h:u.marker.fill),g.attr("stroke")&&u&&u.marker&&g.attr("stroke",o?h:u.marker.stroke),p.attr("fill",o?h:f),e.setSilent("checked",!o),g.setSilent("checked",!o),p.setSilent("checked",!o),d.setSilent("checked",!o);this.emit("itemclick",c)}this.get("canvas").draw()},i._renderItems=function(){var t=this,e=this.get("items");if(this.get("reversed")&&e.reverse(),a.each(e,function(e,i){t._addItem(e,i)}),this.get("highlight")){var i=void 0;this.get("itemsGroup").get("children").forEach(function(t){(i=r(t,"legend-marker")).get("oriStroke")||(i.attr("stroke")?i.set("oriStroke",i.attr("stroke")):i.set("oriStroke",""))})}},i._formatItemValue=function(t){var e=this.get("formatter")||this.get("itemFormatter");return e&&(t=e.call(this,t)),t},i._getNextX=function(){var t=this.get("layout"),e=this.get("itemGap"),i=this.get("itemsGroup"),n=this.get("itemWidth"),r=i.get("children"),o=0;return"horizontal"===t&&a.each(r,function(t){o+=(n||t.getBBox().width)+e}),o},i._getNextY=function(){var t=this.get("itemMarginBottom"),e=this.get("titleShape")?this.get("titleGap"):0,i=this.get("layout"),n=this.get("itemsGroup"),r=this.get("titleShape"),o=n.get("children"),s=e;return r&&(s+=r.getBBox().height),"vertical"===i&&a.each(o,function(e){s+=e.getBBox().height+t}),s},i._addItem=function(t){var e=this.get("itemsGroup"),i=this._getNextX(),n=this._getNextY(),r=this.get("unCheckColor"),o=e.addGroup({x:i,y:n,value:t.value,checked:t.checked});o.set("viewId",this.get("viewId"));var l=this.get("textStyle"),u=this.get("_wordSpaceing"),c=0;if(t.marker){var h=a.mix({},t.marker,{x:t.marker.radius+i,y:n});t.checked||(h.fill&&(h.fill=r),h.stroke&&(h.stroke=r));var f=o.addShape("marker",{type:"marker",attrs:h});f.attr("cursor","pointer"),f.name="legend-marker",c+=f.getBBox().width+u}var g=a.mix({},{fill:"#333",fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:s},l,{x:c+i,y:n,text:this._formatItemValue(t.value)});t.checked||a.mix(g,{fill:r});var p=o.addShape("text",{attrs:g});p.attr("cursor","pointer"),p.name="legend-text",this.get("appendInfo")&&p.setSilent("appendInfo",this.get("appendInfo"));var d=o.getBBox(),v=this.get("itemWidth"),m=o.addShape("rect",{attrs:{x:i,y:n-d.height/2,fill:"#fff",fillOpacity:0,width:v||d.width,height:d.height}});return m.attr("cursor","pointer"),m.setSilent("origin",t),m.name="legend-item",this.get("appendInfo")&&m.setSilent("appendInfo",this.get("appendInfo")),o.name="legendGroup",o},i._adjustHorizontal=function(){var t=this.get("itemsGroup"),e=t.get("children"),i=this.get("maxLength"),n=this.get("itemGap"),r=this.get("itemMarginBottom"),o=this.get("titleShape")?this.get("titleGap"):0,s=0,l=0,u=void 0,c=void 0,h=void 0,f=this.get("itemWidth");t.getBBox().width>i&&a.each(e,function(t){h=t.getBBox(),u=f||h.width,c=h.height+r,i-l<u&&(s++,l=0),t.move(l,s*c+o),l+=u+n})},i._adjustVertical=function(){var t=this.get("itemsGroup"),e=this.get("titleShape"),i=t.get("children"),n=this.get("maxLength"),r=this.get("itemGap"),o=this.get("itemMarginBottom"),s=this.get("titleGap"),l=e?e.getBBox().height+s:0,u=this.get("itemWidth"),c=l,h=void 0,f=void 0,g=void 0,p=0,d=0;t.getBBox().height>n&&a.each(i,function(t){g=t.getBBox(),h=g.width,f=g.height,u?p=u+r:h>p&&(p=h+r),n-c<f?(c=l,d+=p,t.move(d,l)):t.move(d,c),c+=f+o})},i._adjustItems=function(){"horizontal"===this.get("layout")?this._adjustHorizontal():this._adjustVertical()},i.getWidth=function(){return t.prototype.getWidth.call(this)},i.getHeight=function(){return t.prototype.getHeight.call(this)},i.move=function(e,i){t.prototype.move.call(this,e,i)},e}(o);t.exports=c},function(t,e,i){var n=i(3),r=i(32),a=i(14).FONT_FAMILY,o=function(t){function e(e){var i;return(i=t.call(this,e)||this)._init(),i.beforeRender(),i.render(),i._adjustPositionOffset(),i._bindEvents(),i}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){return{container:null,title:null,formatter:null,hoverable:!0,titleGap:15,position:[0,0],offset:[0,0],offsetX:null,offsetY:null}},i._init=function(){var t=this.get("group"),e=this.get("container");this.set("canvas",e.get("canvas"));var i=this.get("position");t||(t=e.addGroup({x:0-i[0],y:0-i[1]})),this.set("group",t)},i._adjustPositionOffset=function(){var t=this.get("position"),e=this.get("offset"),i=this.get("offsetX"),r=this.get("offsetY");if(!n.isArray(e)){e="vertical"===this.get("layout")?[e,0]:[0,e]}i&&(e[0]=i),r&&(e[1]=r);var a=this.get("group").getBBox();this.move(-a.minX+t[0]+e[0],-a.minY+t[1]+e[1])},i.beforeRender=function(){var t=this.get("group").addGroup();this.set("itemsGroup",t)},i.render=function(){this._renderTitle()},i._renderTitle=function(){var t=this.get("title"),e=this.get("titleGap");if(e=e||0,t&&t.text){var i=this.get("group").addShape("text",{attrs:n.mix({x:0,y:0-e,fill:"#333",textBaseline:"middle",fontFamily:a},t)});i.name="legend-title",this.get("appendInfo")&&i.setSilent("appendInfo",this.get("appendInfo")),this.set("titleShape",i)}},i.getCheckedCount=function(){var t=this.get("itemsGroup").get("children");return n.filter(t,function(t){return t.get("checked")}).length},i.setItems=function(t){this.set("items",t),this.clear(),this.render()},i.addItem=function(t){this.get("items").push(t),this.clear(),this.render()},i.clear=function(){this.get("itemsGroup").clear();this.get("group").clear(),this.beforeRender()},i.destroy=function(){this.get("group").destroy(),this._attrs={},this.removeAllListeners(),this.destroyed=!0},i.getWidth=function(){return this.get("group").getBBox().width},i.getHeight=function(){return this.get("group").getBBox().height},i.move=function(t,e){this.get("group").move(t,e)},i.draw=function(){this.get("canvas").draw()},e}(r);t.exports=o},function(t,e,i){function n(t,e){return t.getElementsByClassName(e)[0]}function r(t,e){var i=t.className;return o.isNil(i)?t:(i=i.split(" ")).indexOf(e)>-1?t:t.parentNode?t.parentNode.className===h?t.parentNode:r(t.parentNode,e):null}function a(t,e){var i=null,n=e instanceof c?e.get("value"):e;return o.each(t,function(t){if(t.value===n)return i=t,!1}),i}var o=i(3),s=i(157),l=i(14).FONT_FAMILY,u=o.DomUtil,c=o.Group,h="g2-legend",f="g2-legend-list",g="g2-legend-list-item",p="g2-legend-marker",d=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return o.mix({},e,{type:"category-legend",container:null,containerTpl:'<div class="'+h+'"><h4 class="g2-legend-title"></h4><ul class="'+f+'"></ul></div>',itemTpl:'<li class="'+g+' item-{index} {checked}" data-color="{originColor}" data-value="{originValue}"><i class="'+p+'" style="background-color:{color};"></i><span class="g2-legend-text">{value}</span></li>',legendStyle:{},textStyle:{fill:"#333",fontSize:12,textAlign:"middle",textBaseline:"top",fontFamily:l},abridgeText:!1,tipTpl:'<div class="textTip"></div>',tipStyle:{display:"none",fontSize:"12px",backgroundColor:"#fff",position:"absolute",width:"auto",height:"auto",padding:"3px",boxShadow:"2px 2px 5px #888"},autoPosition:!0})},i._init=function(){},i.beforeRender=function(){},i.render=function(){this._renderHTML()},i._bindEvents=function(){var t=this,e=n(this.get("legendWrapper"),f);this.get("hoverable")&&(e.onmousemove=function(e){return t._onMousemove(e)},e.onmouseout=function(e){return t._onMouseleave(e)}),this.get("clickable")&&(e.onclick=function(e){return t._onClick(e)})},i._onMousemove=function(t){var e=this.get("items"),i=t.target,n=i.className;if(!((n=n.split(" ")).indexOf(h)>-1||n.indexOf(f)>-1)){var o=r(i,g),s=a(e,o.getAttribute("data-value"));s?(this.deactivate(),this.activate(o.getAttribute("data-value")),this.emit("itemhover",{item:s,currentTarget:o,checked:s.checked})):s||(this.deactivate(),this.emit("itemunhover",t))}},i._onMouseleave=function(t){this.deactivate(),this.emit("itemunhover",t)},i._onClick=function(t){var e=this,i=n(this.get("legendWrapper"),f),s=this.get("unCheckColor"),l=this.get("items"),u=this.get("selectedMode"),c=i.childNodes,d=t.target,v=d.className;if(!((v=v.split(" ")).indexOf(h)>-1||v.indexOf(f)>-1)){var m=r(d,g),y=n(m,"g2-legend-text"),x=n(m,p),b=a(l,m.getAttribute("data-value"));if(b){var _=m.className,M=m.getAttribute("data-color");if("single"===u)b.checked=!0,o.each(c,function(t){if(t!==m){n(t,p).style.backgroundColor=s,t.className=t.className.replace("checked","unChecked"),t.style.color=s;a(l,t.getAttribute("data-value")).checked=!1}else y&&(y.style.color=e.get("textStyle").fill),x&&(x.style.backgroundColor=M),m.className=_.replace("unChecked","checked")});else{var S=-1!==_.indexOf("checked"),w=0;if(o.each(c,function(t){-1!==t.className.indexOf("checked")&&w++}),!this.get("allowAllCanceled")&&S&&1===w)return void this.emit("clicklastitem",{item:b,currentTarget:m,checked:"single"===u||b.checked});b.checked=!b.checked,S?(x&&(x.style.backgroundColor=s),m.className=_.replace("checked","unChecked"),m.style.color=s):(x&&(x.style.backgroundColor=M),m.className=_.replace("unChecked","checked"),m.style.color=this.get("textStyle").fill)}this.emit("itemclick",{item:b,currentTarget:m,checked:"single"===u||b.checked})}}},i.activate=function(t){var e=this,i=this,r=i.get("items"),o=a(r,t);n(i.get("legendWrapper"),f).childNodes.forEach(function(t){var s=n(t,p),l=a(r,t.getAttribute("data-value"));if(e.get("highlight")){if(l===o&&l.checked)return void(s.style.border="1px solid #333")}else l===o?s.style.opacity=i.get("activeOpacity"):l.checked&&(s.style.opacity=i.get("inactiveOpacity"))})},i.deactivate=function(){var t=this,e=this;n(e.get("legendWrapper"),f).childNodes.forEach(function(i){var r=n(i,p);t.get("highlight")?r.style.border="1px solid #fff":r.style.opacity=e.get("inactiveOpacity")})},i._renderHTML=function(){var t=this,e=this.get("container"),i=this.get("title"),r=this.get("containerTpl"),a=u.createDom(r),s=n(a,"g2-legend-title"),c=n(a,f),d=this.get("unCheckColor"),v=o.deepMix({},{CONTAINER_CLASS:{height:"auto",width:"auto",position:"absolute",overflowY:"auto",fontSize:"12px",fontFamily:l,lineHeight:"20px",color:"#8C8C8C"},TITLE_CLASS:{marginBottom:this.get("titleGap")+"px",fontSize:"12px",color:"#333",textBaseline:"middle",fontFamily:l},LIST_CLASS:{listStyleType:"none",margin:0,padding:0,textAlign:"center"},LIST_ITEM_CLASS:{cursor:"pointer",marginBottom:"5px",marginRight:"24px"},MARKER_CLASS:{width:"9px",height:"9px",borderRadius:"50%",display:"inline-block",marginRight:"4px",verticalAlign:"middle"}},this.get("legendStyle"));if(/^\#/.test(e)||"string"==typeof e&&e.constructor===String){var m=e.replace("#","");(e=document.getElementById(m)).appendChild(a)}else{var y=this.get("position"),x={};x="left"===y||"right"===y?{maxHeight:(this.get("maxLength")||e.offsetHeight)+"px"}:{maxWidth:(this.get("maxLength")||e.offsetWidth)+"px"},u.modifyCSS(a,o.mix({},v.CONTAINER_CLASS,x,this.get(h))),e.appendChild(a)}u.modifyCSS(c,o.mix({},v.LIST_CLASS,this.get(f))),s&&(i&&i.text?(s.innerHTML=i.text,u.modifyCSS(s,o.mix({},v.TITLE_CLASS,this.get("g2-legend-title"),i))):a.removeChild(s));var b=this.get("items"),_=this.get("itemTpl"),M=this.get("position"),S=this.get("layout"),w="right"===M||"left"===M||"vertical"===S?"block":"inline-block",k=o.mix({},v.LIST_ITEM_CLASS,{display:w},this.get(g)),C=o.mix({},v.MARKER_CLASS,this.get(p));if(o.each(b,function(e,i){var r,s=e.checked,l=t._formatItemValue(e.value),h=e.marker.fill||e.marker.stroke,f=s?h:d;r=o.isFunction(_)?_(l,f,s,i):_;var g=o.substitute(r,o.mix({},e,{index:i,checked:s?"checked":"unChecked",value:l,color:f,originColor:h,originValue:e.value.replace(/\"/g,"&quot;")})),v=u.createDom(g);v.style.color=t.get("textStyle").fill;var m=n(v,p),y=n(v,"g2-legend-text");if(u.modifyCSS(v,k),m&&u.modifyCSS(m,C),s||(v.style.color=d,m&&(m.style.backgroundColor=d)),c.appendChild(v),t.get("abridgeText")){var x=l,b=v.offsetWidth,M=t.get("textStyle").fontSize;isNaN(M)&&(-1!==M.indexOf("pt")?M=1*parseFloat(M.substr(0,M.length-2))/72*96:-1!==M.indexOf("px")&&(M=parseFloat(M.substr(0,M.length-2))));var S=M*x.length,w=Math.floor(b/M);b<2*M?x="":b<S&&w>1&&(x=x.substr(0,w-1)+"..."),y.innerText=x,v.addEventListener("mouseover",function(){var t=n(a.parentNode,"textTip");t.style.display="block",t.style.left=v.offsetLeft+v.offsetWidth+"px",t.style.top=v.offsetTop+15+"px",t.innerText=l}),v.addEventListener("mouseout",function(){n(a.parentNode,"textTip").style.display="none"})}}),this.get("abridgeText")){var A=this.get("tipTpl"),T=u.createDom(A),P=this.get("tipStyle");u.modifyCSS(T,P),a.parentNode.appendChild(T),T.addEventListener("mouseover",function(){T.style.display="none"})}this.set("legendWrapper",a)},i._adjustPositionOffset=function(){if(!1!==this.get("autoPosition")){var t=this.get("position"),e=this.get("offset"),i=this.get("offsetX"),n=this.get("offsetY");i&&(e[0]=i),n&&(e[1]=n);var r=this.get("legendWrapper");r.style.left=t[0]+"px",r.style.top=t[1]+"px",r.style.marginLeft=e[0]+"px",r.style.marginTop=e[1]+"px"}},i.getWidth=function(){return u.getOuterWidth(this.get("legendWrapper"))},i.getHeight=function(){return u.getOuterHeight(this.get("legendWrapper"))},i.move=function(e,i){/^\#/.test(this.get("container"))?t.prototype.move.call(this,e,i):(u.modifyCSS(this.get("legendWrapper"),{left:e+"px",top:i+"px"}),this.set("x",e),this.set("y",i))},i.destroy=function(){var t=this.get("legendWrapper");t&&t.parentNode&&t.parentNode.removeChild(t)},e}(s);t.exports=d},function(t,e,i){var n=i(32),r=i(3),a=function(t){function e(e){var i;return(i=t.call(this,e)||this)._init_(),i.render(),i}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:null,plot:null,plotRange:null,rectStyle:{fill:"#CCD6EC",opacity:.3},lineStyle:{stroke:"rgba(0, 0, 0, 0.25)",lineWidth:1},isTransposed:!1})},i._init_=function(){var t,e=this.get("plot");t="rect"===this.type?e.addGroup({zIndex:0}):e.addGroup(),this.set("container",t)},i._addLineShape=function(t,e){var i=this.get("container").addShape("line",{capture:!1,attrs:t});return this.set("crossLineShape"+e,i),i},i._renderHorizontalLine=function(t,e){var i=r.mix(this.get("lineStyle"),this.get("style")),n=r.mix({x1:e?e.bl.x:t.get("width"),y1:0,x2:e?e.br.x:0,y2:0},i);this._addLineShape(n,"X")},i._renderVerticalLine=function(t,e){var i=r.mix(this.get("lineStyle"),this.get("style")),n=r.mix({x1:0,y1:e?e.bl.y:t.get("height"),x2:0,y2:e?e.tl.y:0},i);this._addLineShape(n,"Y")},i._renderBackground=function(t,e){var i=r.mix(this.get("rectStyle"),this.get("style")),n=this.get("container"),a=r.mix({x:e?e.tl.x:0,y:e?e.tl.y:t.get("height"),width:e?e.br.x-e.bl.x:t.get("width"),height:e?Math.abs(e.tl.y-e.bl.y):t.get("height")},i),o=n.addShape("rect",{attrs:a,capture:!1});return this.set("crosshairsRectShape",o),o},i._updateRectShape=function(t){var e,i=this.get("crosshairsRectShape"),n=this.get("isTransposed"),a=t[0],o=t[t.length-1],s=n?"y":"x",l=n?"height":"width",u=a[s];if(t.length>1&&a[s]>o[s]&&(u=o[s]),this.get("width"))i.attr(s,u-this.get("crosshairs").width/2),i.attr(l,this.get("width"));else if(r.isArray(a.point[s])&&!a.size){var c=a.point[s][1]-a.point[s][0];i.attr(s,a.point[s][0]),i.attr(l,c)}else e=3*a.size/4,i.attr(s,u-e),1===t.length?i.attr(l,3*a.size/2):i.attr(l,Math.abs(o[s]-a[s])+2*e)},i.render=function(){var t=this.get("canvas"),e=this.get("plotRange"),i=this.get("isTransposed");switch(this.clear(),this.get("type")){case"x":this._renderHorizontalLine(t,e);break;case"y":this._renderVerticalLine(t,e);break;case"cross":this._renderHorizontalLine(t,e),this._renderVerticalLine(t,e);break;case"rect":this._renderBackground(t,e);break;default:i?this._renderHorizontalLine(t,e):this._renderVerticalLine(t,e)}},i.show=function(){var e=this.get("container");t.prototype.show.call(this),e.show()},i.hide=function(){var e=this.get("container");t.prototype.hide.call(this),e.hide()},i.clear=function(){var e=this.get("container");this.set("crossLineShapeX",null),this.set("crossLineShapeY",null),this.set("crosshairsRectShape",null),t.prototype.clear.call(this),e.clear()},i.destroy=function(){var e=this.get("container");t.prototype.destroy.call(this),e.remove()},i.setPosition=function(t,e,i){var n=this.get("crossLineShapeX"),r=this.get("crossLineShapeY"),a=this.get("crosshairsRectShape");r&&!r.get("destroyed")&&r.move(t,0),n&&!n.get("destroyed")&&n.move(0,e),a&&!a.get("destroyed")&&this._updateRectShape(i)},e}(n);t.exports=a},function(t,e){var i={_calcTooltipPosition:function(t,e,i,n,r,a){var o=0,s=0,l=20;if(a){var u=a.getBBox();o=u.width,s=u.height,t=u.x,e=u.y,l=5}switch(i){case"inside":t=t+o/2-n/2,e=e+s/2-r/2;break;case"top":t=t+o/2-n/2,e=e-r-l;break;case"left":t=t-n-l,e=e+s/2-r/2;break;case"right":t=t+o+l,e=e+s/2-r/2;break;case"bottom":default:t=t+o/2-n/2,e=e+s+l}return[t,e]},_constraintPositionInBoundary:function(t,e,i,n,r,a){return t+i+20>r?t=(t-=i+20)<0?0:t:t+20<0?t=20:t+=20,e+n+20>a?e=(e-=n+20)<0?0:e:e+20<0?e=20:e+=20,[t,e]},_constraintPositionInPlot:function(t,e,i,n,r,a){return t+i>r.tr.x&&(t-=i+40),t<r.tl.x&&(t=r.tl.x),a||(e+n>r.bl.y&&(e-=n+40),e<r.tl.y&&(e=r.tl.y)),[t,e]}};t.exports=i},function(t,e,i){var n=i(3),r={setMarkers:function(t,e){var i=this.get("markerGroup"),r=this.get("frontPlot");i?i.clear():(i=r.addGroup({zIndex:1,capture:!1}),this.set("markerGroup",i)),n.each(t,function(t){i.addShape("marker",{color:t.color,attrs:n.mix({fill:t.color,symbol:"circle",shadowColor:t.color},e,{x:t.x,y:t.y})})}),this.set("markerItems",t)},clearMarkers:function(){var t=this.get("markerGroup");t&&t.clear()}};t.exports=r},function(t,e,i){function n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var r=i(25),a=i(160),o=i(162),s=i(161),l=i(68),u=i(3),c=i(14).FONT_FAMILY,h=u.DomUtil,f=u.MatrixUtil,g=function(t){function e(e){var i;i=t.call(this,e)||this,u.assign(n(n(i)),s),u.assign(n(n(i)),o);var r=i.get("crosshairs");if(r){var l="rect"===r.type?i.get("backPlot"):i.get("frontPlot"),c=new a(u.mix({plot:l,plotRange:i.get("plotRange"),canvas:i.get("canvas")},i.get("crosshairs")));c.hide(),i.set("crosshairGroup",c)}return i._init_(),i.get("items")&&i.render(),i}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return u.mix({},e,{boardStyle:{x:0,y:0,width:100,height:100,fill:"rgba(255, 255, 255, 0.9)",radius:4,stroke:"#e2e2e2",lineWidth:1},titleStyle:{fontFamily:c,text:"",textBaseline:"top",fontSize:12,fill:"rgb(87, 87, 87)",lineHeight:20,padding:20},markerStyle:{radius:4},nameStyle:{fontFamily:c,fontSize:12,fill:"rgb(87, 87, 87)",textBaseline:"middle",textAlign:"start",padding:8},valueStyle:{fontFamily:c,fontSize:12,fill:"rgb(87, 87, 87)",textBaseline:"middle",textAlign:"start",padding:30},padding:{top:20,right:20,bottom:20,left:20},itemGap:10,animationDuration:200})},i._init_=function(){var t=this.get("padding"),e=this.get("frontPlot"),i=e.addGroup({capture:!1});this.set("markerGroup",i);var n=e.addGroup();n.hide(),this.set("container",n);var r=n.addShape("rect",{attrs:u.mix({},this.get("boardStyle"))});this.set("board",r);var a=this.get("titleStyle");if(this.get("showTitle")){var o=n.addShape("text",{attrs:u.mix({x:t.left,y:t.top},a)});this.set("titleShape",o),o.name="tooltip-title"}var s=n.addGroup();s.move(t.left,t.top+a.lineHeight+a.padding),this.set("itemsGroup",s)},i.render=function(){var t=this;t.clear();var e=t.get("container"),i=t.get("board"),n=t.get("showTitle"),r=t.get("titleContent"),a=this.get("titleShape"),o=this.get("itemsGroup"),s=t.get("items"),l=t.get("padding");if(a&&n&&a.attr("text",r),o){var c=t.get("itemGap"),h=0;u.each(s,function(e){var i=t._addItem(e);i.move(0,h),o.add(i);var n=i.getBBox().height;h+=n+c})}var f=e.getBBox(),g=f.width+l.right,p=f.height+l.bottom;i.attr("width",g),i.attr("height",p),t._alignToRight(g)},i.clear=function(){var t=this.get("titleShape"),e=this.get("itemsGroup"),i=this.get("board");t.text="",e.clear(),i.attr("width",0),i.attr("height",0)},i.show=function(){this.get("container").show();var e=this.get("crosshairGroup");e&&e.show();var i=this.get("markerGroup");i&&i.show(),t.prototype.show.call(this),this.get("canvas").draw()},i.hide=function(){this.get("container").hide();var e=this.get("crosshairGroup");e&&e.hide();var i=this.get("markerGroup");i&&i.hide(),t.prototype.hide.call(this),this.get("canvas").draw()},i.destroy=function(){var e=this.get("container"),i=this.get("crosshairGroup");i&&i.destroy();var n=this.get("markerGroup");n&&n.remove(),t.prototype.destroy.call(this),e.remove()},i.setPosition=function(e,i,n){var r,a=this.get("container"),o=this.get("canvas").get("el"),s=h.getWidth(o),l=h.getHeight(o),c=a.getBBox(),g=c.width,p=c.height,d=e,v=i;if(this.get("position")){var m=c.width,y=c.height;e=(r=this._calcTooltipPosition(e,i,this.get("position"),m,y,n))[0],i=r[1]}else e=(r=this._constraintPositionInBoundary(e,i,g,p,s,l))[0],i=r[1];if(this.get("inPlot")){var x=this.get("plotRange");e=(r=this._constraintPositionInPlot(e,i,g,p,x,this.get("enterable")))[0],i=r[1]}var b=this.get("markerItems");u.isEmpty(b)||(d=b[0].x,v=b[0].y);var _=f.transform([1,0,0,0,1,0,0,0,1],[["t",e,i]]);a.stopAnimate(),a.animate({matrix:_},this.get("animationDuration"));var M=this.get("crosshairGroup");if(M){var S=this.get("items");M.setPosition(d,v,S)}t.prototype.setPosition.call(this,e,i)},i._addItem=function(t){var e=new r.Group,i=this.get("markerStyle").radius;if(t.marker){var n=u.mix({},t.marker,{x:t.marker.radius/2,y:0});e.addShape("marker",{attrs:n}),i=t.marker.radius}var a=this.get("nameStyle");e.addShape("text",{attrs:u.mix({x:i+a.padding,y:0,text:t.name},a)});var o=this.get("valueStyle");return e.addShape("text",{attrs:u.mix({x:e.getBBox().width+o.padding,y:0,text:t.value},o)}),e},i._alignToRight=function(t){var e=this,i=this.get("itemsGroup").get("children");u.each(i,function(i){var n=i.get("children")[2],r=n.getBBox().width,a=t-r-2*e.get("padding").right;n.attr("x",a)})},e}(l);t.exports=g},function(t,e,i){var n=i(65),r=i(22),a=i(0),o=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getPointRauis=function(t,e){return r.getPointRadius(t,e)},i.getCirclePoint=function(t,e,i){var n=this.get("coord"),r=n.getCenter(),a=this._isEmitLabels(),o=this.getPointRauis(n,i);if(0===o)return null;if(n.isTransposed&&o>e&&!a){t+=2*Math.asin(e/(2*o))}else o+=e;return{x:r.x+o*Math.cos(t),y:r.y+o*Math.sin(t),angle:t,r:o}},i.getArcPoint=function(t,e){var i;return e=e||0,i=a.isArray(t.x)||a.isArray(t.y)?{x:a.isArray(t.x)?t.x[e]:t.x,y:a.isArray(t.y)?t.y[e]:t.y}:t,this.transLabelPoint(i),i},i.getPointAngle=function(t){var e=this.get("coord");return r.getPointAngle(e,t)},i.getMiddlePoint=function(t){var e=this.get("coord"),i=t.length,n={x:0,y:0};return a.each(t,function(t){n.x+=t.x,n.y+=t.y}),n.x/=i,n.y/=i,n=e.convert(n)},i._isToMiddle=function(t){return t.x.length>2},i.getLabelPoint=function(t,e,i){var n,r=t.text[i],a=1;this._isToMiddle(e)?n=this.getMiddlePoint(e.points):(1===t.text.length&&0===i?i=1:0===i&&(a=-1),n=this.getArcPoint(e,i));var o=this.getDefaultOffset(t);o*=a;var s=this.getPointAngle(n),l=this.getCirclePoint(s,o,n);if(l?(l.text=r,l.angle=s,l.color=e.color):l={text:""},t.autoRotate||void 0===t.autoRotate){var u=l.textStyle?l.textStyle.rotate:null;u||(u=l.rotate||this.getLabelRotate(s,o,e)),l.rotate=u}return l.start={x:n.x,y:n.y},l},i._isEmitLabels=function(){return this.get("label").labelEmit},i.getLabelRotate=function(t){var e;return e=180*t/Math.PI,e+=90,this._isEmitLabels()&&(e-=90),e&&(e>90?e-=180:e<-90&&(e+=180)),e/180*Math.PI},i.getLabelAlign=function(t){var e,i=this.get("coord");if(this._isEmitLabels())e=t.angle<=Math.PI/2&&t.angle>-Math.PI/2?"left":"right";else if(i.isTransposed){var n=i.getCenter(),r=this.getDefaultOffset(t);e=Math.abs(t.x-n.x)<1?"center":t.angle>Math.PI||t.angle<=0?r>0?"left":"right":r>0?"right":"left"}else e="center";return e},e}(n);t.exports=o},function(t,e,i){t.exports={Scale:i(341),Coord:i(342),Axis:i(347),Guide:i(348),Legend:i(351),Tooltip:i(353),Event:i(354)}},function(t,e,i){function n(t,e,i){void 0===i&&(i=1);var n=[t.x,t.y,i];return a.vec3.transformMat3(n,n,e),{x:n[0],y:n[1]}}var r=i(16),a=i(0),o=i(167);t.exports=function(t,e){var i=e;return a.each(t.get("children"),function(t){if(t instanceof r.Group&&t.get("children").length||t instanceof r.Path)i=o(i,t.getBBox());else if(t instanceof r.Text){var e=function(t){var e=t.getBBox(),i={x:e.minX,y:e.minY},r={x:e.maxX,y:e.maxY},a=t.attr("matrix");return i=n(i,a),r=n(r,a),{minX:i.x,minY:i.y,maxX:r.x,maxY:r.y}}(t),s=Math.abs(e.maxX-e.minX),l=Math.abs(e.maxY-e.minY);i=s<l?o(i,a.mix(i,{minX:Math.min(i.minX,e.minX),maxX:Math.max(i.maxX,e.maxX)})):o(i,a.mix(i,{minY:Math.min(i.minY,e.minY),maxY:Math.max(i.maxY,e.maxY)}))}}),i}},function(t,e){t.exports=function(t,e){return{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}}},function(t,e){t.exports=function(t){return{minX:t.tl.x,minY:t.tl.y,maxX:t.br.x,maxY:t.br.y}}},,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(58);i.d(e,"now",function(){return n.b}),i.d(e,"timer",function(){return n.c}),i.d(e,"timerFlush",function(){return n.d});var r=i(191);i.d(e,"timeout",function(){return r.a});var a=i(192);i.d(e,"interval",function(){return a.a})},,function(t,e,i){var n=i(74),r=i(16),a=i(126),o=i(147),s=i(7),l=i(18),u=i(0),c={version:s.version,Animate:a,Chart:o,Global:s,Scale:n,Shape:l,Util:u,G:r,DomUtil:u.DomUtil,MatrixUtil:u.MatrixUtil,PathUtil:u.PathUtil};c.track=function(){console.warn("G2 tracks nothing ;-)")},"undefined"!=typeof window&&(window.G2?console.warn("There are multiple versions of G2. Version "+c.version+"'s reference is 'window.G2_3'"):window.G2=c),t.exports=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(193);i.d(e,"easeLinear",function(){return n.a});var r=i(194);i.d(e,"easeQuad",function(){return r.b}),i.d(e,"easeQuadIn",function(){return r.a}),i.d(e,"easeQuadOut",function(){return r.c}),i.d(e,"easeQuadInOut",function(){return r.b});var a=i(195);i.d(e,"easeCubic",function(){return a.b}),i.d(e,"easeCubicIn",function(){return a.a}),i.d(e,"easeCubicOut",function(){return a.c}),i.d(e,"easeCubicInOut",function(){return a.b});var o=i(196);i.d(e,"easePoly",function(){return o.b}),i.d(e,"easePolyIn",function(){return o.a}),i.d(e,"easePolyOut",function(){return o.c}),i.d(e,"easePolyInOut",function(){return o.b});var s=i(197);i.d(e,"easeSin",function(){return s.b}),i.d(e,"easeSinIn",function(){return s.a}),i.d(e,"easeSinOut",function(){return s.c}),i.d(e,"easeSinInOut",function(){return s.b});var l=i(198);i.d(e,"easeExp",function(){return l.b}),i.d(e,"easeExpIn",function(){return l.a}),i.d(e,"easeExpOut",function(){return l.c}),i.d(e,"easeExpInOut",function(){return l.b});var u=i(199);i.d(e,"easeCircle",function(){return u.b}),i.d(e,"easeCircleIn",function(){return u.a}),i.d(e,"easeCircleOut",function(){return u.c}),i.d(e,"easeCircleInOut",function(){return u.b});var c=i(200);i.d(e,"easeBounce",function(){return c.c}),i.d(e,"easeBounceIn",function(){return c.a}),i.d(e,"easeBounceOut",function(){return c.c}),i.d(e,"easeBounceInOut",function(){return c.b});var h=i(201);i.d(e,"easeBack",function(){return h.b}),i.d(e,"easeBackIn",function(){return h.a}),i.d(e,"easeBackOut",function(){return h.c}),i.d(e,"easeBackInOut",function(){return h.b});var f=i(202);i.d(e,"easeElastic",function(){return f.c}),i.d(e,"easeElasticIn",function(){return f.a}),i.d(e,"easeElasticOut",function(){return f.c}),i.d(e,"easeElasticInOut",function(){return f.b})},function(t,e,i){var n=i(5),r=i(9),a=i(76),o=[0,1,1.2,1.5,1.6,2,2.2,2.4,2.5,3,4,5,6,7.5,8,10],s=[0,1,2,4,5,10];t.exports=function(t){var e=t.min,i=t.max,l=t.interval,u=t.minTickInterval,c=[],h=t.minCount||5,f=t.maxCount||7,g=h===f,p=n(t.minLimit)?-1/0:t.minLimit,d=n(t.maxLimit)?1/0:t.maxLimit,v=(h+f)/2,m=v,y=t.snapArray?t.snapArray:g?o:s;if(e===p&&i===d&&g&&(l=(i-e)/(m-1)),n(e)&&(e=0),n(i)&&(i=0),i===e&&(0===e?i=1:e>0?e=0:i=0,i-e<5&&!l&&i-e>=1&&(l=1)),n(l)){var x=(i-e)/(v-1);l=a.snapFactorTo(x,y,"ceil"),f!==h&&((m=parseInt((i-e)/l,10))>f&&(m=f),m<h&&(m=h),l=a.snapFactorTo((i-e)/(m-1),y,"floor"))}if(r(u)&&l<u&&(l=u),t.interval||f!==h)i=Math.min(a.snapMultiple(i,l,"ceil"),d),e=Math.max(a.snapMultiple(e,l,"floor"),p),m=Math.round((i-e)/l),e=a.fixedBase(e,l),i=a.fixedBase(i,l);else{v=parseInt(v,10);var b,_=(i+e)/2,M=a.snapMultiple(_,l,"ceil"),S=Math.floor((v-2)/2),w=M+S*l;for(b=v%2==0?M-S*l:M-(S+1)*l;w<i;)w=a.fixedBase(w+l,l);for(;b>e;)b=a.fixedBase(b-l,l);i=w,e=b}i=Math.min(i,d),e=Math.max(e,p),c.push(e);for(var k=1;k<m;k++){var C=a.fixedBase(l*k+e,l);C<i&&c.push(C)}return c[c.length-1]<i&&c.push(i),{min:e,max:i,interval:l,count:m,ticks:c}}},function(t,e,i){var n=i(17),r=i(9),a=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.isIdentity=!0,this.type="identity",this.value=null},i.getText=function(){return this.value.toString()},i.scale=function(t){return this.value!==t&&r(t)?t:this.range[0]},i.invert=function(){return this.value},e}(n);n.Identity=a,t.exports=a},function(t,e,i){var n=i(79),r=i(2),a=i(5),o=i(10),s=i(17),l=i(33),u=i(177),c=i(71),h=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.type="time",this.mask="YYYY-MM-DD"},i.init=function(){var e=this,i=e.values;if(i&&i.length){var n=[],o=1/0,s=o,l=0;r(i,function(t){var i=e._toTimeStamp(t);if(isNaN(i))throw new TypeError("Invalid Time: "+t);o>i?(s=o,o=i):s>i&&(s=i),l<i&&(l=i),n.push(i)}),i.length>1&&(e.minTickInterval=s-o),(a(e.min)||e._toTimeStamp(e.min)>o)&&(e.min=o),(a(e.max)||e._toTimeStamp(e.max)<l)&&(e.max=l)}t.prototype.init.call(this)},i.calculateTicks=function(){var t=this.min,e=this.max,i=this.tickCount,n=this.tickInterval;return u({min:t,max:e,minCount:i,maxCount:i,interval:n,minInterval:this.minTickInterval}).ticks},i.getText=function(t){var e=this.formatter;return t=this.translate(t),t=e?e(t):n.format(t,this.mask)},i.scale=function(e){return o(e)&&(e=this.translate(e)),t.prototype.scale.call(this,e)},i.translate=function(t){return this._toTimeStamp(t)},i._toTimeStamp=function(t){return c.toTimeStamp(t)},e}(l);s.Time=h,t.exports=h},function(t,e,i){function n(t){return new Date(t).getFullYear()}function r(t){return new Date(t,0,1).getTime()}function a(t){return new Date(t).getMonth()}function o(t,e){return new Date(t,e,1).getTime()}var s=i(76),l=i(5),u=[1,2,4,6,8,12],c=36e5,h=864e5;t.exports=function(t){var e,i=t.minInterval,f=[],g=t.min,p=t.max,d=t.interval;if(p===g&&(p=g+h),l(d)){var v=p-g,m=h,y=365*m;d=parseInt(v/(t.maxCount||6),10),i&&i>d&&(d=i);var x=d/y,b=n(g);if(x>.51){for(var _=Math.ceil(x),M=n(p),S=b;S<=M+_;S+=_)f.push(r(S));d=null}else if(x>.0834){for(var w=Math.ceil(x/.0834),k=a(g),C=function(t,e){var i=n(t),r=n(e),o=a(t);return 12*(r-i)+(a(e)-o)%12}(g,p),A=0;A<=C+w;A+=w)f.push(o(b,A+k));d=null}else if(d>.5*m){var T=new Date(g),P=T.getFullYear(),I=T.getMonth(g),O=T.getDate(),L=Math.ceil(d/m),E=function(t,e){return Math.ceil((e-t)/h)}(g,p);d=L*m;for(var D=0;D<E+L;D+=L)f.push(new Date(P,I,O+D).getTime())}else if(d>c){var F=new Date(g),B=F.getFullYear(),R=F.getMonth(g),N=F.getDate(),j=F.getHours(),Y=s.snapTo(u,Math.ceil(d/c)),z=function(t,e){return Math.ceil((e-t)/c)}(g,p);d=Y*c;for(var H=0;H<=z+Y;H+=Y)f.push(new Date(B,R,N,j+H).getTime())}else if(d>6e4){var V=function(t,e){return Math.ceil((e-t)/6e4)}(g,p),X=Math.ceil(d/6e4);d=6e4*X;for(var G=0;G<=V+X;G+=X)f.push(g+6e4*G)}else{d<1e3&&(d=1e3),g=1e3*Math.floor(g/1e3);var W=Math.ceil((p-g)/1e3),q=Math.ceil(d/1e3);d=1e3*q;for(var U=0;U<W+q;U+=q)f.push(g+1e3*U)}}if(!f.length){g=1e3*Math.floor(g/1e3),e=((p=1e3*Math.ceil(p/1e3))-g)/d;for(var Z=0;Z<=e;Z++)f.push(s.fixedBase(d*Z+g,d))}return{max:p,min:g,interval:d,ticks:f,count:f.length}}},function(t,e,i){var n=i(17),r=i(77),a=i(79),o=i(78),s=i(71),l=i(2),u=i(9),c=i(24),h=i(10),f=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.type="timeCat",this.sortable=!0,this.tickCount=5,this.mask="YYYY-MM-DD"},i.init=function(){var t=this,e=this.values;l(e,function(i,n){e[n]=t._toTimeStamp(i)}),this.sortable&&e.sort(function(t,e){return t-e}),t.ticks||(t.ticks=this.calculateTicks())},i.calculateTicks=function(){var t,e=this.tickCount;if(e){t=o({maxCount:e,data:this.values,isRounding:this.isRounding}).ticks}else t=this.values;return t},i.translate=function(t){t=this._toTimeStamp(t);var e=this.values.indexOf(t);return-1===e&&(e=u(t)&&t<this.values.length?t:NaN),e},i.scale=function(t){var e,i=this.rangeMin(),n=this.rangeMax(),r=this.translate(t);return e=1===this.values.length||isNaN(r)?r:r>-1?r/(this.values.length-1):0,i+e*(n-i)},i.getText=function(t){var e="",i=this.translate(t);e=i>-1?this.values[i]:t;var n=this.formatter;return e=parseInt(e,10),e=n?n(e):a.format(e,this.mask)},i.getTicks=function(){var t=this,e=this.ticks,i=[];return l(e,function(e){var n;n=c(e)?e:{text:h(e)?e:t.getText(e),value:t.scale(e),tickValue:e},i.push(n)}),i},i._toTimeStamp=function(t){return s.toTimeStamp(t)},e}(r);n.TimeCat=f,t.exports=f},function(t,e,i){function n(t,e){return 1===t?1:Math.log(e)/Math.log(t)}var r=i(2),a=i(17),o=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.type="log",this.tickCount=10,this.base=2,this._minTick=null},i.calculateTicks=function(){var t,e=this.base;if(this.min<0)throw new Error("The minimum value must be greater than zero!");var i=n(e,this.max);if(this.min>0)t=Math.floor(n(e,this.min));else{var a=this.values,o=this.max;r(a,function(t){t>0&&t<o&&(o=t)}),o===this.max&&(o=this.max/e),o>1&&(o=1),t=Math.floor(n(e,o)),this._minTick=t,this.positiveMin=o}for(var s=i-t,l=this.tickCount,u=Math.ceil(s/l),c=[],h=t;h<i+u;h+=u)c.push(Math.pow(e,h));return 0===this.min&&c.unshift(0),c},i._getScalePercent=function(t){var e=this.max,i=this.min;if(e===i)return 0;if(t<=0)return 0;var r=this.base,a=this.positiveMin;a&&(i=1*a/r);return t<a?t/a/(n(r,e)-n(r,i)):(n(r,t)-n(r,i))/(n(r,e)-n(r,i))},i.scale=function(t){var e=this._getScalePercent(t),i=this.rangeMin();return i+e*(this.rangeMax()-i)},i.invert=function(t){var e,i=this.base,r=n(i,this.max),a=this.rangeMin(),o=this.rangeMax()-a,s=this.positiveMin;if(s){if(0===t)return 0;var l=1/(r-(e=n(i,s/i)))*o;if(t<l)return t/l*s}else e=n(i,this.min);var u=(t-a)/o*(r-e)+e;return Math.pow(i,u)},e}(i(33));a.Log=o,t.exports=o},function(t,e,i){function n(t,e){var i=Math.E;return Math.pow(i,Math.log(e)/t)}var r=i(17),a=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.type="pow",this.tickCount=10,this.exponent=2},i.calculateTicks=function(){var t,e=this.exponent,i=Math.ceil(n(e,this.max));if((t=this.min>=0?Math.floor(n(e,this.min)):0)>i){var r=i;i=t,t=r}for(var a=i-t,o=this.tickCount,s=Math.ceil(a/o),l=[],u=t;u<i+s;u+=s)l.push(Math.pow(u,e));return l},i._getScalePercent=function(t){var e=this.max,i=this.min;if(e===i)return 0;var r=this.exponent;return(n(r,t)-n(r,i))/(n(r,e)-n(r,i))},i.scale=function(t){var e=this._getScalePercent(t),i=this.rangeMin();return i+e*(this.rangeMax()-i)},i.invert=function(t){var e=(t-this.rangeMin())/(this.rangeMax()-this.rangeMin()),i=this.exponent,r=n(i,this.max),a=n(i,this.min),o=e*(r-a)+a;return Math.pow(o,i)},e}(i(33));r.Pow=a,t.exports=a},function(t,e,i){var n=i(1),r=i(100),a=i(101),o=i(190),s=i(215),l=function t(e){t.superclass.constructor.call(this,e)};l.CFG={eventEnable:!0,width:null,height:null,widthCanvas:null,heightCanvas:null,widthStyle:null,heightStyle:null,containerDOM:null,canvasDOM:null,pixelRatio:null,renderer:"canvas"},n.extend(l,a),n.augment(l,{init:function(){l.superclass.init.call(this),this._setGlobalParam(),this._setContainer(),this._initPainter(),this._scale(),this.get("eventEnable")&&this._registEvents()},getEmitter:function(t,e){if(t){if(!n.isEmpty(t._getEvents()))return t;var i=t.get("parent");if(i&&!e.propagationStopped)return this.getEmitter(i,e)}},_getEventObj:function(t,e,i,n){var a=new r(t,e,!0,!0);return a.x=i.x,a.y=i.y,a.clientX=e.clientX,a.clientY=e.clientY,a.currentTarget=n,a.target=n,a},_triggerEvent:function(t,e){var i,n=this.getPointByClient(e.clientX,e.clientY),r=this.getShape(n.x,n.y,e),a=this.get("el");if("mousemove"===t){var o=this.get("preShape");if(o&&o!==r){var s=this._getEventObj("mouseleave",e,n,o);(i=this.getEmitter(o,e))&&i.emit("mouseleave",s),a.style.cursor="default"}if(r){var l=this._getEventObj("mousemove",e,n,r);if((i=this.getEmitter(r,e))&&i.emit("mousemove",l),o!==r){var u=this._getEventObj("mouseenter",e,n,r);i&&i.emit("mouseenter",u,e)}}else{var c=this._getEventObj("mousemove",e,n,this);this.emit("mousemove",c)}this.set("preShape",r)}else{var h=this._getEventObj(t,e,n,r||this);(i=this.getEmitter(r,e))&&i!==this&&i.emit(t,h),this.emit(t,h)}r&&!r.get("destroyed")&&(a.style.cursor=r.attr("cursor")||"default")},_registEvents:function(){var t=this,e=t.get("el");n.each(["mouseout","mouseover","mousemove","mousedown","mouseleave","mouseup","click","dblclick"],function(i){e.addEventListener(i,function(e){t._triggerEvent(i,e)},!1)}),e.addEventListener("touchstart",function(e){n.isEmpty(e.touches)||t._triggerEvent("touchstart",e.touches[0])},!1),e.addEventListener("touchmove",function(e){n.isEmpty(e.touches)||t._triggerEvent("touchmove",e.touches[0])},!1),e.addEventListener("touchend",function(e){n.isEmpty(e.changedTouches)||t._triggerEvent("touchend",e.changedTouches[0])},!1)},_scale:function(){var t=this.get("pixelRatio");this.scale(t,t)},_setGlobalParam:function(){this.get("pixelRatio")||this.set("pixelRatio",n.getRatio());var t=s[this.get("renderer")||"canvas"];this._cfg.renderer=t,this._cfg.canvas=this;var e=new o(this);this._cfg.timeline=e},_setContainer:function(){var t=this.get("containerId"),e=this.get("containerDOM");e||(e=document.getElementById(t),this.set("containerDOM",e)),n.modifyCSS(e,{position:"relative"})},_initPainter:function(){var t=this.get("containerDOM"),e=new this._cfg.renderer.painter(t);this._cfg.painter=e,this._cfg.canvasDOM=this._cfg.el=e.canvas,this.changeSize(this.get("width"),this.get("height"))},_resize:function(){var t=this.get("canvasDOM"),e=this.get("widthCanvas"),i=this.get("heightCanvas"),n=this.get("widthStyle"),r=this.get("heightStyle");t.style.width=n,t.style.height=r,t.setAttribute("width",e),t.setAttribute("height",i)},getWidth:function(){var t=this.get("pixelRatio");return this.get("width")*t},getHeight:function(){var t=this.get("pixelRatio");return this.get("height")*t},changeSize:function(t,e){var i=this.get("pixelRatio"),n=t*i,r=e*i;this.set("widthCanvas",n),this.set("heightCanvas",r),this.set("widthStyle",t+"px"),this.set("heightStyle",e+"px"),this.set("width",t),this.set("height",e),this._resize()},getPointByClient:function(t,e){var i=this.get("el"),n=this.get("pixelRatio")||1,r=i.getBoundingClientRect();return{x:(t-r.left)*n,y:(e-r.top)*n}},getClientByPoint:function(t,e){var i=this.get("el").getBoundingClientRect(),n=this.get("pixelRatio")||1;return{clientX:t/n+i.left,clientY:e/n+i.top}},draw:function(){this._cfg.painter.draw(this)},getShape:function(t,e,i){return 3===arguments.length&&this._cfg.renderer.getShape?this._cfg.renderer.getShape.call(this,t,e,i):l.superclass.getShape.call(this,t,e)},_drawSync:function(){this._cfg.painter.drawSync(this)},destroy:function(){var t=this._cfg,e=t.containerDOM,i=t.canvasDOM;i&&e&&e.removeChild(i),t.timeline.stop(),l.superclass.destroy.call(this)}}),t.exports=l},function(t,e,i){"use strict";function n(t,e,i){var n=e[0],r=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],f=i[0],g=i[1],p=i[2],d=i[3],v=i[4],m=i[5],y=i[6],x=i[7],b=i[8];return t[0]=f*n+g*o+p*u,t[1]=f*r+g*s+p*c,t[2]=f*a+g*l+p*h,t[3]=d*n+v*o+m*u,t[4]=d*r+v*s+m*c,t[5]=d*a+v*l+m*h,t[6]=y*n+x*o+b*u,t[7]=y*r+x*s+b*c,t[8]=y*a+x*l+b*h,t}function r(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t[6]=e[6]-i[6],t[7]=e[7]-i[7],t[8]=e[8]-i[8],t}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=function(){var t=new a.ARRAY_TYPE(9);return a.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},e.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},e.clone=function(t){var e=new a.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromValues=function(t,e,i,n,r,o,s,l,u){var c=new a.ARRAY_TYPE(9);return c[0]=t,c[1]=e,c[2]=i,c[3]=n,c[4]=r,c[5]=o,c[6]=s,c[7]=l,c[8]=u,c},e.set=function(t,e,i,n,r,a,o,s,l,u){return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t[4]=a,t[5]=o,t[6]=s,t[7]=l,t[8]=u,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.transpose=function(t,e){if(t===e){var i=e[1],n=e[2],r=e[5];t[1]=e[3],t[2]=e[6],t[3]=i,t[5]=e[7],t[6]=n,t[7]=r}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},e.invert=function(t,e){var i=e[0],n=e[1],r=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=c*o-s*u,f=-c*a+s*l,g=u*a-o*l,p=i*h+n*f+r*g;return p?(p=1/p,t[0]=h*p,t[1]=(-c*n+r*u)*p,t[2]=(s*n-r*o)*p,t[3]=f*p,t[4]=(c*i-r*l)*p,t[5]=(-s*i+r*a)*p,t[6]=g*p,t[7]=(-u*i+n*l)*p,t[8]=(o*i-n*a)*p,t):null},e.adjoint=function(t,e){var i=e[0],n=e[1],r=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8];return t[0]=o*c-s*u,t[1]=r*u-n*c,t[2]=n*s-r*o,t[3]=s*l-a*c,t[4]=i*c-r*l,t[5]=r*a-i*s,t[6]=a*u-o*l,t[7]=n*l-i*u,t[8]=i*o-n*a,t},e.determinant=function(t){var e=t[0],i=t[1],n=t[2],r=t[3],a=t[4],o=t[5],s=t[6],l=t[7],u=t[8];return e*(u*a-o*l)+i*(-u*r+o*s)+n*(l*r-a*s)},e.multiply=n,e.translate=function(t,e,i){var n=e[0],r=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],f=i[0],g=i[1];return t[0]=n,t[1]=r,t[2]=a,t[3]=o,t[4]=s,t[5]=l,t[6]=f*n+g*o+u,t[7]=f*r+g*s+c,t[8]=f*a+g*l+h,t},e.rotate=function(t,e,i){var n=e[0],r=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],f=Math.sin(i),g=Math.cos(i);return t[0]=g*n+f*o,t[1]=g*r+f*s,t[2]=g*a+f*l,t[3]=g*o-f*n,t[4]=g*s-f*r,t[5]=g*l-f*a,t[6]=u,t[7]=c,t[8]=h,t},e.scale=function(t,e,i){var n=i[0],r=i[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=r*e[3],t[4]=r*e[4],t[5]=r*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},e.fromRotation=function(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=i,t[2]=0,t[3]=-i,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},e.fromQuat=function(t,e){var i=e[0],n=e[1],r=e[2],a=e[3],o=i+i,s=n+n,l=r+r,u=i*o,c=n*o,h=n*s,f=r*o,g=r*s,p=r*l,d=a*o,v=a*s,m=a*l;return t[0]=1-h-p,t[3]=c-m,t[6]=f+v,t[1]=c+m,t[4]=1-u-p,t[7]=g-d,t[2]=f-v,t[5]=g+d,t[8]=1-u-h,t},e.normalFromMat4=function(t,e){var i=e[0],n=e[1],r=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=e[9],f=e[10],g=e[11],p=e[12],d=e[13],v=e[14],m=e[15],y=i*s-n*o,x=i*l-r*o,b=i*u-a*o,_=n*l-r*s,M=n*u-a*s,S=r*u-a*l,w=c*d-h*p,k=c*v-f*p,C=c*m-g*p,A=h*v-f*d,T=h*m-g*d,P=f*m-g*v,I=y*P-x*T+b*A+_*C-M*k+S*w;return I?(I=1/I,t[0]=(s*P-l*T+u*A)*I,t[1]=(l*C-o*P-u*k)*I,t[2]=(o*T-s*C+u*w)*I,t[3]=(r*T-n*P-a*A)*I,t[4]=(i*P-r*C+a*k)*I,t[5]=(n*C-i*T-a*w)*I,t[6]=(d*S-v*M+m*_)*I,t[7]=(v*b-p*S-m*x)*I,t[8]=(p*M-d*b+m*y)*I,t):null},e.projection=function(t,e,i){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/i,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},e.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t[6]=e[6]+i[6],t[7]=e[7]+i[7],t[8]=e[8]+i[8],t},e.subtract=r,e.multiplyScalar=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*i,t},e.multiplyScalarAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t[3]=e[3]+i[3]*n,t[4]=e[4]+i[4]*n,t[5]=e[5]+i[5]*n,t[6]=e[6]+i[6]*n,t[7]=e[7]+i[7]*n,t[8]=e[8]+i[8]*n,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},e.equals=function(t,e){var i=t[0],n=t[1],r=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],f=e[0],g=e[1],p=e[2],d=e[3],v=e[4],m=e[5],y=e[6],x=e[7],b=e[8];return Math.abs(i-f)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(n-g)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(g))&&Math.abs(r-p)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(p))&&Math.abs(o-d)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(s-v)<=a.EPSILON*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(l-m)<=a.EPSILON*Math.max(1,Math.abs(l),Math.abs(m))&&Math.abs(u-y)<=a.EPSILON*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-x)<=a.EPSILON*Math.max(1,Math.abs(c),Math.abs(x))&&Math.abs(h-b)<=a.EPSILON*Math.max(1,Math.abs(h),Math.abs(b))};var a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(52));e.mul=n,e.sub=r},function(t,e,i){"use strict";function n(){var t=new h.ARRAY_TYPE(2);return h.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function r(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t}function a(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t}function o(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t}function s(t,e){var i=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(i*i+n*n)}function l(t,e){var i=e[0]-t[0],n=e[1]-t[1];return i*i+n*n}function u(t){var e=t[0],i=t[1];return Math.sqrt(e*e+i*i)}function c(t){var e=t[0],i=t[1];return e*e+i*i}Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.sqrDist=e.dist=e.div=e.mul=e.sub=e.len=void 0,e.create=n,e.clone=function(t){var e=new h.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},e.fromValues=function(t,e){var i=new h.ARRAY_TYPE(2);return i[0]=t,i[1]=e,i},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.set=function(t,e,i){return t[0]=e,t[1]=i,t},e.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t},e.subtract=r,e.multiply=a,e.divide=o,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},e.min=function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t},e.max=function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},e.scale=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t},e.scaleAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t},e.distance=s,e.squaredDistance=l,e.length=u,e.squaredLength=c,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},e.normalize=function(t,e){var i=e[0],n=e[1],r=i*i+n*n;return r>0&&(r=1/Math.sqrt(r),t[0]=e[0]*r,t[1]=e[1]*r),t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.cross=function(t,e,i){var n=e[0]*i[1]-e[1]*i[0];return t[0]=t[1]=0,t[2]=n,t},e.lerp=function(t,e,i,n){var r=e[0],a=e[1];return t[0]=r+n*(i[0]-r),t[1]=a+n*(i[1]-a),t},e.random=function(t,e){e=e||1;var i=2*h.RANDOM()*Math.PI;return t[0]=Math.cos(i)*e,t[1]=Math.sin(i)*e,t},e.transformMat2=function(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[2]*r,t[1]=i[1]*n+i[3]*r,t},e.transformMat2d=function(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[2]*r+i[4],t[1]=i[1]*n+i[3]*r+i[5],t},e.transformMat3=function(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[3]*r+i[6],t[1]=i[1]*n+i[4]*r+i[7],t},e.transformMat4=function(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[4]*r+i[12],t[1]=i[1]*n+i[5]*r+i[13],t},e.rotate=function(t,e,i,n){var r=e[0]-i[0],a=e[1]-i[1],o=Math.sin(n),s=Math.cos(n);return t[0]=r*s-a*o+i[0],t[1]=r*o+a*s+i[1],t},e.angle=function(t,e){var i=t[0],n=t[1],r=e[0],a=e[1],o=i*i+n*n;o>0&&(o=1/Math.sqrt(o));var s=r*r+a*a;s>0&&(s=1/Math.sqrt(s));var l=(i*r+n*a)*o*s;return l>1?0:l<-1?Math.PI:Math.acos(l)},e.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e.equals=function(t,e){var i=t[0],n=t[1],r=e[0],a=e[1];return Math.abs(i-r)<=h.EPSILON*Math.max(1,Math.abs(i),Math.abs(r))&&Math.abs(n-a)<=h.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))};var h=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(52));e.len=u,e.sub=r,e.mul=a,e.div=o,e.dist=s,e.sqrDist=l,e.sqrLen=c,e.forEach=function(){var t=n();return function(e,i,n,r,a,o){var s=void 0,l=void 0;for(i||(i=2),n||(n=0),l=r?Math.min(r*i+n,e.length):e.length,s=n;s<l;s+=i)t[0]=e[s],t[1]=e[s+1],a(t,t,o),e[s]=t[0],e[s+1]=t[1];return e}}()},function(t,e,i){"use strict";function n(){var t=new p.ARRAY_TYPE(3);return p.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function r(t){var e=t[0],i=t[1],n=t[2];return Math.sqrt(e*e+i*i+n*n)}function a(t,e,i){var n=new p.ARRAY_TYPE(3);return n[0]=t,n[1]=e,n[2]=i,n}function o(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t}function s(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t}function l(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t}function u(t,e){var i=e[0]-t[0],n=e[1]-t[1],r=e[2]-t[2];return Math.sqrt(i*i+n*n+r*r)}function c(t,e){var i=e[0]-t[0],n=e[1]-t[1],r=e[2]-t[2];return i*i+n*n+r*r}function h(t){var e=t[0],i=t[1],n=t[2];return e*e+i*i+n*n}function f(t,e){var i=e[0],n=e[1],r=e[2],a=i*i+n*n+r*r;return a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a),t}function g(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=n,e.clone=function(t){var e=new p.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},e.length=r,e.fromValues=a,e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.set=function(t,e,i,n){return t[0]=e,t[1]=i,t[2]=n,t},e.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t},e.subtract=o,e.multiply=s,e.divide=l,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},e.min=function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t[2]=Math.min(e[2],i[2]),t},e.max=function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t[2]=Math.max(e[2],i[2]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},e.scale=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t},e.scaleAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t},e.distance=u,e.squaredDistance=c,e.squaredLength=h,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},e.normalize=f,e.dot=g,e.cross=function(t,e,i){var n=e[0],r=e[1],a=e[2],o=i[0],s=i[1],l=i[2];return t[0]=r*l-a*s,t[1]=a*o-n*l,t[2]=n*s-r*o,t},e.lerp=function(t,e,i,n){var r=e[0],a=e[1],o=e[2];return t[0]=r+n*(i[0]-r),t[1]=a+n*(i[1]-a),t[2]=o+n*(i[2]-o),t},e.hermite=function(t,e,i,n,r,a){var o=a*a,s=o*(2*a-3)+1,l=o*(a-2)+a,u=o*(a-1),c=o*(3-2*a);return t[0]=e[0]*s+i[0]*l+n[0]*u+r[0]*c,t[1]=e[1]*s+i[1]*l+n[1]*u+r[1]*c,t[2]=e[2]*s+i[2]*l+n[2]*u+r[2]*c,t},e.bezier=function(t,e,i,n,r,a){var o=1-a,s=o*o,l=a*a,u=s*o,c=3*a*s,h=3*l*o,f=l*a;return t[0]=e[0]*u+i[0]*c+n[0]*h+r[0]*f,t[1]=e[1]*u+i[1]*c+n[1]*h+r[1]*f,t[2]=e[2]*u+i[2]*c+n[2]*h+r[2]*f,t},e.random=function(t,e){e=e||1;var i=2*p.RANDOM()*Math.PI,n=2*p.RANDOM()-1,r=Math.sqrt(1-n*n)*e;return t[0]=Math.cos(i)*r,t[1]=Math.sin(i)*r,t[2]=n*e,t},e.transformMat4=function(t,e,i){var n=e[0],r=e[1],a=e[2],o=i[3]*n+i[7]*r+i[11]*a+i[15];return o=o||1,t[0]=(i[0]*n+i[4]*r+i[8]*a+i[12])/o,t[1]=(i[1]*n+i[5]*r+i[9]*a+i[13])/o,t[2]=(i[2]*n+i[6]*r+i[10]*a+i[14])/o,t},e.transformMat3=function(t,e,i){var n=e[0],r=e[1],a=e[2];return t[0]=n*i[0]+r*i[3]+a*i[6],t[1]=n*i[1]+r*i[4]+a*i[7],t[2]=n*i[2]+r*i[5]+a*i[8],t},e.transformQuat=function(t,e,i){var n=i[0],r=i[1],a=i[2],o=i[3],s=e[0],l=e[1],u=e[2],c=r*u-a*l,h=a*s-n*u,f=n*l-r*s,g=r*f-a*h,p=a*c-n*f,d=n*h-r*c,v=2*o;return c*=v,h*=v,f*=v,g*=2,p*=2,d*=2,t[0]=s+c+g,t[1]=l+h+p,t[2]=u+f+d,t},e.rotateX=function(t,e,i,n){var r=[],a=[];return r[0]=e[0]-i[0],r[1]=e[1]-i[1],r[2]=e[2]-i[2],a[0]=r[0],a[1]=r[1]*Math.cos(n)-r[2]*Math.sin(n),a[2]=r[1]*Math.sin(n)+r[2]*Math.cos(n),t[0]=a[0]+i[0],t[1]=a[1]+i[1],t[2]=a[2]+i[2],t},e.rotateY=function(t,e,i,n){var r=[],a=[];return r[0]=e[0]-i[0],r[1]=e[1]-i[1],r[2]=e[2]-i[2],a[0]=r[2]*Math.sin(n)+r[0]*Math.cos(n),a[1]=r[1],a[2]=r[2]*Math.cos(n)-r[0]*Math.sin(n),t[0]=a[0]+i[0],t[1]=a[1]+i[1],t[2]=a[2]+i[2],t},e.rotateZ=function(t,e,i,n){var r=[],a=[];return r[0]=e[0]-i[0],r[1]=e[1]-i[1],r[2]=e[2]-i[2],a[0]=r[0]*Math.cos(n)-r[1]*Math.sin(n),a[1]=r[0]*Math.sin(n)+r[1]*Math.cos(n),a[2]=r[2],t[0]=a[0]+i[0],t[1]=a[1]+i[1],t[2]=a[2]+i[2],t},e.angle=function(t,e){var i=a(t[0],t[1],t[2]),n=a(e[0],e[1],e[2]);f(i,i),f(n,n);var r=g(i,n);return r>1?0:r<-1?Math.PI:Math.acos(r)},e.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},e.equals=function(t,e){var i=t[0],n=t[1],r=t[2],a=e[0],o=e[1],s=e[2];return Math.abs(i-a)<=p.EPSILON*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(n-o)<=p.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-s)<=p.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))};var p=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(52));e.sub=o,e.mul=s,e.div=l,e.dist=u,e.sqrDist=c,e.len=r,e.sqrLen=h,e.forEach=function(){var t=n();return function(e,i,n,r,a,o){var s=void 0,l=void 0;for(i||(i=3),n||(n=0),l=r?Math.min(r*i+n,e.length):e.length,s=n;s<l;s+=i)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],a(t,t,o),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}()},function(t,e,i){var n=i(1);t.exports={canFill:!1,canStroke:!1,initAttrs:function(t){return this._attrs={opacity:1,fillOpacity:1,strokeOpacity:1,matrix:[1,0,0,0,1,0,0,0,1]},this.attr(n.assign(this.getDefaultAttrs(),t)),this},getDefaultAttrs:function(){return{}},attr:function(t,e){if(0===arguments.length)return this._attrs;if(n.isObject(t)){for(var i in t)this._setAttr(i,t[i]);return this.clearBBox(),this._cfg.hasUpdate=!0,this}return 2===arguments.length?(this._setAttr(t,e),this.clearBBox(),this._cfg.hasUpdate=!0,this):this._attrs[t]},_setAttr:function(t,e){var i=this._attrs;i[t]=e,"fill"!==t&&"stroke"!==t?"opacity"!==t?"clip"===t&&e?this._setClip(e):"path"===t&&this._afterSetAttrPath?this._afterSetAttrPath(e):"transform"!==t?"rotate"===t&&this.rotateAtStart(e):this.transform(e):i.globalAlpha=e:i[t+"Style"]=e},clearBBox:function(){this.setSilent("box",null)},hasFill:function(){return this.canFill&&this._attrs.fillStyle},hasStroke:function(){return this.canStroke&&this._attrs.strokeStyle},_setClip:function(t){t._cfg.renderer=this._cfg.renderer,t._cfg.canvas=this._cfg.canvas,t._cfg.parent=this._cfg.parent,t.hasFill=function(){return!0}}}},function(t,e,i){function n(t){return 1===t[0]&&0===t[1]&&0===t[3]&&1===t[4]&&0===t[6]&&0===t[7]}function r(t){return 0===t[1]&&0===t[3]&&0===t[6]&&0===t[7]}function a(t,e){n(e)||(r(e)?(t[0]*=e[0],t[4]*=e[4]):o.mat3.multiply(t,t,e))}var o=i(1);t.exports={initTransform:function(){},resetMatrix:function(){this.attr("matrix",[1,0,0,0,1,0,0,0,1])},translate:function(t,e){var i=this._attrs.matrix;return o.mat3.translate(i,i,[t,e]),this.clearTotalMatrix(),this.attr("matrix",i),this},rotate:function(t){var e=this._attrs.matrix;return o.mat3.rotate(e,e,t),this.clearTotalMatrix(),this.attr("matrix",e),this},scale:function(t,e){var i=this._attrs.matrix;return o.mat3.scale(i,i,[t,e]),this.clearTotalMatrix(),this.attr("matrix",i),this},rotateAtStart:function(t){var e=this._attrs.x||this._cfg.attrs.x,i=this._attrs.y||this._cfg.attrs.y;return Math.abs(t)>2*Math.PI&&(t=t/180*Math.PI),this.transform([["t",-e,-i],["r",t],["t",e,i]])},move:function(t,e){var i=this.get("x")||0,n=this.get("y")||0;return this.translate(t-i,e-n),this.set("x",t),this.set("y",e),this},transform:function(t){var e=this,i=this._attrs.matrix;return o.each(t,function(t){switch(t[0]){case"t":e.translate(t[1],t[2]);break;case"s":e.scale(t[1],t[2]);break;case"r":e.rotate(t[1]);break;case"m":e.attr("matrix",o.mat3.multiply([],i,t[1])),e.clearTotalMatrix()}}),e},setTransform:function(t){return this.attr("matrix",[1,0,0,0,1,0,0,0,1]),this.transform(t)},getMatrix:function(){return this.attr("matrix")},setMatrix:function(t){return this.attr("matrix",t),this.clearTotalMatrix(),this},apply:function(t,e){var i;return i=e?this._getMatrixByRoot(e):this.attr("matrix"),o.vec3.transformMat3(t,t,i),this},_getMatrixByRoot:function(t){t=t||this;for(var e=this,i=[];e!==t;)i.unshift(e),e=e.get("parent");i.unshift(e);var n=[1,0,0,0,1,0,0,0,1];return o.each(i,function(t){o.mat3.multiply(n,t.attr("matrix"),n)}),n},getTotalMatrix:function(){var t=this._cfg.totalMatrix;if(!t){t=[1,0,0,0,1,0,0,0,1];var e=this._cfg.parent;if(e){a(t,e.getTotalMatrix())}a(t,this.attr("matrix")),this._cfg.totalMatrix=t}return t},clearTotalMatrix:function(){},invert:function(t){var e=this.getTotalMatrix();if(r(e))t[0]/=e[0],t[1]/=e[4];else{var i=o.mat3.invert([],e);i&&o.vec3.transformMat3(t,t,i)}return this},resetTransform:function(t){var e=this.attr("matrix");n(e)||t.transform(e[0],e[1],e[3],e[4],e[6],e[7])}}},function(t,e,i){var n=i(1),r={delay:"delay",rotate:"rotate"},a={fill:"fill",stroke:"stroke",fillStyle:"fillStyle",strokeStyle:"strokeStyle"};t.exports={animate:function(t,e,i,o,s){void 0===s&&(s=0);this.set("animating",!0);var l=this.get("timeline");l||(l=this.get("canvas").get("timeline"),this.setSilent("timeline",l));var u=this.get("animators")||[];l._timer||l.initTimer(),n.isNumber(o)&&(s=o,o=null),n.isFunction(i)?(o=i,i="easeLinear"):i=i||"easeLinear";var c=function(t,e){var i={matrix:null,attrs:{}},o=e._attrs;for(var s in t)if("transform"===s)i.matrix=n.transform(e.getMatrix(),t[s]);else if("rotate"===s)i.matrix=n.transform(e.getMatrix(),[["r",t[s]]]);else if("matrix"===s)i.matrix=t[s];else{if(a[s]&&/^[r,R,L,l]{1}[\s]*\(/.test(t[s]))continue;r[s]||o[s]===t[s]||(i.attrs[s]=t[s])}return i}(t,this),h={fromAttrs:function(t,e){var i={},n=e._attrs;for(var r in t.attrs)i[r]=n[r];return i}(c,this),toAttrs:c.attrs,fromMatrix:n.clone(this.getMatrix()),toMatrix:c.matrix,duration:e,easing:i,callback:o,delay:s,startTime:l.getTime(),id:n.uniqueId()};u.length>0?u=function(t,e){var i=e.delay,r=Object.prototype.hasOwnProperty;return n.each(e.toAttrs,function(e,a){n.each(t,function(t){i<t.startTime+t.duration&&r.call(t.toAttrs,a)&&(delete t.toAttrs[a],delete t.fromAttrs[a])})}),e.toMatrix&&n.each(t,function(t){i<t.startTime+t.duration&&t.toMatrix&&delete t.toMatrix}),t}(u,h):l.addAnimator(this),u.push(h),this.setSilent("animators",u),this.setSilent("pause",{isPaused:!1})},stopAnimate:function(){var t=this,e=this.get("animators");n.each(e,function(e){t.attr(e.toAttrs),e.toMatrix&&t.attr("matrix",e.toMatrix),e.callback&&e.callback()}),this.setSilent("animating",!1),this.setSilent("animators",[])},pauseAnimate:function(){var t=this.get("timeline");return this.setSilent("pause",{isPaused:!0,pauseTime:t.getTime()}),this},resumeAnimate:function(){var t=this.get("timeline").getTime(),e=this.get("animators"),i=this.get("pause").pauseTime;return n.each(e,function(e){e.startTime=e.startTime+(t-i),e._paused=!1,e._pauseTime=null}),this.setSilent("pause",{isPaused:!1}),this.setSilent("animators",e),this}}},function(t,e,i){var n=i(6);n.Arc=i(105),n.Circle=i(106),n.Dom=i(107),n.Ellipse=i(108),n.Fan=i(109),n.Image=i(110),n.Line=i(111),n.Marker=i(56),n.Path=i(112),n.Polygon=i(113),n.Polyline=i(114),n.Rect=i(115),n.Text=i(116),t.exports=n},function(t,e,i){function n(t,e,i){return i.createPath(s),s.isPointInPath(t,e)}var r=i(1),a=i(54),o={arc:i(37),ellipse:i(104),line:i(36)},s=r.createDom('<canvas width="500" height="500"></canvas>').getContext("2d"),l={arc:function(t,e){var i=this._attrs,n=i.x,r=i.y,o=i.r,s=i.startAngle,l=i.endAngle,u=i.clockwise,c=this.getHitLineWidth();return!!this.hasStroke()&&a.arcline(n,r,o,s,l,u,c,t,e)},circle:function(t,e){var i=this._attrs,n=i.x,r=i.y,o=i.r,s=this.getHitLineWidth(),l=this.hasFill(),u=this.hasStroke();return l&&u?a.circle(n,r,o,t,e)||a.arcline(n,r,o,0,2*Math.PI,!1,s,t,e):l?a.circle(n,r,o,t,e):!!u&&a.arcline(n,r,o,0,2*Math.PI,!1,s,t,e)},dom:function(t,e){if(!this._cfg.el)return!1;var i=this._cfg.el.getBBox();return a.box(i.x,i.x+i.width,i.y,i.y+i.height,t,e)},ellipse:function(t,e){var i=this._attrs,n=this.hasFill(),o=this.hasStroke(),s=i.x,l=i.y,u=i.rx,c=i.ry,h=this.getHitLineWidth(),f=u>c?u:c,g=u>c?1:u/c,p=u>c?c/u:1,d=[t,e,1],v=[1,0,0,0,1,0,0,0,1];r.mat3.scale(v,v,[g,p]),r.mat3.translate(v,v,[s,l]);var m=r.mat3.invert([],v);return r.vec3.transformMat3(d,d,m),n&&o?a.circle(0,0,f,d[0],d[1])||a.arcline(0,0,f,0,2*Math.PI,!1,h,d[0],d[1]):n?a.circle(0,0,f,d[0],d[1]):!!o&&a.arcline(0,0,f,0,2*Math.PI,!1,h,d[0],d[1])},fan:function(t,e){function i(){var t=o.arc.nearAngle(x,d,v,m);if(r.isNumberEqual(x,t)){var e=r.vec2.squaredLength(y);if(g*g<=e&&e<=p*p)return!0}return!1}function n(){var i=s.getHitLineWidth(),n={x:Math.cos(d)*g+h,y:Math.sin(d)*g+f},r={x:Math.cos(d)*p+h,y:Math.sin(d)*p+f},o={x:Math.cos(v)*g+h,y:Math.sin(v)*g+f},l={x:Math.cos(v)*p+h,y:Math.sin(v)*p+f};return!!(a.line(n.x,n.y,r.x,r.y,i,t,e)||a.line(o.x,o.y,l.x,l.y,i,t,e)||a.arcline(h,f,g,d,v,m,i,t,e)||a.arcline(h,f,p,d,v,m,i,t,e))}var s=this,l=s.hasFill(),u=s.hasStroke(),c=s._attrs,h=c.x,f=c.y,g=c.rs,p=c.re,d=c.startAngle,v=c.endAngle,m=c.clockwise,y=[t-h,e-f],x=r.vec2.angleTo([1,0],y);return l&&u?i()||n():l?i():!!u&&n()},image:function(t,e){var i=this._attrs;if(this.get("toDraw")||!i.img)return!1;this._cfg.attrs&&this._cfg.attrs.img===i.img||this._setAttrImg();var n=i.x,r=i.y,o=i.width,s=i.height;return a.rect(n,r,o,s,t,e)},line:function(t,e){var i=this._attrs,n=i.x1,r=i.y1,o=i.x2,s=i.y2,l=this.getHitLineWidth();return!!this.hasStroke()&&a.line(n,r,o,s,l,t,e)},path:function(t,e){function i(){if(!r.isEmpty(o)){for(var i=a.getHitLineWidth(),n=0,s=o.length;n<s;n++)if(o[n].isInside(t,e,i))return!0;return!1}}var a=this,o=a.get("segments"),s=a.hasFill(),l=a.hasStroke();return s&&l?n(t,e,a)||i():s?n(t,e,a):!!l&&i()},marker:function(t,e){var i=this._attrs,n=i.x,r=i.y,o=i.radius||i.r,s=this.getHitLineWidth();return a.circle(n,r,o+s/2,t,e)},polygon:function(t,e){function i(){var i=r._attrs.points;if(i.length<2)return!1;var n=r.getHitLineWidth(),o=i.slice(0);return i.length>=3&&o.push(i[0]),a.polyline(o,n,t,e)}var r=this,o=r.hasFill(),s=r.hasStroke();return o&&s?n(t,e,r)||i():o?n(t,e,r):!!s&&i()},polyline:function(t,e){var i=this._attrs;if(this.hasStroke()){var n=i.points;if(n.length<2)return!1;var r=i.lineWidth;return a.polyline(n,r,t,e)}return!1},rect:function(t,e){function i(){var i=r._attrs,n=i.x,o=i.y,s=i.width,l=i.height,u=i.radius,c=r.getHitLineWidth();if(0===u){var h=c/2;return a.line(n-h,o,n+s+h,o,c,t,e)||a.line(n+s,o-h,n+s,o+l+h,c,t,e)||a.line(n+s+h,o+l,n-h,o+l,c,t,e)||a.line(n,o+l+h,n,o-h,c,t,e)}return a.line(n+u,o,n+s-u,o,c,t,e)||a.line(n+s,o+u,n+s,o+l-u,c,t,e)||a.line(n+s-u,o+l,n+u,o+l,c,t,e)||a.line(n,o+l-u,n,o+u,c,t,e)||a.arcline(n+s-u,o+u,u,1.5*Math.PI,2*Math.PI,!1,c,t,e)||a.arcline(n+s-u,o+l-u,u,0,.5*Math.PI,!1,c,t,e)||a.arcline(n+u,o+l-u,u,.5*Math.PI,Math.PI,!1,c,t,e)||a.arcline(n+u,o+u,u,Math.PI,1.5*Math.PI,!1,c,t,e)}var r=this,o=r.hasFill(),s=r.hasStroke();return o&&s?n(t,e,r)||i():o?n(t,e,r):!!s&&i()},text:function(t,e){var i=this.getBBox();if(this.hasFill()||this.hasStroke())return a.box(i.minX,i.maxX,i.minY,i.maxY,t,e)}};t.exports={isPointInPath:function(t,e){var i=l[this.type];return!!i&&i.call(this,t,e)}}},function(t,e,i){function n(t,e,i){var n=e.startTime;if(i<n+e.delay||e.isPaused)return!1;var o,l=e.duration,h=e.easing;if(i=i-n-e.delay,e.toAttrs.repeat)o=i%l/l,o=s[h](o);else{if(!((o=i/l)<1))return t.attr(e.toAttrs),e.toMatrix&&t.setMatrix(e.toMatrix),!0;o=s[h](o)}return function(t,e,i){var n={},o=e.toAttrs,s=e.fromAttrs,l=e.toMatrix;if(!t.get("destroyed")){var h;for(var f in o)if(!r.isEqual(s[f],o[f]))if("path"===f){var g=o[f],p=s[f];g.length>p.length?(g=a.parsePathString(o[f]),p=a.parsePathString(s[f]),p=a.fillPathByDiff(p,g),p=a.formatPath(p,g),e.fromAttrs.path=p,e.toAttrs.path=g):e.pathFormatted||(g=a.parsePathString(o[f]),p=a.parsePathString(s[f]),p=a.formatPath(p,g),e.fromAttrs.path=p,e.toAttrs.path=g,e.pathFormatted=!0),n[f]=[];for(var d=0;d<g.length;d++){for(var v=g[d],m=p[d],y=[],x=0;x<v.length;x++)r.isNumber(v[x])&&m&&r.isNumber(m[x])?(h=u(m[x],v[x]),y.push(h(i))):y.push(v[x]);n[f].push(y)}}else h=u(s[f],o[f]),n[f]=h(i);if(l){var b=c(e.fromMatrix,l)(i);t.setMatrix(b)}t.attr(n)}}(t,e,o),!1}var r=i(1),a=i(57),o=i(170),s=i(173),l=i(117),u=l.interpolate,c=l.interpolateArray,h=function(t){this._animators=[],this._current=0,this._timer=null,this.canvas=t};r.augment(h,{initTimer:function(){var t,e,i,r=this,a=this,s=!1;a._timer=o.timer(function(o){if(a._current=o,r._animators.length>0){for(var l=r._animators.length-1;l>=0;l--)if((t=r._animators[l]).get("destroyed"))a.removeAnimator(l);else{if(!t.get("pause").isPaused)for(var u=(e=t.get("animators")).length-1;u>=0;u--)i=e[u],(s=n(t,i,o))&&(e.splice(u,1),s=!1,i.callback&&i.callback());0===e.length&&a.removeAnimator(l)}r.canvas.draw()}})},addAnimator:function(t){this._animators.push(t)},removeAnimator:function(t){this._animators.splice(t,1)},isAnimating:function(){return!!this._animators.length},stop:function(){this._timer&&this._timer.stop()},stopAllAnimations:function(){this._animators.forEach(function(t){t.stopAnimate()}),this._animators=[],this.canvas.draw()},getTime:function(){return this._current}}),t.exports=h},function(t,e,i){"use strict";var n=i(58);e.a=function(t,e,i){var r=new n.a;return e=null==e?0:+e,r.restart(function(i){r.stop(),t(i+e)},e,i),r}},function(t,e,i){"use strict";var n=i(58);e.a=function(t,e,i){var r=new n.a,a=e;return null==e?(r.restart(t,e,i),r):(e=+e,i=null==i?Object(n.b)():+i,r.restart(function n(o){o+=a,r.restart(n,a+=e,i),t(o)},e,i),r)}},function(t,e,i){"use strict";e.a=function(t){return+t}},function(t,e,i){"use strict";e.a=function(t){return t*t},e.c=function(t){return t*(2-t)},e.b=function(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}},function(t,e,i){"use strict";e.a=function(t){return t*t*t},e.c=function(t){return--t*t*t+1},e.b=function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}},function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"c",function(){return r}),i.d(e,"b",function(){return a});var n=function t(e){function i(t){return Math.pow(t,e)}return e=+e,i.exponent=t,i}(3),r=function t(e){function i(t){return 1-Math.pow(1-t,e)}return e=+e,i.exponent=t,i}(3),a=function t(e){function i(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,i.exponent=t,i}(3)},function(t,e,i){"use strict";e.a=function(t){return 1-Math.cos(t*r)},e.c=function(t){return Math.sin(t*r)},e.b=function(t){return(1-Math.cos(n*t))/2};var n=Math.PI,r=n/2},function(t,e,i){"use strict";e.a=function(t){return Math.pow(2,10*t-10)},e.c=function(t){return 1-Math.pow(2,-10*t)},e.b=function(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}},function(t,e,i){"use strict";e.a=function(t){return 1-Math.sqrt(1-t*t)},e.c=function(t){return Math.sqrt(1- --t*t)},e.b=function(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}},function(t,e,i){"use strict";function n(t){return(t=+t)<r?g*t*t:t<o?g*(t-=a)*t+s:t<u?g*(t-=l)*t+c:g*(t-=h)*t+f}e.a=function(t){return 1-n(1-t)},e.c=n,e.b=function(t){return((t*=2)<=1?1-n(1-t):n(t-1)+1)/2};var r=4/11,a=6/11,o=8/11,s=.75,l=9/11,u=10/11,c=.9375,h=21/22,f=63/64,g=1/r/r},function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"c",function(){return r}),i.d(e,"b",function(){return a});var n=function t(e){function i(t){return t*t*((e+1)*t-e)}return e=+e,i.overshoot=t,i}(1.70158),r=function t(e){function i(t){return--t*t*((e+1)*t+e)+1}return e=+e,i.overshoot=t,i}(1.70158),a=function t(e){function i(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,i.overshoot=t,i}(1.70158)},function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"c",function(){return a}),i.d(e,"b",function(){return o});var n=2*Math.PI,r=function t(e,i){function r(t){return e*Math.pow(2,10*--t)*Math.sin((a-t)/i)}var a=Math.asin(1/(e=Math.max(1,e)))*(i/=n);return r.amplitude=function(e){return t(e,i*n)},r.period=function(i){return t(e,i)},r}(1,.3),a=function t(e,i){function r(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+a)/i)}var a=Math.asin(1/(e=Math.max(1,e)))*(i/=n);return r.amplitude=function(e){return t(e,i*n)},r.period=function(i){return t(e,i)},r}(1,.3),o=function t(e,i){function r(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((a-t)/i):2-e*Math.pow(2,-10*t)*Math.sin((a+t)/i))/2}var a=Math.asin(1/(e=Math.max(1,e)))*(i/=n);return r.amplitude=function(e){return t(e,i*n)},r.period=function(i){return t(e,i)},r}(1,.3)},function(t,e,i){"use strict";function n(t){if(t instanceof a)return new a(t.l,t.a,t.b,t.opacity);if(t instanceof h){var e=t.h*p.a;return new a(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof g.b||(t=Object(g.h)(t));var i=u(t.r),n=u(t.g),r=u(t.b),s=o((.4124564*i+.3575761*n+.1804375*r)/d),l=o((.2126729*i+.7151522*n+.072175*r)/v);return new a(116*l-16,500*(s-l),200*(l-o((.0193339*i+.119192*n+.9503041*r)/m)),t.opacity)}function r(t,e,i,r){return 1===arguments.length?n(t):new a(t,e,i,null==r?1:r)}function a(t,e,i,n){this.l=+t,this.a=+e,this.b=+i,this.opacity=+n}function o(t){return t>_?Math.pow(t,1/3):t/b+y}function s(t){return t>x?t*t*t:b*(t-y)}function l(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function u(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function c(t,e,i,r){return 1===arguments.length?function(t){if(t instanceof h)return new h(t.h,t.c,t.l,t.opacity);t instanceof a||(t=n(t));var e=Math.atan2(t.b,t.a)*p.b;return new h(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new h(t,e,i,null==r?1:r)}function h(t,e,i,n){this.h=+t,this.c=+e,this.l=+i,this.opacity=+n}e.a=r,e.b=c;var f=i(61),g=i(60),p=i(118),d=.95047,v=1,m=1.08883,y=4/29,x=6/29,b=3*x*x,_=x*x*x;Object(f.a)(a,r,Object(f.b)(g.a,{brighter:function(t){return new a(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new a(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,i=isNaN(this.b)?t:t-this.b/200;return t=v*s(t),e=d*s(e),i=m*s(i),new g.b(l(3.2404542*e-1.5371385*t-.4985314*i),l(-.969266*e+1.8760108*t+.041556*i),l(.0556434*e-.2040259*t+1.0572252*i),this.opacity)}})),Object(f.a)(h,c,Object(f.b)(g.a,{brighter:function(t){return new h(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new h(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return n(this).rgb()}}))},function(t,e,i){"use strict";function n(t,e,i,n){return 1===arguments.length?function(t){if(t instanceof r)return new r(t.h,t.s,t.l,t.opacity);t instanceof o.b||(t=Object(o.h)(t));var e=t.r/255,i=t.g/255,n=t.b/255,a=(d*n+g*e-p*i)/(d+g-p),l=n-a,u=(f*(i-a)-c*l)/h,v=Math.sqrt(u*u+l*l)/(f*a*(1-a)),m=v?Math.atan2(u,l)*s.b-120:NaN;return new r(m<0?m+360:m,v,a,t.opacity)}(t):new r(t,e,i,null==n?1:n)}function r(t,e,i,n){this.h=+t,this.s=+e,this.l=+i,this.opacity=+n}e.a=n;var a=i(61),o=i(60),s=i(118),l=-.14861,u=1.78277,c=-.29227,h=-.90649,f=1.97294,g=f*h,p=f*u,d=u*c-h*l;Object(a.a)(r,n,Object(a.b)(o.a,{brighter:function(t){return t=null==t?o.c:Math.pow(o.c,t),new r(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?o.d:Math.pow(o.d,t),new r(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*s.a,e=+this.l,i=isNaN(this.s)?0:this.s*e*(1-e),n=Math.cos(t),r=Math.sin(t);return new o.b(255*(e+i*(l*n+u*r)),255*(e+i*(c*n+h*r)),255*(e+i*(f*n)),this.opacity)}}))},function(t,e,i){"use strict";e.a=function(t,e){return t=+t,e-=t,function(i){return Math.round(t+e*i)}}},function(t,e,i){"use strict";function n(t,e,i,n){function a(t){return t.length?t.pop()+" ":""}return function(o,s){var l=[],u=[];return o=t(o),s=t(s),function(t,n,a,o,s,l){if(t!==a||n!==o){var u=s.push("translate(",null,e,null,i);l.push({i:u-4,x:Object(r.a)(t,a)},{i:u-2,x:Object(r.a)(n,o)})}else(a||o)&&s.push("translate("+a+e+o+i)}(o.translateX,o.translateY,s.translateX,s.translateY,l,u),function(t,e,i,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:i.push(a(i)+"rotate(",null,n)-2,x:Object(r.a)(t,e)})):e&&i.push(a(i)+"rotate("+e+n)}(o.rotate,s.rotate,l,u),function(t,e,i,o){t!==e?o.push({i:i.push(a(i)+"skewX(",null,n)-2,x:Object(r.a)(t,e)}):e&&i.push(a(i)+"skewX("+e+n)}(o.skewX,s.skewX,l,u),function(t,e,i,n,o,s){if(t!==i||e!==n){var l=o.push(a(o)+"scale(",null,",",null,")");s.push({i:l-4,x:Object(r.a)(t,i)},{i:l-2,x:Object(r.a)(e,n)})}else 1===i&&1===n||o.push(a(o)+"scale("+i+","+n+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,l,u),o=s=null,function(t){for(var e,i=-1,n=u.length;++i<n;)l[(e=u[i]).i]=e.x(t);return l.join("")}}}i.d(e,"a",function(){return o}),i.d(e,"b",function(){return s});var r=i(40),a=i(207),o=n(a.a,"px, ","px)","deg)"),s=n(a.b,", ",")",")")},function(t,e,i){"use strict";e.a=function(t){return"none"===t?s.b:(n||(n=document.createElement("DIV"),r=document.documentElement,a=document.defaultView),n.style.transform=t,t=a.getComputedStyle(r.appendChild(n),null).getPropertyValue("transform"),r.removeChild(n),t=t.slice(7,-1).split(","),Object(s.a)(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},e.b=function(t){return null==t?s.b:(o||(o=document.createElementNS("http://www.w3.org/2000/svg","g")),o.setAttribute("transform",t),(t=o.transform.baseVal.consolidate())?(t=t.matrix,Object(s.a)(t.a,t.b,t.c,t.d,t.e,t.f)):s.b)};var n,r,a,o,s=i(208)},function(t,e,i){"use strict";i.d(e,"b",function(){return r});var n=180/Math.PI,r={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};e.a=function(t,e,i,r,a,o){var s,l,u;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(u=t*i+e*r)&&(i-=t*u,r-=e*u),(l=Math.sqrt(i*i+r*r))&&(i/=l,r/=l,u/=l),t*r<e*i&&(t=-t,e=-e,u=-u,s=-s),{translateX:a,translateY:o,rotate:Math.atan2(e,t)*n,skewX:Math.atan(u)*n,scaleX:s,scaleY:l}}},function(t,e,i){"use strict";function n(t){return((t=Math.exp(t))+1/t)/2}var r=Math.SQRT2;e.a=function(t,e){var i,a,o=t[0],s=t[1],l=t[2],u=e[0],c=e[1],h=e[2],f=u-o,g=c-s,p=f*f+g*g;if(p<1e-12)a=Math.log(h/l)/r,i=function(t){return[o+t*f,s+t*g,l*Math.exp(r*t*a)]};else{var d=Math.sqrt(p),v=(h*h-l*l+4*p)/(2*l*2*d),m=(h*h-l*l-4*p)/(2*h*2*d),y=Math.log(Math.sqrt(v*v+1)-v),x=Math.log(Math.sqrt(m*m+1)-m);a=(x-y)/r,i=function(t){var e=t*a,i=n(y),u=l/(2*d)*(i*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(r*e+y)-function(t){return((t=Math.exp(t))-1/t)/2}(y));return[o+u*f,s+u*g,l*i/n(r*e+y)]}}return i.duration=1e3*a,i}},function(t,e,i){"use strict";function n(t){return function(e,i){var n=t((e=Object(r.d)(e)).h,(i=Object(r.d)(i)).h),o=Object(a.a)(e.s,i.s),s=Object(a.a)(e.l,i.l),l=Object(a.a)(e.opacity,i.opacity);return function(t){return e.h=n(t),e.s=o(t),e.l=s(t),e.opacity=l(t),e+""}}}i.d(e,"b",function(){return o});var r=i(19),a=i(28);e.a=n(a.c);var o=n(a.a)},function(t,e,i){"use strict";e.a=function(t,e){var i=Object(r.a)((t=Object(n.e)(t)).l,(e=Object(n.e)(e)).l),a=Object(r.a)(t.a,e.a),o=Object(r.a)(t.b,e.b),s=Object(r.a)(t.opacity,e.opacity);return function(e){return t.l=i(e),t.a=a(e),t.b=o(e),t.opacity=s(e),t+""}};var n=i(19),r=i(28)},function(t,e,i){"use strict";function n(t){return function(e,i){var n=t((e=Object(r.c)(e)).h,(i=Object(r.c)(i)).h),o=Object(a.a)(e.c,i.c),s=Object(a.a)(e.l,i.l),l=Object(a.a)(e.opacity,i.opacity);return function(t){return e.h=n(t),e.c=o(t),e.l=s(t),e.opacity=l(t),e+""}}}i.d(e,"b",function(){return o});var r=i(19),a=i(28);e.a=n(a.c);var o=n(a.a)},function(t,e,i){"use strict";function n(t){return function e(i){function n(e,n){var o=t((e=Object(r.b)(e)).h,(n=Object(r.b)(n)).h),s=Object(a.a)(e.s,n.s),l=Object(a.a)(e.l,n.l),u=Object(a.a)(e.opacity,n.opacity);return function(t){return e.h=o(t),e.s=s(t),e.l=l(Math.pow(t,i)),e.opacity=u(t),e+""}}return i=+i,n.gamma=e,n}(1)}i.d(e,"a",function(){return o});var r=i(19),a=i(28);e.b=n(a.c);var o=n(a.a)},function(t,e,i){"use strict";e.a=function(t,e){for(var i=new Array(e),n=0;n<e;++n)i[n]=t(n/(e-1));return i}},function(t,e,i){t.exports={canvas:i(216),svg:i(219)}},function(t,e,i){t.exports={painter:i(217)}},function(t,e,i){var n=i(1),r=i(218),a=["fillStyle","font","globalAlpha","lineCap","lineWidth","lineJoin","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline","lineDash","lineDashOffset"],o=function(){function t(t){if(!t)return null;var e=n.uniqueId("canvas_"),i=n.createDom('<canvas id="'+e+'"></canvas>');return t.appendChild(i),this.type="canvas",this.canvas=i,this.context=i.getContext("2d"),this.toDraw=!1,this}var e=t.prototype;return e.beforeDraw=function(){var t=this.canvas;this.context&&this.context.clearRect(0,0,t.width,t.height)},e.draw=function(t){function e(){i.animateHandler=n.requestAnimationFrame(function(){i.animateHandler=void 0,i.toDraw&&e()}),i.beforeDraw();try{i._drawGroup(t)}catch(t){console.warn("error in draw canvas, detail as:"),console.warn(t),i.toDraw=!1}i.toDraw=!1}var i=this;i.animateHandler?i.toDraw=!0:e()},e.drawSync=function(t){this.beforeDraw(),this._drawGroup(t)},e._drawGroup=function(t){if(!t._cfg.removed&&!t._cfg.destroyed&&t._cfg.visible){var e=t._cfg.children,i=null;this.setContext(t);for(var n=0;n<e.length;n++)i=e[n],e[n].isGroup?this._drawGroup(i):this._drawShape(i);this.restoreContext(t)}},e._drawShape=function(t){t._cfg.removed||t._cfg.destroyed||!t._cfg.visible||(this.setContext(t),t.drawInner(this.context),this.restoreContext(t),t._cfg.attrs=t._attrs,t._cfg.hasUpdate=!1)},e.setContext=function(t){var e=this.context,i=t._attrs.clip;e.save(),i&&(i.resetTransform(e),i.createPath(e),e.clip()),this.resetContext(t),t.resetTransform(e)},e.restoreContext=function(){this.context.restore()},e.resetContext=function(t){var e=this.context,i=t._attrs;if(!t.isGroup)for(var o in i)if(a.indexOf(o)>-1){var s=i[o];"fillStyle"===o&&(s=r.parseStyle(s,t,e)),"strokeStyle"===o&&(s=r.parseStyle(s,t,e)),"lineDash"===o&&e.setLineDash?n.isArray(s)?e.setLineDash(s):n.isString(s)&&e.setLineDash(s.split(" ")):e[o]=s}},t}();t.exports=o},function(t,e,i){function n(t,e){var i=t.match(c);r.each(i,function(t){t=t.split(":"),e.addColorStop(t[0],t[1])})}var r=i(1),a=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,o=/[^\s\,]+/gi,s=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,l=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,u=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,c=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,h={};t.exports={parsePath:function(t){return t=t||[],r.isArray(t)?t:r.isString(t)?(t=t.match(a),r.each(t,function(e,i){if((e=e.match(o))[0].length>1){var n=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=n}r.each(e,function(t,i){isNaN(t)||(e[i]=+t)}),t[i]=e}),t):void 0},parseStyle:function(t,e,i){if(r.isString(t)){if("("===t[1]||"("===t[2]){if("l"===t[0])return function(t,e,i){var a,o,l=s.exec(t),u=r.mod(r.toRadian(parseFloat(l[1])),2*Math.PI),c=l[2],h=e.getBBox();u>=0&&u<.5*Math.PI?(a={x:h.minX,y:h.minY},o={x:h.maxX,y:h.maxY}):.5*Math.PI<=u&&u<Math.PI?(a={x:h.maxX,y:h.minY},o={x:h.minX,y:h.maxY}):Math.PI<=u&&u<1.5*Math.PI?(a={x:h.maxX,y:h.maxY},o={x:h.minX,y:h.minY}):(a={x:h.minX,y:h.maxY},o={x:h.maxX,y:h.minY});var f=Math.tan(u),g=f*f,p=(o.x-a.x+f*(o.y-a.y))/(g+1)+a.x,d=f*(o.x-a.x+f*(o.y-a.y))/(g+1)+a.y,v=i.createLinearGradient(a.x,a.y,p,d);return n(c,v),v}(t,e,i);if("r"===t[0])return function(t,e,i){var r=l.exec(t),a=parseFloat(r[1]),o=parseFloat(r[2]),s=parseFloat(r[3]),u=r[4];if(0===s){var h=u.match(c);return h[h.length-1].split(":")[1]}var f=e.getBBox(),g=f.maxX-f.minX,p=f.maxY-f.minY,d=Math.sqrt(g*g+p*p)/2,v=i.createRadialGradient(f.minX+g*a,f.minY+p*o,s*d,f.minX+g/2,f.minY+p/2,d);return n(u,v),v}(t,e,i);if("p"===t[0])return function(t,e,i){function n(){r=i.createPattern(a,s),e.setSilent("pattern",r),e.setSilent("patternSource",t)}if(e.get("patternSource")&&e.get("patternSource")===t)return e.get("pattern");var r,a,o=u.exec(t),s=o[1],l=o[2];switch(s){case"a":s="repeat";break;case"x":s="repeat-x";break;case"y":s="repeat-y";break;case"n":s="no-repeat";break;default:s="no-repeat"}return a=new Image,l.match(/^data:/i)||(a.crossOrigin="Anonymous"),a.src=l,a.complete?n():(a.onload=n,a.src=a.src),r}(t,e,i)}return t}},numberToColor:function(t){var e=h[t];if(!e){for(var i=t.toString(16),n=i.length;n<6;n++)i="0"+i;e="#"+i,h[t]=e}return e}}},function(t,e,i){t.exports={painter:i(220),getShape:i(227)}},function(t,e,i){var n=i(1),r=i(27).parseRadius,a=i(56),o=i(221),s={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject",fan:"path",group:"g"},l={opacity:"opacity",fillStyle:"fill",strokeOpacity:"stroke-opacity",fillOpacity:"fill-opacity",strokeStyle:"stroke",x:"x",y:"y",r:"r",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},u={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},c={left:"left",start:"left",center:"middle",right:"end",end:"end"},h=function(){function t(t){if(!t)return null;var e=n.uniqueId("canvas_"),i=n.createDom('<svg id="'+e+'"></svg>');return t.appendChild(i),this.type="svg",this.canvas=i,this.context=new o(i),this.toDraw=!1,this}var e=t.prototype;return e.draw=function(t){function e(){i.animateHandler=n.requestAnimationFrame(function(){i.animateHandler=void 0,i.toDraw&&e()});try{t.resetMatrix(),i._drawGroup(t,!1)}catch(t){console.warn("error in draw canvas, detail as:"),console.warn(t),i.toDraw=!1}i.toDraw=!1}var i=this;i.animateHandler?i.toDraw=!0:e()},e.drawSync=function(t){this._drawChildren(t,!1)},e._drawGroup=function(t,e){var i=t._cfg;i.removed||i.destroyed||(!i.el&&i.attrs&&(e=!0),i.tobeRemoved&&(n.each(i.tobeRemoved,function(t){t.parentNode&&t.parentNode.removeChild(t)}),i.tobeRemoved=[]),this._drawShape(t,e),i.children&&i.children.length>0&&this._drawChildren(t,e))},e._drawChildren=function(t,e){var i,n=t._cfg.children;if(n){if(t._cfg.el&&!e){var r=t._cfg.el.childNodes.length+1;0!==r&&r!==n.length&&(e=!0)}for(var a=0;a<n.length;a++)(i=n[a]).isGroup?this._drawGroup(i,e):this._drawShape(i,e)}},e._drawShape=function(t,e){var i=t._attrs,n=t._cfg,r=n.el;n.removed||n.destroyed?r&&r.parentNode.removeChild(n.el):(e&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null),!r&&n.parent&&(this._createDom(t),this._updateShape(t)),r=n.el,!1!==n.visible?(n.visible&&r.hasAttribute("visibility")&&r.removeAttribute("visibility"),n.hasUpdate&&this._updateShape(t),i.clip&&i.clip._cfg.hasUpdate&&this._updateShape(i.clip)):r.setAttribute("visibility","hidden"))},e._updateShape=function(t){var e=t._attrs,i=t._cfg.attrs;if(i)if(t._cfg.el||this._createDom(t),"clip"in e&&this._setClip(t,e.clip),("shadowOffsetX"in e||"shadowOffsetY"in e||"shadowBlur"in e||"shadowColor"in e)&&this._setShadow(t),"text"!==t.type){"fan"===t.type&&this._updateFan(t),"marker"===t.type&&t._cfg.el.setAttribute("d",this._assembleMarker(e)),"rect"===t.type&&t._cfg.el.setAttribute("d",this._assembleRect(e));for(var r in e)e[r]!==i[r]&&this._setAttribute(t,r,e[r]);t._cfg.attrs=n.deepMix({},t._attrs),t._cfg.hasUpdate=!1}else this._updateText(t)},e._setAttribute=function(t,e,i){var r=t.type,a=t._attrs,o=t._cfg.el,s=this.context;if("marker"!==r&&"rect"!==r||!~["x","y","radius","r"].indexOf(e))if(~["circle","ellipse"].indexOf(r)&&~["x","y"].indexOf(e))o.setAttribute("c"+e,parseInt(i,10));else{if("polygon"===r&&"points"===e)return i&&0!==i.length||(i=""),n.isArray(i)&&(i=(i=i.map(function(t){return t[0]+","+t[1]})).join(" ")),void o.setAttribute("points",i);if("path"===e&&n.isArray(i))o.setAttribute("d",this._formatPath(i));else if("img"!==e){if("transform"===e)return i?void this._setTransform(t):void o.removeAttribute("transform");if("rotate"===e)return i?void this._setTransform(t):void o.removeAttribute("transform");if("matrix"!==e)if("fillStyle"!==e&&"strokeStyle"!==e){if("clip"!==e)if(~e.indexOf("Arrow"))if(e=l[e],i){var u=null;u="boolean"==typeof i?s.getDefaultArrow(a,e):s.addArrow(a,e),o.setAttribute(e,"url(#"+u+")"),t._cfg[e]=u}else t._cfg[e]=null,o.removeAttribute(e);else"html"===e&&("string"==typeof i?o.innerHTML=i:(o.innerHTML="",o.appendChild(i))),l[e]&&o.setAttribute(l[e],i)}else this._setColor(t,e,i);else this._setTransform(t)}else this._setImage(t,i)}},e._createDom=function(t){var e=s[t.type],i=t._attrs;if(!e)throw new Error("the type"+t.type+"is not supported by svg");var n=document.createElementNS("http://www.w3.org/2000/svg",e);return t._cfg.el=n,t._cfg.parent&&t._cfg.parent.get("el").appendChild(n),t._cfg.attrs={},"text"===t.type?(n.setAttribute("paint-order","stroke"),n.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")):(i.stroke||i.strokeStyle||n.setAttribute("stroke","none"),i.fill||i.fillStyle||n.setAttribute("fill","none")),n},e._assembleMarker=function(t){var e=t.r;if(void 0===t.r&&(e=t.radius),isNaN(Number(t.x))||isNaN(Number(t.y))||isNaN(Number(e)))return"";var i="";return i="function"==typeof t.symbol?t.symbol(t.x,t.y,e):a.Symbols[t.symbol||"circle"](t.x,t.y,e),n.isArray(i)&&(i=i.map(function(t){return t.join(" ")}).join("")),i},e._assembleRect=function(t){var e=t.x,i=t.y,a=t.width,o=t.height,s=t.radius;if(!s)return"M "+e+","+i+" l "+a+",0 l 0,"+o+" l"+-a+" 0 z";var l=r(s);n.isArray(s)?1===s.length?l.r1=l.r2=l.r3=l.r4=s[0]:2===s.length?(l.r1=l.r3=s[0],l.r2=l.r4=s[1]):3===s.length?(l.r1=s[0],l.r2=l.r4=s[1],l.r3=s[2]):(l.r1=s[0],l.r2=s[1],l.r3=s[2],l.r4=s[3]):l.r1=l.r2=l.r3=l.r4=s;return[["M "+(e+l.r1)+","+i],["l "+(a-l.r1-l.r2)+",0"],["a "+l.r2+","+l.r2+",0,0,1,"+l.r2+","+l.r2],["l 0,"+(o-l.r2-l.r3)],["a "+l.r3+","+l.r3+",0,0,1,"+-l.r3+","+l.r3],["l "+(l.r3+l.r4-a)+",0"],["a "+l.r4+","+l.r4+",0,0,1,"+-l.r4+","+-l.r4],["l 0,"+(l.r4+l.r1-o)],["a "+l.r1+","+l.r1+",0,0,1,"+l.r1+","+-l.r1],["z"]].join(" ")},e._formatPath=function(t){return~(t=t.map(function(t){return t.join(" ")}).join("")).indexOf("NaN")?"":t},e._setTransform=function(t){for(var e=t._attrs.matrix,i=t._cfg.el,n=[],r=0;r<9;r+=3)n.push(e[r]+","+e[r+1]);-1===(n=n.join(",")).indexOf("NaN")?i.setAttribute("transform","matrix("+n+")"):console.warn("invalid matrix:",e)},e._setImage=function(t,e){var i=t._attrs,r=t._cfg.el;if(n.isString(e))r.setAttribute("href",e);else if(e instanceof Image)i.width||(r.setAttribute("width",e.width),t._attrs.width=e.width),i.height||(r.setAttribute("height",e.height),t._attrs.height=e.height),r.setAttribute("href",e.src);else if(e instanceof HTMLElement&&n.isString(e.nodeName)&&"CANVAS"===e.nodeName.toUpperCase())r.setAttribute("href",e.toDataURL());else if(e instanceof ImageData){var a=document.createElement("canvas");a.setAttribute("width",e.width),a.setAttribute("height",e.height),a.getContext("2d").putImageData(e,0,0),i.width||(r.setAttribute("width",e.width),t._attrs.width=e.width),i.height||(r.setAttribute("height",e.height),t._attrs.height=e.height),r.setAttribute("href",a.toDataURL())}},e._updateFan=function(t){function e(t,e,i){return{x:e*Math.cos(t)+i.x,y:e*Math.sin(t)+i.y}}var i=t._attrs,r=t._cfg,a={x:i.x,y:i.y},o=[],s=i.startAngle,l=i.endAngle;n.isNumberEqual(l-s,2*Math.PI)&&(l-=1e-5);var u=e(s,i.re,a),c=e(l,i.re,a),h=l>s?1:0,f=Math.abs(l-s)>Math.PI?1:0,g=i.rs,p=i.re,d=e(s,i.rs,a),v=e(l,i.rs,a);i.rs>0?(o.push("M "+c.x+","+c.y),o.push("L "+v.x+","+v.y),o.push("A "+g+","+g+",0,"+f+","+(1===h?0:1)+","+d.x+","+d.y),o.push("L "+u.x+" "+u.y)):(o.push("M "+a.x+","+a.y),o.push("L "+u.x+","+u.y)),o.push("A "+p+","+p+",0,"+f+","+h+","+c.x+","+c.y),i.rs>0?o.push("L "+v.x+","+v.y):o.push("Z"),r.el.setAttribute("d",o.join(" "))},e._updateText=function(t){var e=t._attrs,i=t._cfg.attrs,n=t._cfg.el;this._setFont(t);for(var r in e)if(e[r]!==i[r]){if("text"===r){this._setText(t,""+e[r]);continue}if("fillStyle"===r||"strokeStyle"===r){this._setColor(t,r,e[r]);continue}if("matrix"===r){this._setTransform(t);continue}l[r]&&n.setAttribute(l[r],e[r])}t._cfg.attrs=Object.assign({},t._attrs),t._cfg.hasUpdate=!1},e._setFont=function(t){var e=t.get("el"),i=t._attrs,n=i.fontSize;e.setAttribute("alignment-baseline",u[i.textBaseline]||"baseline"),e.setAttribute("text-anchor",c[i.textAlign]||"left"),n&&+n<12&&(i.matrix=[1,0,0,0,1,0,0,0,1],t.transform([["t",-i.x,-i.y],["s",+n/12,+n/12],["t",i.x,i.y]]))},e._setText=function(t,e){var i=t._cfg.el,r=t._attrs.textBaseline||"bottom";if(e)if(~e.indexOf("\n")){var a=t._attrs.x,o=e.split("\n"),s=o.length-1,l="";n.each(o,function(t,e){0===e?"alphabetic"===r?l+='<tspan x="'+a+'" dy="'+-s+'em">'+t+"</tspan>":"top"===r?l+='<tspan x="'+a+'" dy="0.9em">'+t+"</tspan>":"middle"===r?l+='<tspan x="'+a+'" dy="'+-(s-1)/2+'em">'+t+"</tspan>":"bottom"===r?l+='<tspan x="'+a+'" dy="-'+(s+.3)+'em">'+t+"</tspan>":"hanging"===r&&(l+='<tspan x="'+a+'" dy="'+(-(s-1)-.3)+'em">'+t+"</tspan>"):l+='<tspan x="'+a+'" dy="1em">'+t+"</tspan>"}),i.innerHTML=l}else i.innerHTML=e;else i.innerHTML=""},e._setClip=function(t,e){var i=t._cfg.el;if(e)if(i.hasAttribute("clip-path"))e._cfg.hasUpdate&&this._updateShape(e);else{this._createDom(e),this._updateShape(e);var n=this.context.addClip(e);i.setAttribute("clip-path","url(#"+n+")")}else i.removeAttribute("clip-path")},e._setColor=function(t,e,i){var n=t._cfg.el,r=this.context;if(i)if(i=i.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(i)){var a=r.find("gradient",i);a||(a=r.addGradient(i)),n.setAttribute(l[e],"url(#"+a+")")}else if(/^[p,P]{1}[\s]*\(/.test(i)){var o=r.find("pattern",i);o||(o=r.addPattern(i)),n.setAttribute(l[e],"url(#"+o+")")}else n.setAttribute(l[e],i);else n.setAttribute(l[e],"none")},e._setShadow=function(t){var e=t._cfg.el,i=t._attrs,n={dx:i.shadowOffsetX,dy:i.shadowOffsetY,blur:i.shadowBlur,color:i.shadowColor};if(n.dx||n.dy||n.blur||n.color){var r=this.context.find("filter",n);r||(r=this.context.addShadow(n,this)),e.setAttribute("filter","url(#"+r+")")}else e.removeAttribute("filter")},t}();t.exports=h},function(t,e,i){var n=i(1),r=i(222),a=i(223),o=i(224),s=i(225),l=i(226),u=function(){function t(t){var e=document.createElementNS("http://www.w3.org/2000/svg","defs"),i=n.uniqueId("defs_");e.id=i,t.appendChild(e),this.children=[],this.defaultArrow={},this.el=e,this.canvas=t}var e=t.prototype;return e.find=function(t,e){for(var i=this.children,n=null,r=0;r<i.length;r++)if(i[r].match(t,e)){n=i[r].id;break}return n},e.findById=function(t){for(var e=this.children,i=null,n=0;n<e.length;n++)if(e[n].id===t){i=e[n];break}return i},e.add=function(t){this.children.push(t),t.canvas=this.canvas,t.parent=this},e.getDefaultArrow=function(t,e){var i=t.stroke||t.strokeStyle;if(this.defaultArrow[i])return this.defaultArrow[i].id;var n=new o(t,e);return this.defaultArrow[i]=n,this.el.appendChild(n.el),n.id},e.addGradient=function(t){var e=new r(t);return this.el.appendChild(e.el),this.add(e),e.id},e.addArrow=function(t,e){var i=new o(t,e);return this.el.appendChild(i.el),i.id},e.addShadow=function(t){var e=new a(t);return this.el.appendChild(e.el),this.add(e),e.id},e.addPattern=function(t){var e=new l(t);return this.el.appendChild(e.el),this.add(e),e.id},e.addClip=function(t){var e=new s(t);return this.el.appendChild(e.el),this.add(e),e.id},t}();t.exports=u},function(t,e,i){function n(t){var e=t.match(s);if(!e)return"";var i="";return e.sort(function(t,e){return t=t.split(":"),e=e.split(":"),Number(t[0])-Number(e[0])}),r.each(e,function(t){t=t.split(":"),i+='<stop offset="'+t[0]+'" stop-color="'+t[1]+'"></stop>'}),i}var r=i(1),a=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,o=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,s=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,l=function(){function t(t){var e=null,i=r.uniqueId("gradient_");return"l"===t.toLowerCase()[0]?function(t,e){var i,o,s=a.exec(t),l=r.mod(r.toRadian(parseFloat(s[1])),2*Math.PI),u=s[2];l>=0&&l<.5*Math.PI?(i={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=l&&l<Math.PI?(i={x:1,y:0},o={x:0,y:1}):Math.PI<=l&&l<1.5*Math.PI?(i={x:1,y:1},o={x:0,y:0}):(i={x:0,y:1},o={x:1,y:0});var c=Math.tan(l),h=c*c,f=(o.x-i.x+c*(o.y-i.y))/(h+1)+i.x,g=c*(o.x-i.x+c*(o.y-i.y))/(h+1)+i.y;e.setAttribute("x1",i.x),e.setAttribute("y1",i.y),e.setAttribute("x2",f),e.setAttribute("y2",g),e.innerHTML=n(u)}(t,e=document.createElementNS("http://www.w3.org/2000/svg","linearGradient")):function(t,e){var i=o.exec(t),r=parseFloat(i[1]),a=parseFloat(i[2]),s=parseFloat(i[3]),l=i[4];e.setAttribute("cx",r),e.setAttribute("cy",a),e.setAttribute("r",s),e.innerHTML=n(l)}(t,e=document.createElementNS("http://www.w3.org/2000/svg","radialGradient")),e.setAttribute("id",i),this.el=e,this.id=i,this.cfg=t,this}return t.prototype.match=function(t,e){return this.cfg===e},t}();t.exports=l},function(t,e,i){var n=i(1),r={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},a={x:"-40%",y:"-40%",width:"200%",height:"200%"},o=function(){function t(t){this.type="filter";var e=document.createElementNS("http://www.w3.org/2000/svg","filter");return n.each(a,function(t,i){e.setAttribute(i,t)}),this.el=e,this.id=n.uniqueId("filter_"),this.el.id=this.id,this.cfg=t,this._parseShadow(t,e),this}var e=t.prototype;return e.match=function(t,e){if(this.type!==t)return!1;var i=!0,r=this.cfg;return n.each(Object.keys(r),function(t){if(r[t]!==e[t])return i=!1,!1}),i},e.update=function(t,e){var i=this.cfg;return i[r[t]]=e,this._parseShadow(i,this.el),this},e._parseShadow=function(t,e){var i='<feDropShadow \n      dx="'+(t.dx||0)+'" \n      dy="'+(t.dy||0)+'" \n      stdDeviation="'+(t.blur?t.blur/10:0)+'"\n      flood-color="'+(t.color?t.color:"#000")+'"\n      flood-opacity="'+(t.opacity?t.opacity:1)+'"\n      />';e.innerHTML=i},t}();t.exports=o},function(t,e,i){var n=i(1),r=function(){function t(t,e){var i=document.createElementNS("http://www.w3.org/2000/svg","marker"),r=n.uniqueId("marker_");i.setAttribute("id",r);var a=document.createElementNS("http://www.w3.org/2000/svg","path");return a.setAttribute("stroke","none"),a.setAttribute("fill",t.stroke||"#000"),i.appendChild(a),i.setAttribute("overflow","visible"),i.setAttribute("orient","auto-start-reverse"),this.el=i,this.child=a,this.id=r,this.cfg=t["marker-start"===e?"startArrow":"endArrow"],this.stroke=t.stroke||"#000",!0===this.cfg?this._setDefaultPath(e,a):this._setMarker(t.lineWidth,a),this}var e=t.prototype;return e.match=function(){return!1},e._setDefaultPath=function(t,e){var i=this.el;e.setAttribute("d","M0,0 L6,3 L0,6 L3,3Z"),i.setAttribute("refX",3),i.setAttribute("refY",3)},e._setMarker=function(t,e){var i=this.el,r=this.cfg.path,a=this.cfg.d;n.isArray(r)&&(r=r.map(function(t){return t.join(" ")}).join("")),e.setAttribute("d",r),i.appendChild(e),a&&i.setAttribute("refX",a/t)},e.update=function(t){var e=this.child;e.attr?e.attr("fill",t):e.setAttribute("fill",t)},t}();t.exports=r},function(t,e,i){var n=i(1),r=function(){function t(t){this.type="clip";var e=document.createElementNS("http://www.w3.org/2000/svg","clipPath");this.el=e,this.id=n.uniqueId("clip_"),e.id=this.id;var i=t._cfg.el;return e.appendChild(i.cloneNode(!0)),this.cfg=t,this}var e=t.prototype;return e.match=function(){return!1},e.remove=function(){var t=this.el;t.parentNode.removeChild(t)},t}();t.exports=r},function(t,e,i){var n=i(1),r=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,a=function(){function t(t){function e(){console.log(l.width,l.height),i.setAttribute("width",l.width),i.setAttribute("height",l.height)}var i=document.createElementNS("http://www.w3.org/2000/svg","pattern");i.setAttribute("patternUnits","userSpaceOnUse");var a=document.createElementNS("http://www.w3.org/2000/svg","image");i.appendChild(a);var o=n.uniqueId("pattern_");i.id=o,this.el=i,this.id=o,this.cfg=t;var s=r.exec(t)[2];a.setAttribute("href",s);var l=new Image;return s.match(/^data:/i)||(l.crossOrigin="Anonymous"),l.src=s,l.complete?e():(l.onload=e,l.src=l.src),this}return t.prototype.match=function(t,e){return this.cfg===e},t}();t.exports=a},function(t,e){var i={svg:"svg",circle:"circle",rect:"rect",text:"text",path:"path",foreignObject:"foreignObject",polygon:"polygon",ellipse:"ellipse",image:"image"};t.exports=function(t,e,n){var r=n.target||n.srcElement;if(!i[r.tagName]){for(var a=r.parentNode;a&&!i[a.tagName];)a=a.parentNode;r=a}return this._cfg.el===r?this:this.find(function(t){return t._cfg&&t._cfg.el===r})}},function(t,e,i){t.exports={addEventListener:i(229),createDom:i(94),getBoundingClientRect:i(230),getHeight:i(231),getOuterHeight:i(232),getOuterWidth:i(233),getRatio:i(234),getStyle:i(235),getWidth:i(236),modifyCSS:i(95),requestAnimationFrame:i(96)}},function(t,e){t.exports=function(t,e,i){if(t){if(t.addEventListener)return t.addEventListener(e,i,!1),{remove:function(){t.removeEventListener(e,i,!1)}};if(t.attachEvent)return t.attachEvent("on"+e,i),{remove:function(){t.detachEvent("on"+e,i)}}}}},function(t,e){t.exports=function(t,e){if(t&&t.getBoundingClientRect){var i=t.getBoundingClientRect(),n=document.documentElement.clientTop,r=document.documentElement.clientLeft;return{top:i.top-n,bottom:i.bottom-n,left:i.left-r,right:i.right-r}}return e||null}},function(t,e){t.exports=function(t,e){var i=this.getStyle(t,"height",e);return"auto"===i&&(i=t.offsetHeight),parseFloat(i)}},function(t,e){t.exports=function(t,e){var i=this.getHeight(t,e),n=parseFloat(this.getStyle(t,"borderTopWidth"))||0,r=parseFloat(this.getStyle(t,"paddingTop"))||0,a=parseFloat(this.getStyle(t,"paddingBottom"))||0;return i+n+(parseFloat(this.getStyle(t,"borderBottomWidth"))||0)+r+a}},function(t,e){t.exports=function(t,e){var i=this.getWidth(t,e),n=parseFloat(this.getStyle(t,"borderLeftWidth"))||0,r=parseFloat(this.getStyle(t,"paddingLeft"))||0,a=parseFloat(this.getStyle(t,"paddingRight"))||0;return i+n+(parseFloat(this.getStyle(t,"borderRightWidth"))||0)+r+a}},function(t,e){t.exports=function(){return window.devicePixelRatio?window.devicePixelRatio:2}},function(t,e,i){var n=i(5);t.exports=function(t,e,i){try{return window.getComputedStyle?window.getComputedStyle(t,null)[e]:t.currentStyle[e]}catch(t){return n(i)?null:i}}},function(t,e){t.exports=function(t,e){var i=this.getStyle(t,"width",e);return"auto"===i&&(i=t.offsetWidth),parseFloat(i)}},function(t,e,i){t.exports={contains:i(41),difference:i(238),find:i(239),firstValue:i(240),flatten:i(241),flattenDeep:i(242),getRange:i(243),merge:i(42),pull:i(90),pullAt:i(130),reduce:i(244),remove:i(245),sortBy:i(246),union:i(247),uniq:i(131),valuesOfKey:i(64)}},function(t,e,i){var n=i(63),r=i(41);t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return n(t,function(t){return!r(e,t)})}},function(t,e,i){var n=i(11),r=i(26),a=i(128);t.exports=function(t,e){var i=void 0;if(n(e)&&(i=e),r(e)&&(i=function(t){return a(t,e)}),i)for(var o=0;o<t.length;o+=1)if(i(t[o]))return t[o];return null}},function(t,e,i){var n=i(5),r=i(4);t.exports=function(t,e){for(var i=null,a=0;a<t.length;a++){var o=t[a][e];if(!n(o)){i=r(o)?o[0]:o;break}}return i}},function(t,e,i){var n=i(4),r=i(2);t.exports=function(t){if(!n(t))return t;var e=[];return r(t,function(t){n(t)?r(t,function(t){e.push(t)}):e.push(t)}),e}},function(t,e,i){var n=i(4);t.exports=function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(n(e))for(var r=0;r<e.length;r+=1)t(e[r],i);else i.push(e);return i}},function(t,e,i){var n=i(63),r=i(4);t.exports=function(t){if(!(t=n(t,function(t){return!isNaN(t)})).length)return{min:0,max:0};if(r(t[0])){for(var e=[],i=0;i<t.length;i++)e=e.concat(t[i]);t=e}var a=Math.max.apply(null,t);return{min:Math.min.apply(null,t),max:a}}},function(t,e,i){var n=i(4),r=i(26),a=i(2);t.exports=function(t,e,i){if(!n(t)&&!r(t))return t;var o=i;return a(t,function(t,i){o=e(o,t,i)}),o}},function(t,e,i){var n=i(13),r=i(130);t.exports=function(t,e){var i=[];if(!n(t))return i;for(var a=-1,o=[],s=t.length;++a<s;){var l=t[a];e(l,a,t)&&(i.push(l),o.push(a))}return r(t,o),i}},function(t,e,i){var n=i(10),r=i(11),a=i(4);t.exports=function(t,e){var i=void 0;if(r(e))i=function(t,i){return e(t)-e(i)};else{var o=[];n(e)?o.push(e):a(e)&&(o=e),i=function(t,e){for(var i=0;i<o.length;i+=1){var n=o[i];if(t[n]>e[n])return 1;if(t[n]<e[n])return-1}return 0}}return t.sort(i),t}},function(t,e,i){var n=i(2),r=i(34),a=i(131);t.exports=function(){var t=[],e=r(arguments);return n(e,function(e){t=t.concat(e)}),a(t)}},function(t,e,i){t.exports={getWrapBehavior:i(249),wrapBehavior:i(250)}},function(t,e){t.exports=function(t,e){return t["_wrap_"+e]}},function(t,e){t.exports=function(t,e){if(t["_wrap_"+e])return t["_wrap_"+e];var i=function(i){t[e](i)};return t["_wrap_"+e]=i,i}},function(t,e,i){var n=i(252);t.exports={number2color:n,numberToColor:n,parsePath:i(253),parseRadius:i(254)}},function(t,e){var i={};t.exports=function(t){var e=i[t];if(!e){for(var n=t.toString(16),r=n.length;r<6;r++)n="0"+n;e="#"+n,i[t]=e}return e}},function(t,e,i){var n=i(4),r=i(10),a=i(2),o=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,s=/[^\s\,]+/gi;t.exports=function(t){return t=t||[],n(t)?t:r(t)?(t=t.match(o),a(t,function(e,i){if((e=e.match(s))[0].length>1){var n=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=n}a(e,function(t,i){isNaN(t)||(e[i]=+t)}),t[i]=e}),t):void 0}},function(t,e,i){var n=i(4);t.exports=function(t){var e=0,i=0,r=0,a=0;return n(t)?1===t.length?e=i=r=a=t[0]:2===t.length?(e=r=t[0],i=a=t[1]):3===t.length?(e=t[0],i=a=t[1],r=t[2]):(e=t[0],i=t[1],r=t[2],a=t[3]):e=i=r=a=t,{r1:e,r2:i,r3:r,r4:a}}},function(t,e,i){var n=i(35);t.exports={clamp:i(50),fixedBase:i(256),isDecimal:i(257),isEven:i(258),isInteger:i(259),isNegative:i(260),isNumberEqual:n,isOdd:i(261),isPositive:i(262),maxBy:i(132),minBy:i(263),mod:i(93),snapEqual:n,toDegree:i(92),toInt:i(133),toInteger:i(133),toRadian:i(91)}},function(t,e){t.exports=function(t,e){var i=e.toString(),n=i.indexOf(".");if(-1===n)return Math.round(t);var r=i.substr(n+1).length;return r>20&&(r=20),parseFloat(t.toFixed(r))}},function(t,e,i){var n=i(9);t.exports=function(t){return n(t)&&t%1!=0}},function(t,e,i){var n=i(9);t.exports=function(t){return n(t)&&t%2==0}},function(t,e,i){var n=i(9),r=Number.isInteger?Number.isInteger:function(t){return n(t)&&t%1==0};t.exports=r},function(t,e,i){var n=i(9);t.exports=function(t){return n(t)&&t<0}},function(t,e,i){var n=i(9);t.exports=function(t){return n(t)&&t%2!=0}},function(t,e,i){var n=i(9);t.exports=function(t){return n(t)&&t>0}},function(t,e,i){var n=i(4),r=i(11),a=i(2);t.exports=function(t,e){if(n(t)){var i=t[0],o=void 0;o=r(e)?e(t[0]):t[0][e];var s=void 0;return a(t,function(t){(s=r(e)?e(t):t[e])<o&&(i=t,o=s)}),i}}},function(t,e,i){t.exports={forIn:i(265),has:i(134),hasKey:i(266),hasValue:i(267),keys:i(129),isMatch:i(128),values:i(135)}},function(t,e,i){t.exports=i(2)},function(t,e,i){t.exports=i(134)},function(t,e,i){var n=i(41),r=i(135);t.exports=function(t,e){return n(r(t),e)}},function(t,e,i){var n=i(269),r=i(139),a=i(138),o=i(141);t.exports={catmullRom2Bezier:o,catmullRomToBezier:o,fillPath:i(270),fillPathByDiff:i(271),formatPath:i(273),intersection:n,pathIntersection:n,parsePathArray:i(137),parsePathString:i(140),pathToAbsolute:r,path2absolute:r,pathTocurve:a,path2curve:a,rectPath:i(136)}},function(t,e,i){var n=i(4),r=i(136),a=i(138),o=function(t,e,i,n,r){return t*(t*(-3*e+9*i-9*n+3*r)+6*e-12*i+6*n)-3*e+3*i},s=function(t,e,i,n,r,a,s,l,u){null===u&&(u=1);for(var c=(u=u>1?1:u<0?0:u)/2,h=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],g=0,p=0;p<12;p++){var d=c*h[p]+c,v=o(d,t,i,r,s),m=o(d,e,n,a,l),y=v*v+m*m;g+=f[p]*Math.sqrt(y)}return c*g},l=function(t,e,i,n,r,a,o,s){if(!(Math.max(t,i)<Math.min(r,o)||Math.min(t,i)>Math.max(r,o)||Math.max(e,n)<Math.min(a,s)||Math.min(e,n)>Math.max(a,s))){var l=(t-i)*(a-s)-(e-n)*(r-o);if(l){var u=((t*n-e*i)*(r-o)-(t-i)*(r*s-a*o))/l,c=((t*n-e*i)*(a-s)-(e-n)*(r*s-a*o))/l,h=+u.toFixed(2),f=+c.toFixed(2);if(!(h<+Math.min(t,i).toFixed(2)||h>+Math.max(t,i).toFixed(2)||h<+Math.min(r,o).toFixed(2)||h>+Math.max(r,o).toFixed(2)||f<+Math.min(e,n).toFixed(2)||f>+Math.max(e,n).toFixed(2)||f<+Math.min(a,s).toFixed(2)||f>+Math.max(a,s).toFixed(2)))return{x:u,y:c}}}},u=function(t,e,i){return e>=t.x&&e<=t.x+t.width&&i>=t.y&&i<=t.y+t.height},c=function(t,e,i,n){return null===t&&(t=e=i=n=0),null===e&&(e=t.y,i=t.width,n=t.height,t=t.x),{x:t,y:e,width:i,w:i,height:n,h:n,x2:t+i,y2:e+n,cx:t+i/2,cy:e+n/2,r1:Math.min(i,n)/2,r2:Math.max(i,n)/2,r0:Math.sqrt(i*i+n*n)/2,path:r(t,e,i,n),vb:[t,e,i,n].join(" ")}},h=function(t,e,i,r,a,o,s,l){n(t)||(t=[t,e,i,r,a,o,s,l]);var u=function(t,e,i,n,r,a,o,s){for(var l=[],u=[[],[]],c=void 0,h=void 0,f=void 0,g=void 0,p=0;p<2;++p)if(0===p?(h=6*t-12*i+6*r,c=-3*t+9*i-9*r+3*o,f=3*i-3*t):(h=6*e-12*n+6*a,c=-3*e+9*n-9*a+3*s,f=3*n-3*e),Math.abs(c)<1e-12){if(Math.abs(h)<1e-12)continue;(g=-f/h)>0&&g<1&&l.push(g)}else{var d=h*h-4*f*c,v=Math.sqrt(d);if(!(d<0)){var m=(-h+v)/(2*c);m>0&&m<1&&l.push(m);var y=(-h-v)/(2*c);y>0&&y<1&&l.push(y)}}for(var x=l.length,b=x,_=void 0;x--;)_=1-(g=l[x]),u[0][x]=_*_*_*t+3*_*_*g*i+3*_*g*g*r+g*g*g*o,u[1][x]=_*_*_*e+3*_*_*g*n+3*_*g*g*a+g*g*g*s;return u[0][b]=t,u[1][b]=e,u[0][b+1]=o,u[1][b+1]=s,u[0].length=u[1].length=b+2,{min:{x:Math.min.apply(0,u[0]),y:Math.min.apply(0,u[1])},max:{x:Math.max.apply(0,u[0]),y:Math.max.apply(0,u[1])}}}.apply(null,t);return c(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)},f=function(t,e,i,n,r,a,o,s,l){var u=1-l,c=Math.pow(u,3),h=Math.pow(u,2),f=l*l,g=f*l,p=t+2*l*(i-t)+f*(r-2*i+t),d=e+2*l*(n-e)+f*(a-2*n+e),v=i+2*l*(r-i)+f*(o-2*r+i),m=n+2*l*(a-n)+f*(s-2*a+n);return{x:c*t+3*h*l*i+3*u*l*l*r+g*o,y:c*e+3*h*l*n+3*u*l*l*a+g*s,m:{x:p,y:d},n:{x:v,y:m},start:{x:u*t+l*i,y:u*e+l*n},end:{x:u*r+l*o,y:u*a+l*s},alpha:90-180*Math.atan2(p-v,d-m)/Math.PI}},g=function(t,e,i){if(!function(t,e){return t=c(t),e=c(e),u(e,t.x,t.y)||u(e,t.x2,t.y)||u(e,t.x,t.y2)||u(e,t.x2,t.y2)||u(t,e.x,e.y)||u(t,e.x2,e.y)||u(t,e.x,e.y2)||u(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}(h(t),h(e)))return i?0:[];for(var n=~~(s.apply(0,t)/8),r=~~(s.apply(0,e)/8),a=[],o=[],g={},p=i?0:[],d=0;d<n+1;d++){var v=f.apply(0,t.concat(d/n));a.push({x:v.x,y:v.y,t:d/n})}for(var m=0;m<r+1;m++){var y=f.apply(0,e.concat(m/r));o.push({x:y.x,y:y.y,t:m/r})}for(var x=0;x<n;x++)for(var b=0;b<r;b++){var _=a[x],M=a[x+1],S=o[b],w=o[b+1],k=Math.abs(M.x-_.x)<.001?"y":"x",C=Math.abs(w.x-S.x)<.001?"y":"x",A=l(_.x,_.y,M.x,M.y,S.x,S.y,w.x,w.y);if(A){if(g[A.x.toFixed(4)]===A.y.toFixed(4))continue;g[A.x.toFixed(4)]=A.y.toFixed(4);var T=_.t+Math.abs((A[k]-_[k])/(M[k]-_[k]))*(M.t-_.t),P=S.t+Math.abs((A[C]-S[C])/(w[C]-S[C]))*(w.t-S.t);T>=0&&T<=1&&P>=0&&P<=1&&(i?p++:p.push({x:A.x,y:A.y,t1:T,t2:P}))}}return p};t.exports=function(t,e){return function(t,e,i){t=a(t),e=a(e);for(var n=void 0,r=void 0,o=void 0,s=void 0,l=void 0,u=void 0,c=void 0,h=void 0,f=void 0,p=void 0,d=i?0:[],v=0,m=t.length;v<m;v++){var y=t[v];if("M"===y[0])n=l=y[1],r=u=y[2];else{"C"===y[0]?(n=(f=[n,r].concat(y.slice(1)))[6],r=f[7]):(f=[n,r,n,r,l,u,l,u],n=l,r=u);for(var x=0,b=e.length;x<b;x++){var _=e[x];if("M"===_[0])o=c=_[1],s=h=_[2];else{"C"===_[0]?(o=(p=[o,s].concat(_.slice(1)))[6],s=p[7]):(p=[o,s,o,s,c,h,c,h],o=c,s=h);var M=g(f,p,i);if(i)d+=M;else{for(var S=0,w=M.length;S<w;S++)M[S].segment1=v,M[S].segment2=x,M[S].bez1=f,M[S].bez2=p;d=d.concat(M)}}}}}return d}(t,e)}},function(t,e){function i(t,e){function i(t,e){if(1===t.length)n.push(t[0]),r.push(t[0]);else{for(var a=[],o=0;o<t.length-1;o++)0===o&&n.push(t[0]),o===t.length-2&&r.push(t[o+1]),a[o]=[(1-e)*t[o][0]+e*t[o+1][0],(1-e)*t[o][1]+e*t[o+1][1]];i(a,e)}}var n=[],r=[];return t.length&&i(t,e),{left:n,right:r.reverse()}}function n(t,e,n){if(1===n)return[[].concat(t)];var r=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])r=r.concat(function(t,e,n){var r=[[t[1],t[2]]];n=n||2;var a=[];"A"===e[0]?(r.push(e[6]),r.push(e[7])):"C"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]]),r.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]])):r.push([e[1],e[2]]);for(var o=r,s=1/n,l=0;l<n-1;l++){var u=i(o,s/(1-s*l));a.push(u.left),o=u.right}return a.push(o),a.map(function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e=e.concat(t[t.length-1])})}(t,e,n));else{var a=[].concat(t);"M"===a[0]&&(a[0]="L");for(var o=0;o<=n-1;o++)r.push(a)}return r}t.exports=function(t,e){if(1===t.length)return t;var i=t.length-1,r=e.length-1,a=i/r,o=[];if(1===t.length&&"M"===t[0][0]){for(var s=0;s<r-i;s++)t.push(t[0]);return t}for(var l=0;l<r;l++){var u=Math.floor(a*l);o[u]=(o[u]||0)+1}var c=o.reduce(function(e,r,a){return a===i?e.concat(t[i]):e.concat(n(t[a],t[a+1],r))},[]);return c.unshift(t[0]),"Z"!==e[r]&&"z"!==e[r]||c.push("Z"),c}},function(t,e,i){function n(t,e,i){var n=null,r=i;return e<r&&(r=e,n="add"),t<r&&(r=t,n="del"),{type:n,min:r}}var r=i(272);t.exports=function(t,e){var i=function(t,e){var i=t.length,a=e.length,o=void 0,s=void 0,l=0;if(0===i||0===a)return null;for(var u=[],c=0;c<=i;c++)u[c]=[],u[c][0]={min:c};for(var h=0;h<=a;h++)u[0][h]={min:h};for(var f=1;f<=i;f++){o=t[f-1];for(var g=1;g<=a;g++){s=e[g-1],l=r(o,s)?0:1;var p=u[f-1][g].min+1,d=u[f][g-1].min+1,v=u[f-1][g-1].min+l;u[f][g]=n(p,d,v)}}return u}(t,e),a=t.length,o=e.length,s=[],l=1,u=1;if(i[a][o]!==a){for(var c=1;c<=a;c++){var h=i[c][c].min;u=c;for(var f=l;f<=o;f++)i[c][f].min<h&&(h=i[c][f].min,u=f);l=u,i[c][l].type&&s.push({index:c-1,type:i[c][l].type})}for(var g=s.length-1;g>=0;g--)l=s[g].index,"add"===s[g].type?t.splice(l,0,[].concat(t[l])):t.splice(l,1)}if((a=t.length)<o)for(var p=0;p<o-a;p++)"z"===t[a-1][0]||"Z"===t[a-1][0]?t.splice(a-2,0,t[a-2]):t.push(t[a-1]);return t}},function(t,e,i){var n=i(2);t.exports=function(t,e){if(t.length!==e.length)return!1;var i=!0;return n(t,function(t,n){if(t!==e[n])return i=!1,!1}),i}},function(t,e){function i(t){var e=[];switch(t[0]){case"M":case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}function n(t,e,n){for(var r=[].concat(t),a=void 0,o=1/(n+1),s=i(e)[0],l=1;l<=n;l++)o*=l,0===(a=Math.floor(t.length*o))?r.unshift([s[0]*o+t[a][0]*(1-o),s[1]*o+t[a][1]*(1-o)]):r.splice(a,0,[s[0]*o+t[a][0]*(1-o),s[1]*o+t[a][1]*(1-o)]);return r}t.exports=function(t,e){if(t.length<=1)return t;for(var r=void 0,a=0;a<e.length;a++)if(t[a][0]!==e[a][0])switch(r=i(t[a]),e[a][0]){case"M":t[a]=["M"].concat(r[0]);break;case"L":t[a]=["L"].concat(r[0]);break;case"A":t[a]=[].concat(e[a]),t[a][6]=r[0][0],t[a][7]=r[0][1];break;case"Q":if(r.length<2){if(!(a>0)){t[a]=e[a];break}r=n(r,t[a-1],1)}t[a]=["Q"].concat(r.reduce(function(t,e){return t.concat(e)},[]));break;case"T":t[a]=["T"].concat(r[0]);break;case"C":if(r.length<3){if(!(a>0)){t[a]=e[a];break}r=n(r,t[a-1],2)}t[a]=["C"].concat(r.reduce(function(t,e){return t.concat(e)},[]));break;case"S":if(r.length<2){if(!(a>0)){t[a]=e[a];break}r=n(r,t[a-1],1)}t[a]=["S"].concat(r.reduce(function(t,e){return t.concat(e)},[]));break;default:t[a]=e[a]}return t}},function(t,e,i){var n={lc:i(275),lowerCase:i(142),lowerFirst:i(75),substitute:i(276),uc:i(277),upperCase:i(143),upperFirst:i(87)};t.exports=n},function(t,e,i){t.exports=i(142)},function(t,e){t.exports=function(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,function(t,i){return"\\"===t.charAt(0)?t.slice(1):void 0===e[i]?"":e[i]}):t}},function(t,e,i){t.exports=i(143)},function(t,e,i){var n=i(12),r={getType:i(84),isArray:i(4),isArrayLike:i(13),isBoolean:i(82),isFunction:i(11),isNil:i(5),isNull:i(279),isNumber:i(9),isObject:i(24),isObjectLike:i(48),isPlainObject:i(26),isPrototype:i(85),isType:n,isUndefined:i(280),isString:i(10),isRegExp:i(281),isDate:i(80),isArguments:i(282),isError:i(283)};t.exports=r},function(t,e){t.exports=function(t){return null===t}},function(t,e){t.exports=function(t){return void 0===t}},function(t,e,i){var n=i(12);t.exports=function(t){return n(t,"RegExp")}},function(t,e,i){var n=i(12);t.exports=function(t){return n(t,"Arguments")}},function(t,e,i){var n=i(12);t.exports=function(t){return n(t,"Error")}},function(t,e){t.exports=function(t,e,i){var n=void 0;return function(){var r=this,a=arguments,o=i&&!n;clearTimeout(n),n=setTimeout(function(){n=null,i||t.apply(r,a)},e),o&&t.apply(r,a)}}},function(t,e,i){var n=i(13);t.exports=function(t,e){if(!n(t))return-1;var i=Array.prototype.indexOf;if(i)return i.call(t,e);for(var r=-1,a=0;a<t.length;a++)if(t[a]===e){r=a;break}return r}},function(t,e,i){var n=i(11),r=i(49);t.exports=function(t,e,i){return n(i)?!!i(t,e):r(t,e)}},function(t,e,i){var n=i(2),r=i(13);t.exports=function(t,e){if(!r(t))return t;var i=[];return n(t,function(t,n){i.push(e(t,n))}),i}},function(t,e,i){var n=i(2),r=i(26),a=Object.prototype.hasOwnProperty;t.exports=function(t,e){if(null===t||!r(t))return{};var i={};return n(e,function(e){a.call(t,e)&&(i[e]=t[e])}),i}},function(t,e){t.exports=function(t,e,i){var n=void 0,r=void 0,a=void 0,o=void 0,s=0;i||(i={});var l=function(){s=!1===i.leading?0:Date.now(),n=null,o=t.apply(r,a),n||(r=a=null)},u=function(){var u=Date.now();s||!1!==i.leading||(s=u);var c=e-(u-s);return r=this,a=arguments,c<=0||c>e?(n&&(clearTimeout(n),n=null),s=u,o=t.apply(r,a),n||(r=a=null)):n||!1===i.trailing||(n=setTimeout(l,c)),o};return u.cancel=function(){clearTimeout(n),s=0,n=r=a=null},u}},function(t,e,i){function n(t,e){var i,n,r=function(t){if(f.isEmpty(t))return null;var e=t[0].x,i=t[0].x,n=t[0].y,r=t[0].y;return f.each(t,function(t){e=e>t.x?t.x:e,i=i<t.x?t.x:i,n=n>t.y?t.y:n,r=r<t.y?t.y:r}),{minX:e,maxX:i,minY:n,maxY:r,centerX:(e+i)/2,centerY:(n+r)/2}}(t.points||t.get("origin").points),a=e.startAngle,o=e.endAngle-a;return e.isTransposed?(i=r.maxY*o,n=r.minY*o):(i=r.maxX*o,n=r.minX*o),i+=a,n+=a,{startAngle:n,endAngle:i}}function r(t,e,i){var n={};return t.delay&&(n.delay=f.isFunction(t.delay)?t.delay(e,i):t.delay),n.easing=f.isFunction(t.easing)?t.easing(e,i):t.easing,n.duration=f.isFunction(t.duration)?t.duration(e,i):t.duration,n.callback=t.callback,n}function a(t,e){var i,n=t._id,a=t.get("index"),o=t.getBBox(),s=t.get("origin").points,l=(o.minX+o.maxX)/2,u=[l,i=s[0].y-s[1].y<=0?o.maxY:o.minY,1];t.apply(u),t.attr("transform",[["t",-l,-i],["s",1,.01],["t",l,i]]);var c={transform:[["t",-l,-i],["s",1,100],["t",l,i]]},h=r(e,a,n);t.animate(c,h.duration,h.easing,h.callback,h.delay)}function o(t,e){var i,n=t._id,a=t.get("index"),o=t.getBBox(),s=t.get("origin").points,l=(o.minY+o.maxY)/2,u=[i=s[0].y-s[1].y>0?o.maxX:o.minX,l,1];t.apply(u),t.attr({transform:[["t",-i,-l],["s",.01,1],["t",i,l]]});var c={transform:[["t",-i,-l],["s",100,1],["t",i,l]]},h=r(e,a,n);t.animate(c,h.duration,h.easing,h.callback,h.delay)}function s(t,e,i){var n,a,o=t._id,s=t.get("index");if(i.isPolar&&"point"!==t.name)n=i.getCenter().x,a=i.getCenter().y;else{var l=t.getBBox();n=(l.minX+l.maxX)/2,a=(l.minY+l.maxY)/2}var u=[n,a,1];t.apply(u),t.attr({transform:[["t",-n,-a],["s",.01,.01],["t",n,a]]});var c={transform:[["t",-n,-a],["s",100,100],["t",n,a]]},h=r(e,s,o);t.animate(c,h.duration,h.easing,h.callback,h.delay)}function l(t,e){if("path"===t.get("type")){var i=t._id,n=t.get("index"),a=p.pathToAbsolute(t.attr("path"));t.attr("path",[a[0]]);var o={path:a},s=r(e,n,i);t.animate(o,s.duration,s.easing,s.callback,s.delay)}}function u(t,e,i,n,a){var o,s=function(t){var e,i,n,r,a,o=t.start,s=t.end,l=t.getWidth(),u=t.getHeight();return t.isPolar?(r=t.getRadius(),n=t.getCenter(),e=t.startAngle,i=t.endAngle,(a=new g.Fan({attrs:{x:n.x,y:n.y,rs:0,re:r+200,startAngle:e,endAngle:e}})).endState={endAngle:i}):(a=new g.Rect({attrs:{x:o.x-200,y:s.y-200,width:t.isTransposed?l+400:0,height:t.isTransposed?0:u+400}}),t.isTransposed?a.endState={height:u+400}:a.endState={width:l+400}),a.isClip=!0,a}(i),l=t.get("canvas"),u=t._id,c=t.get("index");n?(s.attr("startAngle",n),s.attr("endAngle",n),o={endAngle:a}):o=s.endState,s.set("canvas",l),t.attr("clip",s),t.setSilent("animating",!0);var h=r(e,c,u);s.animate(o,h.duration,h.easing,function(){t&&!t.get("destroyed")&&(t.attr("clip",null),t.setSilent("cacheShape",null),t.setSilent("animating",!1),s.remove())},h.delay)}function c(t,e){var i=t._id,n=t.get("index"),a=f.isNil(t.attr("fillOpacity"))?1:t.attr("fillOpacity"),o=f.isNil(t.attr("strokeOpacity"))?1:t.attr("strokeOpacity");t.attr("fillOpacity",0),t.attr("strokeOpacity",0);var s={fillOpacity:a,strokeOpacity:o},l=r(e,n,i);t.animate(s,l.duration,l.easing,l.callback,l.delay)}function h(t,e,i){var r=n(t,i),a=r.endAngle;u(t,e,i,r.startAngle,a)}var f=i(0),g=i(16),p=f.PathUtil;t.exports={enter:{clipIn:u,zoomIn:s,pathIn:l,scaleInY:a,scaleInX:o,fanIn:h,fadeIn:c},leave:{lineWidthOut:function(t,e){var i={lineWidth:0,opacity:0},n=t._id,a=r(e,t.get("index"),n);t.animate(i,a.duration,a.easing,function(){t.remove()},a.delay)},zoomOut:function(t,e,i){var n,a,o=t._id,s=t.get("index");if(i.isPolar&&"point"!==t.name)n=i.getCenter().x,a=i.getCenter().y;else{var l=t.getBBox();n=(l.minX+l.maxX)/2,a=(l.minY+l.maxY)/2}var u=[n,a,1];t.apply(u);var c={transform:[["t",-n,-a],["s",.01,.01],["t",n,a]]},h=r(e,s,o);t.animate(c,h.duration,h.easing,function(){t.remove()},h.delay)},pathOut:function(t,e){if("path"===t.get("type")){var i=t._id,n=t.get("index"),a={path:[p.pathToAbsolute(t.attr("path"))[0]]},o=r(e,n,i);t.animate(a,o.duration,o.easing,function(){t.remove()},o.delay)}},fadeOut:function(t,e){var i=t._id,n={fillOpacity:0,strokeOpacity:0},a=r(e,t.get("index"),i);t.animate(n,a.duration,a.easing,function(){t.remove()},a.delay)}},appear:{clipIn:u,zoomIn:s,pathIn:l,scaleInY:a,scaleInX:o,fanIn:h,fadeIn:c},update:{fadeIn:c,fanIn:h}}},function(t,e,i){function n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r(t,e,i){var n=(t-e)/(i-e);return n>=0&&n<=1}function a(t,e){var i=!1;if(t){if("theta"===t.type){var n=t.start,a=t.end;i=r(e.x,n.x,a.x)&&r(e.y,n.y,a.y)}else{var o=t.invert(e);i=o.x>=0&&o.y>=0&&o.x<=1&&o.y<=1}}return i}var o=i(148),s=i(20),l=i(0),u=i(165),c=i(7),h=i(151),f=i(355),g={};l.each(s,function(t,e){var i=l.lowerFirst(e);g[i]=function(e){var i=new t(e);return this.addGeom(i),i}});var p=function(t){function e(e){var i,r=n(n(i=t.call(this,e)||this));return r._setTheme(),l.each(s,function(t,e){var i=l.lowerFirst(e);r[i]=function(e){void 0===e&&(e={}),e.viewTheme=r.get("viewTheme");var i=new t(e);return r.addGeom(i),i}}),r.init(),i}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){return{viewContainer:null,coord:null,start:{x:0,y:0},end:{x:1,y:1},geoms:[],scales:{},options:{},scaleController:null,padding:0,theme:null,parent:null,tooltipEnable:!0,animate:c.animate,visible:!0}},i._setTheme=function(){var t=this.get("theme"),e={},i={};l.isObject(t)?i=t:-1!==l.indexOf(Object.keys(h),t)&&(i=h[t]),l.deepMix(e,c,i),this.set("viewTheme",e)},i.init=function(){this._initViewPlot(),this.get("data")&&this._initData(this.get("data")),this._initOptions(),this._initControllers(),this._bindEvents()},i._initOptions=function(){var t=this,e=l.mix({},t.get("options"));e.scales||(e.scales={}),e.coord||(e.coord={}),!1===e.animate&&this.set("animate",!1),(!1===e.tooltip||l.isNull(e.tooltip))&&this.set("tooltipEnable",!1),e.geoms&&e.geoms.length&&l.each(e.geoms,function(e){t._createGeom(e)});var i=t.get("scaleController");i&&(i.defs=e.scales);var n=t.get("coordController");n&&n.reset(e.coord),this.set("options",e)},i._createGeom=function(t){var e,i=t.type;this[i]&&(e=this[i](),l.each(t,function(t,i){if(e[i])if(l.isObject(t)&&t.field)if("label"===t)e[i](t.field,t.callback,t.cfg);else{var n;l.each(t,function(t,e){"field"!==e&&(n=t)}),e[i](t.field,n)}else e[i](t)}))},i._initControllers=function(){var t=this.get("options"),e=this.get("viewTheme"),i=this.get("canvas"),n=new u.Scale({viewTheme:e,defs:t.scales}),r=new u.Coord(t.coord);this.set("scaleController",n),this.set("coordController",r);var a=new u.Axis({canvas:i,viewTheme:e});this.set("axisController",a);var o=new u.Guide({viewTheme:e,options:t.guides||[]});this.set("guideController",o)},i._initViewPlot=function(){this.get("viewContainer")||this.set("viewContainer",this.get("middlePlot"))},i._initGeoms=function(){for(var t=this.get("geoms"),e=this.get("filteredData"),i=this.get("coord"),n=this.get("_id"),r=0;r<t.length;r++){var a=t[r];a.set("data",e),a.set("coord",i),a.set("_id",n+"-geom"+r),a.set("keyFields",this.get("keyFields")),a.init()}},i._clearGeoms=function(){for(var t=this.get("geoms"),e=0;e<t.length;e++){t[e].clear()}},i._removeGeoms=function(){for(var t=this.get("geoms");t.length>0;){t.shift().destroy()}},i._drawGeoms=function(){this.emit("beforedrawgeoms");for(var t=this.get("geoms"),e=this.get("coord"),i=0;i<t.length;i++){var n=t[i];n.setCoord(e),n.paint()}this.emit("afterdrawgeoms")},i.isShapeInView=function(t){var e=this.get("_id"),i=t._id;if(i)return i.split("-")[0]===e;for(var n=t;n;){if(n.get("viewId")===e)return!0;n=n.get("parent")}return!1},i.getViewRegion=function(){var t,e,i=this.get("parent");if(i){var n=i.getViewRegion(),r=this._getViewRegion(n.start,n.end);t=r.start,e=r.end}else t=this.get("start"),e=this.get("end");return{start:t,end:e}},i._getViewRegion=function(t,e){var i=this.get("start"),n=this.get("end"),r=i.x,a=1-n.y,o=n.x,s=1-i.y,u=this.get("padding"),c=l.toAllPadding(u),h=c[0],f=c[1],g=c[2],p=c[3];return{start:{x:r*(e.x-t.x)+t.x+p,y:a*(e.y-t.y)+t.y-g},end:{x:o*(e.x-t.x)+t.x-f,y:s*(e.y-t.y)+t.y+h}}},i._createCoord=function(){var t=this.get("coordController"),e=this.getViewRegion(),i=t.createCoord(e.start,e.end);this.set("coord",i)},i._renderAxes=function(){var t=this.get("options").axes;if(!1!==t){var e=this.get("axisController");e.container=this.get("backPlot"),e.coord=this.get("coord"),e.options=t||{};var i=this.getXScale(),n=this.getYScales(),r=this.get("_id");e.createAxis(i,n,r)}},i._renderGuides=function(){var t=this.get("guideController");if(!l.isEmpty(t.options)){var e=this.get("coord");t.view=this,t.backContainer=this.get("backPlot"),t.frontContainer=this.get("frontPlot"),t.xScales=this._getScales("x"),t.yScales=this._getScales("y"),t.render(e)}},i._bindEvents=function(){var t=new u.Event({view:this,canvas:this.get("canvas")});t.bindEvents(),this.set("eventController",t)},i._clearEvents=function(){var t=this.get("eventController");t&&t.clearEvents()},i._getScales=function(t){for(var e=this.get("geoms"),i={},n=0;n<e.length;n++){var r=e[n],a="x"===t?r.getXScale():r.getYScale();a&&!i[a.field]&&(i[a.field]=a)}return i},i._adjustScale=function(){this._setCatScalesRange();for(var t=this.get("geoms"),e=this.get("scaleController").defs,i=0;i<t.length;i++){var n=t[i];if("interval"===n.get("type")){var r=n.getYScale(),a=r.field,o=r.min,s=r.max,l=r.type;e[a]&&e[a].min||"time"===l||(o>0?r.change({min:0}):s<=0&&r.change({max:0}))}}},i._setCatScalesRange=function(){var t=this.get("coord"),e=this.get("viewTheme"),i=this.getXScale(),n=this.getYScales(),r=[];i&&r.push(i),r=r.concat(n);var a=t.isPolar&&function(t){var e=t.startAngle,i=t.endAngle;return!(!l.isNil(e)&&!l.isNil(i)&&i-e<2*Math.PI)}(t),o=this.get("scaleController").defs;l.each(r,function(i){if((i.isCategory||i.isIdentity)&&i.values&&(!o[i.field]||!o[i.field].range)){var n,r=i.values.length;if(1===r)n=[.5,1];else{var s=0;n=a?t.isTransposed?[(s=1/r*e.widthRatio.multiplePie)/2,1-s/2]:[0,1-1/r]:[s=1/r*1/2,1-s]}i.range=n}})},i.getXScale=function(){var t=this.get("geoms"),e=null;return l.isEmpty(t)||(e=t[0].getXScale()),e},i.getYScales=function(){for(var t=this.get("geoms"),e=[],i=0;i<t.length;i++){var n=t[i].getYScale();n&&-1===l.indexOf(e,n)&&e.push(n)}return e},i.getXY=function(t){var e,i,n=this.get("coord"),r=this._getScales("x"),a=this._getScales("y");for(var o in t)r[o]&&(e=r[o].scale(t[o])),a[o]&&(i=a[o].scale(t[o]));return l.isNil(e)||l.isNil(i)?null:n.convert({x:e,y:i})},i.getSnapRecords=function(t){var e=this.get("geoms"),i=[];return l.each(e,function(e){var n,r=e.get("dataArray");l.each(r,function(r){(n=e.findPoint(t,r))&&i.push(n)})}),i},i.addGeom=function(t){this.get("geoms").push(t),t.set("view",this);var e=this.get("viewContainer");t.set("container",e),t.set("animate",this.get("animate")),t.bindEvents()},i.removeGeom=function(t){var e=this.get("geoms");l.Array.remove(e,t),t.destroy()},i.createScale=function(t,e){var i=this.get("scales"),n=this.get("parent"),r=i[t];if(!e){var a=this.get("filteredData"),o=this._getFieldsForLegend();e=a.length&&-1===o.indexOf(t)?a:this.get("data")}var s=this.get("scaleController");if(r){if(r.sync){var l=s.createScale(t,e);this._syncScale(r,l)}}else{if((r=s.createScale(t,e)).sync&&n){var u=n.createScale(t,e);r=this._getSyncScale(u,r)}i[t]=r}return r},i._getFieldsForLegend=function(){var t=[],e=this.get("geoms");return l.each(e,function(e){var i=e.getFieldsForLegend();t=t.concat(i)}),l.uniq(t)},i._getSyncScale=function(t,e){return t.type!==e.type?e:(this._syncScale(t,e),t)},i._syncScale=function(t,e){var i=l.union(t.values,e.values);if(e.isLinear){var n=Math.max(t.max,e.max),r=Math.min(t.min,e.min);t.max===n&&t.min===r||t.change({min:r,max:n,values:i})}i.length!==t.values.length&&t.change({values:i})},i.getFilteredValues=function(t){var e=this.get("scales")[t].values,i=this._getFilters();return i&&i[t]?e.filter(i[t]):e.slice(0)},i.getFilteredOutValues=function(t){var e=this.get("scales")[t].values,i=this._getFilters();return i&&i[t]?e.filter(function(e){return!i[t](e)}):[]},i.filter=function(t,e){var i=this.get("options");i.filters||(i.filters={}),i.filters[t]=e,this.get("scaleController").filters=i.filters},i._getFilters=function(){return this.get("options").filters},i.execFilter=function(t){var e=this._getFilters();return e&&(t=t.filter(function(t){var i=!0;return l.each(e,function(e,n){if(e&&!(i=e(t[n],t)))return!1}),i})),t},i.axis=function(t,e){var i=this.get("options");if(!1===t)i.axes=!1;else{i.axes||(i.axes={});i.axes[t]=e}return this},i.guide=function(){return this.get("guideController")},i._getKeyFields=function(t){var e=[];l.each(t,function(t,i){t.key&&e.push(i)}),this.set("keyFields",e)},i.scale=function(t,e){var i=this.get("options").scales;return l.isObject(t)?l.mix(i,t):i[t]=e,this._getKeyFields(i),this},i.tooltip=function(t){return this.set("tooltipEnable",t),this},i.animate=function(t){return this.get("options").animate=t,this.set("animate",t),this},i.changeOptions=function(t){return this.set("options",t),this._initOptions(t),this},i.getViewsByPoint=function(t){var e=[],i=this.get("views");return a(this.get("coord"),t)&&e.push(this),l.each(i,function(i){i.get("visible")&&a(i.get("coord"),t)&&e.push(i)}),e},i.eachShape=function(t){var e=this,i=e.get("views"),n=e.get("canvas");l.each(i,function(e){e.eachShape(t)});var r=this.get("geoms");return l.each(r,function(i){var n=i.getShapes();l.each(n,function(n){var r=n.get("origin");if(l.isArray(r)){var a=r.map(function(t){return t._origin});t(a,n,i,e)}else{var o=r._origin;t(o,n,i,e)}})}),n.draw(),this},i.filterShape=function(t){return this.eachShape(function(e,i,n,r){t(e,i,n,r)?i.show():i.hide()}),this},i.clearInner=function(){this.set("scales",{}),this.emit("beforeclearinner");this.get("options").geoms=null,this._clearGeoms(),this.get("guideController")&&this.get("guideController").reset(),this.get("axisController")&&this.get("axisController").clear(),this.emit("afterclearinner")},i.clear=function(){return this.get("options").filters=null,this._removeGeoms(),this.clearInner(),this.get("guideController")&&this.get("guideController").clear(),this.set("isUpdate",!1),this.set("keyFields",[]),this},i.coord=function(t,e){var i=this.get("coordController");return i.reset({type:t,cfg:e}),i},i.resetCoord=function(){this._createCoord()},i.source=function(t,e){return this._initData(t),e&&this.scale(e),this.emit("setdata"),this},i.changeData=function(t){return this.emit("beforechangedata"),this._initData(t),this.emit("afterchangedata"),this.repaint(),this},i._initData=function(t){var e=this.get("dataView");e&&(e.off("change",l.getWrapBehavior(this,"_onViewChange")),this.set("dataView",null)),t&&t.isDataView&&(t.on("change",l.wrapBehavior(this,"_onViewChange")),this.set("dataView",t),t=t.rows),this.set("data",t)},i._onViewChange=function(){this.emit("beforechangedata");var t=this.get("dataView").rows;this.set("data",t),this.emit("afterchangedata"),this.repaint()},i.beforeRender=function(){var t=this.get("views");l.each(t,function(t){t.beforeRender()}),this.initView()},i.drawComponents=function(){var t=this.get("views");l.each(t,function(t){t.drawComponents()}),this._renderAxes(),this._renderGuides()},i.drawCanvas=function(t){if(!t){var e=this.get("views");this.get("backPlot").sort();var i=this.get("canvas");if(this.get("animate")){var n=this.get("isUpdate");l.each(e,function(t){f.execAnimation(t,n)}),f.execAnimation(this,n)}else i.draw()}},i.render=function(t){return this.clearInner(),this.emit("beforerender"),this.beforeRender(),this.emit("beforepaint"),this.drawComponents(),this.paint(),this.emit("afterpaint"),this.drawCanvas(t),this.emit("afterrender"),this.set("rendered",!0),this},i.initView=function(){var t=this.get("data")||[],e=this.execFilter(t);this.set("filteredData",e),this._createCoord(),this.emit("beforeinitgeoms"),this._initGeoms(),this._adjustScale()},i.paint=function(){var t=this.get("views");l.each(t,function(t){t.paint()});var e=this.get("data");l.isEmpty(e)||this._drawGeoms(),this.get("visible")||this.changeVisible(!1,!0)},i.changeVisible=function(t,e){var i=this.get("geoms");if(l.each(i,function(e){e.changeVisible(t,!0)}),this.get("axisController")&&this.get("axisController").changeVisible(t),this.get("guideController")&&this.get("guideController").changeVisible(t),!e){this.get("canvas").draw()}},i.repaint=function(){this.set("isUpdate",!0),this.clearInner(),this.render()},i.destroy=function(){this._clearEvents();var e=this.get("dataView");e&&e.off("change",l.getWrapBehavior(this,"_onViewChange")),this.clear(),t.prototype.destroy.call(this)},e}(o);t.exports=p},function(t,e,i){var n=i(5),r=i(4),a=i(2),o=function(t){function e(e){var i;return i=t.call(this,e)||this,i.names=["x","y"],i.type="position",i}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);return e.prototype.mapping=function(t,e){var i,o,s,l=this.scales,u=this.coord,c=l[0],h=l[1];if(n(t)||n(e))return[];if(r(e)&&r(t)){i=[],o=[];for(var f=0,g=0,p=t.length,d=e.length;f<p&&g<d;f++,g++)s=u.convertPoint({x:c.scale(t[f]),y:h.scale(e[g])}),i.push(s.x),o.push(s.y)}else if(r(e))t=c.scale(t),o=[],a(e,function(e){e=h.scale(e),s=u.convertPoint({x:t,y:e}),i&&i!==s.x?(r(i)||(i=[i]),i.push(s.x)):i=s.x,o.push(s.y)});else if(r(t))e=h.scale(e),i=[],a(t,function(t){t=c.scale(t),s=u.convertPoint({x:t,y:e}),o&&o!==s.y?(r(o)||(o=[o]),o.push(s.y)):o=s.y,i.push(s.x)});else{t=c.scale(t),e=h.scale(e);var v=u.convertPoint({x:t,y:e});i=v.x,o=v.y}return[i,o]},e}(i(29));t.exports=o},function(t,e,i){var n=i(10),r=i(149),a=function(t){function e(e){var i;return i=t.call(this,e)||this,i.names=["color"],i.type="color",i.gradient=null,n(i.values)&&(i.linear=!0),i}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);return e.prototype.getLinearValue=function(t){var e=this.gradient;if(!e){var i=this.values;e=r.gradient(i),this.gradient=e}return e(t)},e}(i(29));t.exports=a},function(t,e,i){var n=function(t){function e(e){var i;return i=t.call(this,e)||this,i.names=["shape"],i.type="shape",i.gradient=null,i}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);return e.prototype.getLinearValue=function(t){var e=this.values;return e[Math.round((e.length-1)*t)]},e}(i(29));t.exports=n},function(t,e,i){var n=function(t){function e(e){var i;return i=t.call(this,e)||this,i.names=["size"],i.type="size",i.gradient=null,i}return function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t),e}(i(29));t.exports=n},function(t,e,i){var n=function(t){function e(e){var i;return i=t.call(this,e)||this,i.names=["opacity"],i.type="opacity",i.gradient=null,i}return function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t),e}(i(29));t.exports=n},function(t,e,i){var n=i(8),r=i(30),a=i(298),o=i(299),s=i(150),l=i(300),u=i(301);n(r.prototype,s),n(a.prototype,s,l),n(o.prototype,u),r.Jitter=i(302),r.Symmetric=i(303),r.Dodge=a,r.Stack=o,t.exports=r},function(t,e,i){var n=i(30),r=i(2),a=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i._initDefaultCfg=function(){this.marginRatio=.5,this.dodgeRatio=.5,this.adjustNames=["x","y"]},i.getDodgeOffset=function(t,e,i){var n=t.pre,r=t.next,a=r-n,o=a*this.dodgeRatio/i,s=this.marginRatio*o;return(n+r)/2+(.5*(a-i*o-(i-1)*s)+((e+1)*o+e*s)-.5*o-.5*a)},i.processAdjust=function(t){var e=this,i=t.length,n=e.xField;r(t,function(t,r){for(var a=0,o=t.length;a<o;a++){var s=t[a],l=s[n],u={pre:l-.5,next:l+.5},c=e.getDodgeOffset(u,r,i);s[n]=c}})},e}(n);n.Dodge=a,t.exports=a},function(t,e,i){var n=i(4),r=i(5),a=i(30),o=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i._initDefaultCfg=function(){this.xField=null,this.yField=null},i.processAdjust=function(t){this.processStack(t)},i.processStack=function(t){var e=this.xField,i=this.yField,a=t.length,o={positive:{},negative:{}};this.reverseOrder&&(t=t.slice(0).reverse());for(var s=0;s<a;s++)for(var l=t[s],u=0,c=l.length;u<c;u++){var h=l[u],f=h[e]||0,g=h[i],p=f.toString();if(g=n(g)?g[1]:g,!r(g)){var d=g>=0?"positive":"negative";o[d][p]||(o[d][p]=0),h[i]=[o[d][p],g+o[d][p]],o[d][p]+=g}}},e}(a);a.Stack=o,t.exports=o},function(t,e,i){var n={merge:i(42),values:i(64)},r=i(144),a=i(2);t.exports={processAdjust:function(t){var e=n.merge(t),i=this.dodgeBy,a=t;i&&(a=r(e,i)),this.cacheMap={},this.adjDataArray=a,this.mergeData=e,this.adjustData(a,e),this.adjDataArray=null,this.mergeData=null},getDistribution:function(t){var e=this.adjDataArray,i=this.cacheMap,r=i[t];return r||(r={},a(e,function(e,i){var o=n.values(e,t);o.length||o.push(0),a(o,function(t){r[t]||(r[t]=[]),r[t].push(i)})}),i[t]=r),r},adjustDim:function(t,e,i,n,r){var o=this,s=o.getDistribution(t),l=o.groupData(i,t);a(l,function(i,n){n=parseFloat(n);var l;l=1===e.length?{pre:e[0]-1,next:e[0]+1}:o.getAdjustRange(t,n,e),a(i,function(e){var i=e[t],n=s[i],a=n.indexOf(r);e[t]=o.getDodgeOffset(l,a,n.length)})})}}},function(t,e){t.exports={_initDefaultCfg:function(){this.xField=null,this.yField=null,this.height=null,this.size=10,this.reverseOrder=!1,this.adjustNames=["y"]},processOneDimStack:function(t){var e=this.xField,i=this.yField||"y",n=this.height,r={};this.reverseOrder&&(t=t.slice(0).reverse());for(var a=0,o=t.length;a<o;a++)for(var s=t[a],l=0,u=s.length;l<u;l++){var c=s[l],h=2*(c.size||this.size)/n,f=c[e];r[f]||(r[f]=h/2),c[i]=r[f],r[f]+=h}},processAdjust:function(t){this.yField?this.processStack(t):this.processOneDimStack(t)}}},function(t,e,i){var n=i(2),r=i(8),a={merge:i(42)},o=i(30),s=i(150),l=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i._initDefaultCfg=function(){this.xField=null,this.yField=null,this.adjustNames=["x","y"],this.groupFields=null},i.processAdjust=function(t){var e=a.merge(t);this.adjDataArray=t,this.mergeData=e,this.adjustData(t,e),this.adjFrames=null,this.mergeData=null},i.getAdjustOffset=function(t,e){var i=e-t;return t+.05*i+.9*i*Math.random()},i._adjustGroup=function(t,e,i,r){var a=this,o=a.getAdjustRange(e,i,r);n(t,function(t){t[e]=a.getAdjustOffset(o.pre,o.next)})},i.adjustDim=function(t,e,i){var r=this,a=r.groupData(i,t);n(a,function(i,n){n=parseFloat(n),r._adjustGroup(i,t,n,e)})},e}(o);r(l.prototype,s),o.Jitter=l,t.exports=l},function(t,e,i){var n=i(2),r=i(132),a=i(4),o={merge:i(42)},s=i(30),l=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i._initDefaultCfg=function(){this.xField=null,this.yField=null,this.cacheMax=null,this.adjustNames=["y"],this.groupFields=null},i._getMax=function(t){var e=this.mergeData,i=r(e,function(e){var i=e[t];return a(i)?Math.max.apply(null,i):i})[t];return a(i)?Math.max.apply(null,i):i},i._getXValuesMax=function(){var t=this.yField,e=this.xField,i={},r=this.mergeData;return n(r,function(n){var r=n[e],o=n[t],s=a(o)?Math.max.apply(null,o):o;i[r]=i[r]||0,i[r]<s&&(i[r]=s)}),i},i.processAdjust=function(t){var e=o.merge(t);this.mergeData=e,this._processSymmetric(t),this.mergeData=null},i._processSymmetric=function(t){var e,i=this.xField,r=this.yField,o=this._getMax(r),s=t[0][0];s&&a(s[r])&&(e=this._getXValuesMax()),n(t,function(t){n(t,function(t){var s,l=t[r];if(a(l)){var u=t[i],c=e[u];s=(o-c)/2;var h=[];n(l,function(t){h.push(s+t)}),t[r]=h}else s=(o-l)/2,t[r]=[s,l+s]})})},e}(s);s.Symmetric=l,t.exports=l},function(t,e,i){var n,r,a=i(0),o=i(152),s=a.deepMix({},o,{background:{fill:"#1F1F1F",radius:2},plotBackground:{fill:"#1F1F1F"},axis:{top:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"}},bottom:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"}},left:{label:{textStyle:{fill:"#A6A6A6"}},grid:{lineStyle:{stroke:"#404040"}}},right:{label:{textStyle:{fill:"#A6A6A6"}},grid:{lineStyle:{stroke:"#404040"}}},circle:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"},grid:{lineStyle:{stroke:"#404040"}}},radius:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"},grid:{lineStyle:{stroke:"#404040"}}},helix:{line:{stroke:"#737373"},tickLine:{stroke:"#737373"}}},label:{textStyle:{fill:"#A6A6A6"}},legend:{right:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},left:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},top:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},bottom:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},html:(n={},n["g2-legend"]={color:"#D9D9D9"},n),gradient:{textStyle:{fill:"#D9D9D9"},lineStyle:{stroke:"#404040"}}},tooltip:(r={},r["g2-tooltip"]={color:"#D9D9D9",backgroundColor:"rgba(0, 0, 0, 0.5)",boxShadow:"0px 0px 2px #000"},r),tooltipCrosshairsRect:{type:"rect",rectStyle:{fill:"#fff",opacity:.1}},tooltipCrosshairsLine:{lineStyle:{stroke:"rgba(255, 255, 255, 0.45)"}},guide:{line:{text:{style:{fill:"#A6A6A6"}}},text:{style:{fill:"#A6A6A6"}},region:{style:{lineWidth:0,fill:"#000",fillOpacity:.04}}}});t.exports=s},function(t,e,i){var n=i(65),r=i(164),a=i(335),o=i(336),s={getLabelsClass:function(t,e){var i=n;return"polar"===t?i=r:"theta"===t?i=a:"interval"!==e&&"polygon"!==e||(i=o),i}};t.exports=s},function(t,e,i){var n=i(31);n.Base=n,n.Circle=i(310),n.Grid=i(153),n.Helix=i(311),n.Line=i(312),n.Polyline=i(313),t.exports=n},function(t,e,i){function n(t,e,i,n){var r=t.getBBox(),a=r.width,o=r.height,s={x:e,y:i,textAlign:"center"};switch(n){case 0:s.y-=o/2,s.textAlign="left";break;case 1:s.y-=o/2,s.textAlign="right";break;case 2:s.y+=o/2,s.textAlign="right";break;case 3:s.y+=o/2,s.textAlign="left";break;case 5:s.y-=o/2;break;case 6:s.y+=o/2;break;case 7:s.x+=a/2,s.textAlign="left";break;case 8:s.x-=a/2,s.textAlign="right"}return t.attr(s),t.getBBox()}var r=i(155);t.exports=function(t){for(var e,i,a,o,s,l=new r,u=[],c=0;c<t.length;c++){a=(i=t[c]).attr("x"),o=i.attr("y"),s=!1;for(var h=0;h<8;h++)if(e=n(i,a,o,h),l.hasGap(e)){l.fillGap(e),s=!0;break}s||u.push(i)}for(var f=0;f<u.length;f++)u[f].remove();return s}},function(t,e,i){function n(t,e){var i,n=t.attr("x"),r=t.attr("y"),o=t.getBBox(),s=Math.sqrt(o.width*o.width+o.height*o.height),l=1,u=0,c=0,h=function(t){return[(t*=.1)*Math.cos(t),t*Math.sin(t)]};if(e.hasGap(o))return e.fillGap(o),!0;for(var f=!1,g=0;Math.min(Math.abs(u),Math.abs(c))<s&&g<a;)if(i=h(l+=-1),u=~~i[0],c=~~i[1],t.attr({x:n+u,y:r+c}),g++,e.hasGap(t.getBBox())){e.fillGap(o),f=!0;break}return f}var r=i(155),a=20;t.exports=function(t){for(var e,i=new r,a=[],o=0;o<t.length;o++)n(e=t[o],i)||a.push(e);for(var s=0;s<a.length;s++)a[s].remove()}},function(t,e){t.exports=function(t,e){for(var i,n,r=[],a=0;a<t.length;a++)i=t[a].getBBox(),n=e[a].getBBox(),i.width>n.width||i.height>n.height?r.push(t[a]):i.width*i.height>n.width*n.height&&r.push(t[a]);for(var o=0;o<r.length;o++)r[o].remove()}},function(t,e,i){var n=i(3),r=i(31),a=n.MatrixUtil.vec2,o=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return n.mix({},e,{type:"circle",tickInterval:null,startAngle:-Math.PI/2,endAngle:3*Math.PI/2,line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},_labelOffset:5})},i.parseTick=function(t,e,i){return{text:t,value:e/i}},i._getCirclePoint=function(t,e){var i=this.get("center");return e=e||this.get("radius"),{x:i.x+Math.cos(t)*e,y:i.y+Math.sin(t)*e}},i.getTickPoint=function(t){var e=this.get("startAngle"),i=e+(this.get("endAngle")-e)*t;return this._getCirclePoint(i)},i.getSideVector=function(t,e){var i=this.get("center"),r=[e.x-i.x,e.y-i.y];if(!n.isNil(t)){var o=a.length(r);a.scale(r,r,t/o)}return r},i.getSidePoint=function(t,e){var i=this.getSideVector(e,t);return{x:t.x+i[0],y:t.y+i[1]}},i.getTickEnd=function(t,e){var i=this.get("tickLine");return e=e||i.length,this.getSidePoint(t,e)},i.getTextAnchor=function(t){var e;return n.snapEqual(t[0],0)?e="center":t[0]>0?e="left":t[0]<0&&(e="right"),e},i.getLinePath=function(){var t=this.get("center"),e=t.x,i=t.y,n=this.get("radius"),r=n,a=this.get("startAngle"),o=this.get("endAngle"),s=this.get("inner"),l=[];if(Math.abs(o-a)===2*Math.PI)l=[["M",e,i],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];else{var u=this._getCirclePoint(a),c=this._getCirclePoint(o),h=Math.abs(o-a)>Math.PI?1:0,f=a>o?0:1;if(s){var g=this.getSideVector(s*n,u),p=this.getSideVector(s*n,c),d={x:g[0]+e,y:g[1]+i},v={x:p[0]+e,y:p[1]+i};l=[["M",d.x,d.y],["L",u.x,u.y],["A",n,r,0,h,f,c.x,c.y],["L",v.x,v.y],["A",n*s,r*s,0,h,Math.abs(f-1),d.x,d.y]]}else l=[["M",e,i],["L",u.x,u.y],["A",n,r,0,h,f,c.x,c.y],["L",e,i]]}return l},i.addLabel=function(e,i,n){var r=this.get("label").offset||this.get("_labelOffset")||.001;i=this.getSidePoint(i,r),t.prototype.addLabel.call(this,e,i,n)},i.autoRotateLabels=function(){var t=this.get("ticks"),e=this.get("labelRenderer");if(e&&t.length>12){var i=this.get("radius"),r=this.get("startAngle"),a=this.get("endAngle")-r,o=a/(t.length-1),s=Math.sin(o/2)*i*2,l=this.getMaxLabelWidth(e);n.each(e.get("group").get("children"),function(e,i){var n=t[i].value*a+r,o=n%(2*Math.PI);l<s?(o<=0&&(n+=Math.PI),o>Math.PI&&(n-=Math.PI),n-=Math.PI/2,e.attr("textAlign","center")):o>Math.PI/2?n-=Math.PI:o<Math.PI/2*-1&&(n+=Math.PI),e.rotateAtStart(n)})}},e}(r);t.exports=o},function(t,e,i){var n=i(3),r=i(31),a=n.MatrixUtil,o=n.PathUtil,s=a.vec2,l=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return n.mix({},e,{inner:0,type:"helix",line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},startAngle:1.25*Math.PI,endAngle:7.25*Math.PI,a:0,center:null,axisStart:null,crp:[]})},i.getLinePath=function(){var t=this.get("crp"),e=this.get("axisStart"),i=o.catmullRomToBezier(t);return i.unshift(["M",e.x,e.y]),i},i.getTickPoint=function(t){var e=this.get("startAngle"),i=e+(this.get("endAngle")-e)*t;return this._getHelixPoint(i)},i._getHelixPoint=function(t){var e=this.get("center"),i=this.get("a")*t+this.get("inner");return{x:e.x+Math.cos(t)*i,y:e.y+Math.sin(t)*i}},i.getSideVector=function(t,e){var i=this.get("center"),n=[e.x-i.x,e.y-i.y];if(t){var r=s.length(n);s.scale(n,n,t/r)}return n},i.getSidePoint=function(t,e){var i=this.getSideVector(e,t);return{x:t.x+i[0],y:t.y+i[1]}},i.getTickEnd=function(t,e){var i=this.get("tickLine");return e=e||i.length,this.getSidePoint(t,e)},e}(r);t.exports=l},function(t,e,i){var n=i(31),r=i(3),a=r.MatrixUtil.vec2,o=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{x:null,y:null,line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},isVertical:!1,start:null,end:null})},i._getAvgLabelLength=function(t){var e=t.get("group").get("children");return e[1].attr("x")-e[0].attr("x")},i._getAvgLabelHeightSpace=function(t){var e=t.get("group").get("children");return e[1].attr("y")-e[0].attr("y")},i.getSideVector=function(t){var e=this.get("isVertical"),i=this.get("factor");if(!r.isNumber(t))return[0,0];var n=this.get("start"),o=this.get("end"),s=this.getAxisVector(),l=a.normalize([],s),u=!1;(e&&n.y<o.y||!e&&n.x>o.x)&&(u=!0);var c=a.vertical([],l,u);return a.scale([],c,t*i)},i.getAxisVector=function(){var t=this.get("start"),e=this.get("end");return[e.x-t.x,e.y-t.y]},i.getLinePath=function(){var t=this.get("start"),e=this.get("end"),i=[];return i.push(["M",t.x,t.y]),i.push(["L",e.x,e.y]),i},i.getTickEnd=function(t,e){var i=this.getSideVector(e);return{x:t.x+i[0],y:t.y+i[1]}},i.getTickPoint=function(t){var e=this.get("start"),i=this.get("end"),n=i.x-e.x,r=i.y-e.y;return{x:e.x+n*t,y:e.y+r*t}},i.renderTitle=function(){var t=this.get("title"),e=this.getTickPoint(.5),i=t.offset;if(r.isNil(i)){i=20;var n=this.get("labelsGroup");if(n){i+=this.getMaxLabelWidth(n)+(this.get("label").offset||this.get("_labelOffset"))}}var o=t.textStyle,s=r.mix({},o);if(t.text){var l=this.getAxisVector();if(t.autoRotate&&r.isNil(o.rotate)){var u=0;if(!r.snapEqual(l[1],0)){var c=[l[0],l[1]];u=a.angleTo(c,[1,0],!0)}s.rotate=u*(180/Math.PI)}else r.isNil(o.rotate)||(s.rotate=o.rotate/180*Math.PI);var h,f=this.getSideVector(i),g=t.position;h="start"===g?{x:this.get("start").x+f[0],y:this.get("start").y+f[1]}:"end"===g?{x:this.get("end").x+f[0],y:this.get("end").y+f[1]}:{x:e.x+f[0],y:e.y+f[1]},s.x=h.x,s.y=h.y,s.text=t.text;var p=this.get("group").addShape("Text",{zIndex:2,attrs:s});p.name="axis-title",this.get("appendInfo")&&p.setSilent("appendInfo",this.get("appendInfo"))}},i.autoRotateLabels=function(){var t=this.get("labelRenderer"),e=this.get("title");if(t){var i=t.get("group").get("children"),n=this.get("label").offset,a=e?e.offset:48;if(a<0)return;var o,s,l=this.getAxisVector();if(r.snapEqual(l[0],0)&&e&&e.text)(s=this.getMaxLabelWidth(t))>a-n-12&&(o=-1*Math.acos((a-n-12)/s));else if(r.snapEqual(l[1],0)&&i.length>1){var u=Math.abs(this._getAvgLabelLength(t));(s=this.getMaxLabelWidth(t))>u&&(o=Math.asin(1.25*(a-n-12)/s))}if(o){var c=this.get("factor");r.each(i,function(t){t.rotateAtStart(o),r.snapEqual(l[1],0)&&(c>0?t.attr("textAlign","left"):t.attr("textAlign","right"))})}}},i.autoHideLabels=function(){var t,e,i=this.get("labelRenderer");if(i){var n=i.get("group").get("children"),a=this.getAxisVector();if(n.length<2)return;if(r.snapEqual(a[0],0)){var o=this.getMaxLabelHeight(i)+8,s=Math.abs(this._getAvgLabelHeightSpace(i));o>s&&(t=o,e=s)}else if(r.snapEqual(a[1],0)&&n.length>1){var l=this.getMaxLabelWidth(i)+8,u=Math.abs(this._getAvgLabelLength(i));l>u&&(t=l,e=u)}if(t&&e){var c=Math.ceil(t/e);r.each(n,function(t,e){e%c!=0&&t.attr("text","")})}}},e}(n);t.exports=o},function(t,e,i){var n=i(3),r=i(31),a=n.MatrixUtil,o=n.PathUtil,s=a.vec2,l=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return n.mix({},e,{type:"polyline"})},i.getLinePath=function(){var t=this.get("tickPoints"),e=this.get("start"),i=this.get("end"),r=[];r.push(e.x),r.push(e.y),n.each(t,function(t){r.push(t.x),r.push(t.y)}),r.push(i.x),r.push(i.y);var a=o.catmullRomToBezier(r);return a.unshift(["M",e.x,e.y]),a},i.getTickPoint=function(t,e){return this.get("tickPoints")[e]},i.getTickEnd=function(t,e,i){var n=this.get("tickLine"),r=e||n.length,a=this.getSideVector(r,t,i);return{x:t.x+a[0],y:t.y+a[1]}},i.getSideVector=function(t,e,i){var n;if(0===i){if((n=this.get("start")).x===e.x&&n.y===e.y)return[0,0]}else{n=this.get("tickPoints")[i-1]}var r=[e.x-n.x,e.y-n.y],a=s.normalize([],r),o=s.vertical([],a,!1);return s.scale([],o,t)},e}(r);t.exports=l},function(t,e,i){t.exports={Guide:i(15),Arc:i(315),DataMarker:i(316),DataRegion:i(317),Html:i(318),Image:i(319),Line:i(320),Region:i(321),Text:i(322)}},function(t,e,i){function n(t,e){var i,n=t.x-e.x,r=t.y-e.y;return 0===r?i=n<0?o/2:270*o/180:n>=0&&r>0?i=2*o-s(n/r):n<=0&&r<0?i=o-s(n/r):n>0&&r<0?i=o+s(-n/r):n<0&&r>0&&(i=s(n/-r)),i}var r=i(3),a=i(15),o=Math.PI,s=Math.atan,l=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{name:"arc",start:null,end:null,style:{stroke:"#999",lineWidth:1}})},i.render=function(t,e){var i,a=this.parsePoint(t,this.get("start")),s=this.parsePoint(t,this.get("end")),l=t.getCenter(),u=Math.sqrt((a.x-l.x)*(a.x-l.x)+(a.y-l.y)*(a.y-l.y)),c=n(a,l),h=n(s,l);if(h<c&&(h+=2*o),r.isNumberEqual(a.x,s.x)&&r.isNumberEqual(a.y,s.y)&&(this.get("start")[0]!==this.get("end")[0]||this.get("start")[1]!==this.get("end")[1]))i=[["M",a.x,a.y],["A",u,u,0,1,1,2*l.x-a.x,2*l.y-a.y],["A",u,u,0,1,1,a.x,a.y]];else{var f=(h-c)%(2*o)>o?1:0;i=[["M",a.x,a.y],["A",u,u,0,f,1,s.x,s.y]]}var g=e.addShape("path",{zIndex:this.get("zIndex"),attrs:r.mix({path:i},this.get("style"))});g.name="guide-arc",this.get("appendInfo")&&g.setSilent("appendInfo",this.get("appendInfo")),this.set("el",g)},e}(a);t.exports=l},function(t,e,i){var n=i(3),r=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return n.mix({},e,{name:"dataMarker",zIndex:1,top:!0,position:null,style:{point:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2},line:{stroke:"#A3B1BF",lineWidth:1},text:{fill:"#000000",opacity:.65,fontSize:12,textAlign:"start"}},display:{point:!0,line:!0,text:!0},lineLength:20,direction:"upward",autoAdjust:!0})},i.render=function(t,e){var i=this.parsePoint(t,this.get("position")),n=e.addGroup();n.name="guide-data-marker";var r,a,o=this._getElementPosition(i),s=this.get("display");if(s.line){var l=o.line;r=this._drawLine(l,n)}if(s.text&&this.get("content")){var u=o.text;a=this._drawText(u,n)}if(s.point){var c=o.point;this._drawPoint(c,n)}if(this.get("autoAdjust")){var h=n.getBBox(),f=h.minX,g=h.minY,p=h.maxX,d=h.maxY,v=t.start,m=t.end;if(a){f<=v.x&&a.attr("textAlign","start"),p>=m.x&&a.attr("textAlign","end");var y=this.get("direction");if("upward"===y&&g<=m.y||"upward"!==y&&d>=v.y){var x,b;"upward"===y&&g<=m.y?(x="top",b=1):(x="bottom",b=-1),a.attr("textBaseline",x);var _=0;if(this.get("display").line){_=this.get("lineLength");var M=[["M",i.x,i.y],["L",i.x,i.y+_*b]];r.attr("path",M)}var S=i.y+(_+2)*b;a.attr("y",S)}}}this.get("appendInfo")&&n.setSilent("appendInfo",this.get("appendInfo")),this.set("el",n)},i._getElementPosition=function(t){var e=t.x,i=t.y,n=this.get("display").line?this.get("lineLength"):0,r=this.get("direction");this.get("style").text.textBaseline="upward"===r?"bottom":"top";var a="upward"===r?-1:1;return{point:{x:e,y:i},line:[{x:e,y:i},{x:e,y:n*a+i}],text:{x:e,y:(n+2)*a+i}}},i._drawLine=function(t,e){var i=this.get("style").line,r=[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y]];return e.addShape("path",{attrs:n.mix({path:r},i)})},i._drawText=function(t,e){var i=this.get("style").text;return e.addShape("text",{attrs:n.mix({text:this.get("content")},i,t)})},i._drawPoint=function(t,e){var i=this.get("style").point;return e.addShape("circle",{attrs:n.mix({},i,t)})},e}(i(15));t.exports=r},function(t,e,i){var n=i(3),r=i(156),a=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return n.mix({},e,{name:"dataRegion",start:null,end:null,content:"",style:{region:{lineWidth:0,fill:"#000000",opacity:.04},text:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:"rgba(0, 0, 0, .65)"}}})},i.render=function(t,e,i){var r=this.get("lineLength")||0,a=this._getRegionData(t,i);if(a.length){var o=this._getBBox(a),s=[];s.push(["M",a[0].x,o.yMin-r]);for(var l=0,u=a.length;l<u;l++){var c=["L",a[l].x,a[l].y];s.push(c)}s.push(["L",a[a.length-1].x,o.yMin-r]);var h=this.get("style"),f=h.region,g=h.text,p=e.addGroup();p.name="guide-data-region",p.addShape("path",{attrs:n.mix({path:s},f)});var d=this.get("content");d&&p.addShape("Text",{attrs:n.mix({x:(o.xMin+o.xMax)/2,y:o.yMin-r,text:d},g)}),this.get("appendInfo")&&p.setSilent("appendInfo",this.get("appendInfo")),this.set("el",p)}},i._getRegionData=function(t,e){for(var i,a=this.get("start"),o=this.get("end"),s=r.getFirstScale(this.get("xScales")).field,l=r.getFirstScale(this.get("yScales")).field,u=n.isArray(a)?a[0]:a[s],c=n.isArray(o)?o[0]:o[s],h=[],f=0,g=e.length;f<g;f++){var p=e[f];if(p[s]===u&&(i=f),f>=i&&h.push(this.parsePoint(t,[p[s],p[l]])),p[s]===c)break}return h},i._getBBox=function(t){for(var e=[],i=[],r=0;r<t.length;r++)e.push(t[r].x),i.push(t[r].y);var a=n.arrayUtil.getRange(e),o=n.arrayUtil.getRange(i);return{xMin:a.min,xMax:a.max,yMin:o.min,yMax:o.max}},e}(i(15));t.exports=a},function(t,e,i){var n=i(3),r=n.DomUtil,a=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return n.mix({},e,{name:"html",zIndex:7,position:null,alignX:"middle",alignY:"middle",offsetX:null,offsetY:null,html:null})},i.render=function(t,e){var i=this.parsePoint(t,this.get("position")),a=e.get("canvas").get("el").parentNode,o=r.createDom('<div class="g-guide"></div>');a.appendChild(o);var s=this.get("htmlContent")||this.get("html");if(n.isFunction(s)){s=s(this.get("xScales"),this.get("yScales"))}var l=r.createDom(s);o.appendChild(l),r.modifyCSS(o,{position:"absolute"}),this._setDomPosition(o,l,i),this.set("el",o)},i._setDomPosition=function(t,e,i){var n=this.get("alignX"),a=this.get("alignY"),o=r.getOuterWidth(e),s=r.getOuterHeight(e),l={x:i.x,y:i.y};"middle"===n&&"top"===a?l.x-=Math.round(o/2):"middle"===n&&"bottom"===a?(l.x-=Math.round(o/2),l.y-=Math.round(s)):"left"===n&&"bottom"===a?l.y-=Math.round(s):"left"===n&&"middle"===a?l.y-=Math.round(s/2):"left"===n&&"top"===a?(l.x=i.x,l.y=i.y):"right"===n&&"bottom"===a?(l.x-=Math.round(o),l.y-=Math.round(s)):"right"===n&&"middle"===a?(l.x-=Math.round(o),l.y-=Math.round(s/2)):"right"===n&&"top"===a?l.x-=Math.round(o):(l.x-=Math.round(o/2),l.y-=Math.round(s/2));var u=this.get("offsetX");u&&(l.x+=u);var c=this.get("offsetY");c&&(l.y+=c),r.modifyCSS(t,{top:Math.round(l.y)+"px",left:Math.round(l.x)+"px",visibility:"visible",zIndex:this.get("zIndex")})},i.clear=function(){var t=this.get("el");t&&t.parentNode&&t.parentNode.removeChild(t)},e}(i(15));t.exports=a},function(t,e,i){var n=i(3),r=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return n.mix({},e,{type:"image",start:null,end:null,src:null,offsetX:null,offsetY:null})},i.render=function(t,e){var i=this.parsePoint(t,this.get("start")),n={x:i.x,y:i.y};if(n.img=this.get("src"),this.get("end")){var r=this.parsePoint(t,this.get("end"));n.width=r.x-i.x,n.height=r.y-i.y}else n.width=this.get("width")||32,n.height=this.get("height")||32;this.get("offsetX")&&(n.x+=this.get("offsetX")),this.get("offsetY")&&(n.y+=this.get("offsetY"));var a=e.addShape("Image",{zIndex:1,attrs:n});a.name="guide-image",this.get("appendInfo")&&a.setSilent("appendInfo",this.get("appendInfo")),this.set("el",a)},e}(i(15));t.exports=r},function(t,e,i){var n=i(3),r=i(15),a=n.MatrixUtil.vec2,o=i(14).FONT_FAMILY,s=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return n.mix({},e,{name:"line",start:null,end:null,lineStyle:{stroke:"#000",lineWidth:1},text:{position:"end",autoRotate:!0,style:{fill:"#999",fontSize:12,fontWeight:500,fontFamily:o},content:null}})},i.render=function(t,e){var i=this.parsePoint(t,this.get("start")),n=this.parsePoint(t,this.get("end")),r=e.addGroup({viewId:e.get("viewId")});this._drawLines(i,n,r);var a=this.get("text");a&&a.content&&this._drawText(i,n,r),this.set("el",r)},i._drawLines=function(t,e,i){var r=[["M",t.x,t.y],["L",e.x,e.y]],a=i.addShape("Path",{attrs:n.mix({path:r},this.get("lineStyle"))});a.name="guide-line",this.get("appendInfo")&&a.setSilent("appendInfo",this.get("appendInfo"))},i._drawText=function(t,e,i){var r,o=this.get("text"),s=o.position,l=o.style||{};((r="start"===s?0:"center"===s?.5:n.isString(s)&&-1!==s.indexOf("%")?parseInt(s,10)/100:n.isNumber(s)?s:1)>1||r<0)&&(r=1);var u={x:t.x+(e.x-t.x)*r,y:t.y+(e.y-t.y)*r};if(o.offsetX&&(u.x+=o.offsetX),o.offsetY&&(u.y+=o.offsetY),u.text=o.content,u=n.mix({},u,l),o.autoRotate&&n.isNil(l.rotate)){var c=a.angleTo([e.x-t.x,e.y-t.y],[1,0],1);u.rotate=c}else n.isNil(l.rotate)||(u.rotate=l.rotate*Math.PI/180);var h=i.addShape("Text",{attrs:u});h.name="guide-line-text",this.get("appendInfo")&&h.setSilent("appendInfo",this.get("appendInfo"))},e}(r);t.exports=s},function(t,e,i){var n=i(3),r=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return n.mix({},e,{name:"region",zIndex:1,start:null,end:null,style:{lineWidth:0,fill:"#CCD7EB",opacity:.4}})},i.render=function(t,e){var i=this.get("style"),r=this._getPath(t),a=e.addShape("path",{zIndex:this.get("zIndex"),attrs:n.mix({path:r},i)});a.name="guide-region",this.get("appendInfo")&&a.setSilent("appendInfo",this.get("appendInfo")),this.set("el",a)},i._getPath=function(t){var e=this.parsePoint(t,this.get("start")),i=this.parsePoint(t,this.get("end"));return[["M",e.x,e.y],["L",i.x,e.y],["L",i.x,i.y],["L",e.x,i.y],["z"]]},e}(i(15));t.exports=r},function(t,e,i){var n=i(3),r=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return n.mix({},e,{name:"text",position:null,content:null,style:{fill:"#999",fontSize:12,fontWeight:500,textAlign:"center"},offsetX:null,offsetY:null,top:!0})},i.render=function(t,e){var i=this.parsePoint(t,this.get("position")),r=n.mix({},this.get("style")),a=this.get("offsetX"),o=this.get("offsetY");a&&(i.x+=a),o&&(i.y+=o),r.rotate&&(r.rotate=r.rotate*Math.PI/180);var s=e.addShape("Text",{zIndex:this.get("zIndex"),attrs:n.mix({text:this.get("content")},r,i)});s.name="guide-text",this.get("appendInfo")&&s.setSilent("appendInfo",this.get("appendInfo")),this.set("el",s)},e}(i(15));t.exports=r},function(t,e,i){var n=i(154);t.exports=n},function(t,e,i){t.exports={Category:i(157),CatHtml:i(159),CatPageHtml:i(325),Color:i(326),Size:i(328),CircleSize:i(329)}},function(t,e,i){function n(t,e){return t.getElementsByClassName(e)[0]}var r=i(3),a=i(159),o=i(14).FONT_FAMILY,s=r.DomUtil,l=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"category-page-legend",container:null,caretStyle:{fill:"rgba(0,0,0,0.65)"},pageNumStyle:{display:"inline-block",fontSize:"12px",fontFamily:o,cursor:"default"},slipDomStyle:{width:"auto",height:"auto",position:"absolute"},slipTpl:'<div class="g2-slip" ><svg viewBox="64 64 896 896" class="g2-caret-up" data-icon="left" width="1em" height="1em" aria-hidden="true"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"></path></svg><p class="cur-pagenum" style = "display:inline-block;">1</p><p class="next-pagenum" style = "display:inline-block;">/2</p><svg viewBox="64 64 896 896" class="g2-caret-down" data-icon="right" width="1em" height="1em" aria-hidden="true"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"></path></svg></div>',slipWidth:65,legendOverflow:"unset"})},i.render=function(){t.prototype._renderHTML.call(this),this._renderFlipPage()},i._renderFlipPage=function(){var t=document.getElementsByClassName("g2-legend")[0],e=n(t,"g2-legend-list"),i=this.get("position"),a=this.get("layout"),o="right"===i||"left"===i||"vertical"===a?"block":"inline-block";if(t.scrollHeight>t.offsetHeight){var l=this.get("slipTpl"),u=s.createDom(l),c=n(u,"g2-caret-up"),h=n(u,"g2-caret-down");s.modifyCSS(c,this.get("caretStyle")),s.modifyCSS(c,{fill:"rgba(0,0,0,0.25)"}),s.modifyCSS(h,this.get("caretStyle"));var f=n(u,"cur-pagenum"),g=n(u,"next-pagenum"),p=this.get("pageNumStyle");s.modifyCSS(f,r.mix({},p,{paddingLeft:"10px"})),s.modifyCSS(g,r.mix({},p,{opacity:.3,paddingRight:"10px"})),s.modifyCSS(u,r.mix({},this.get("slipDomStyle"),{top:t.offsetHeight+"px"})),t.style.overflow=this.get("legendOverflow"),t.appendChild(u);for(var d=e.childNodes,v=0,m=1,y=[],x=0;x<d.length;x++)d[x].style.display=o,(v=d[x].offsetTop+d[x].offsetHeight)>=t.offsetHeight&&(m++,y.forEach(function(t){t.style.display="none"}),y=[]),y.push(d[x]);g.innerText="/"+m,d.forEach(function(e){e.style.display=o,(v=e.offsetTop+e.offsetHeight)>t.offsetHeight&&(e.style.display="none")}),c.addEventListener("click",function(){if(d[0].style.display!==o){var e=-1;d.forEach(function(t,i){t.style.display===o&&(e=-1===e?i:e,t.style.display="none")});for(var i=e-1;i>=0&&(d[i].style.display=o,v=d[e-1].offsetTop+d[e-1].offsetHeight,d[i].style.display="none",v<t.offsetHeight);i--)d[i].style.display=o;var n=Number.parseInt(f.innerText,10)-1;c.style.fill=1===n?"rgba(0,0,0,0.25)":"rgba(0,0,0,0.65)",h.style.fill="rgba(0,0,0,0.65)",f.innerText=n}}),h.addEventListener("click",function(){if(d[d.length-1].style.display!==o){var e=-1;d.forEach(function(t,i){t.style.display===o&&(e=i,t.style.display="none")});for(var i=e+1;i<d.length&&(d[i].style.display=o,v=d[i].offsetTop+d[i].offsetHeight,d[i].style.display="none",v<t.offsetHeight);i++)d[i].style.display=o;var n=Number.parseInt(f.innerText,10)+1;h.style.fill=n===o?"rgba(0,0,0,0.25)":"rgba(0,0,0,0.65)",c.style.fill="rgba(0,0,0,0.65)",f.innerText=n}}),this.set("slipDom",u)}},i.destroy=function(){t.prototype.destroy.call(this);var e=this.get("slipDom");e&&e.parentNode&&e.parentNode.removeChild(e)},e}(a);t.exports=l},function(t,e,i){var n=i(73).ColorUtil,r=i(3),a=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"color-legend",layout:"vertical",triggerAttr:{fill:"#fff",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10,shadowColor:"#ccc",radius:3},isSegment:!1})},i._setPercentage=function(){var t=this.get("items");if(!t[0].percentage){var e=t[0].value,i=t[t.length-1].value;r.each(t,function(t){t.percentage=(t.value-e)/(i-e)})}},i._renderSliderShape=function(){this._setPercentage();var t,e=this.get("slider").get("backgroundElement"),i=this.get("width"),a=this.get("height"),o=this.get("layout"),s=this.get("items"),l="";return"vertical"===o?(l+="l (90) ",r.each(s,function(e){t=n.toRGB(e.color),l+=1-e.percentage+":"+t+" "})):(l+="l (0) ",r.each(s,function(e){t=n.toRGB(e.color),l+=e.percentage+":"+t+" "})),this._addMiddleBar(e,"Rect",{x:0,y:0,width:i,height:a,fill:l,strokeOpacity:0})},i._renderUnslidable=function(){this._setPercentage();var t=this.get("titleShape"),e=this.get("titleGap");e=t?t.getBBox().height+e:e;var i,a=this.get("width"),o=this.get("height"),s=this.get("layout"),l=this.get("items"),u="",c=[],h=this.get("group").addGroup(),f=l.length;if("vertical"===s){u+="l (90) ";for(var g=0;g<f;g+=1){if(0!==g&&g!==f-1&&(c.push(["M",0,o-l[g].percentage*o]),c.push(["L",a,o-l[g].percentage*o])),i=n.toRGB(l[g].color),u+=1-l[g].percentage+":"+i+" ",this.get("isSegment")&&g>0){var p=n.toRGB(l[g-1].color);u+=1-l[g].percentage+":"+p+" "}h.addShape("text",{attrs:r.mix({},{x:a+this.get("textOffset")/2,y:o-l[g].percentage*o,text:this._formatItemValue(l[g].value)+""},this.get("textStyle"),{textAlign:"start"})})}}else{u+="l (0) ";for(var d=0;d<f;d+=1){if(0!==d&&d!==f-1&&(c.push(["M",l[d].percentage*a,0]),c.push(["L",l[d].percentage*a,o])),i=n.toRGB(l[d].color),this.get("isSegment")&&d>0){var v=n.toRGB(l[d-1].color);u+=l[d].percentage+":"+v+" "}u+=l[d].percentage+":"+i+" ",h.addShape("text",{attrs:r.mix({},{x:l[d].percentage*a,y:o+5+this.get("textOffset"),text:this._formatItemValue(l[d].value)+""},this.get("textStyle"))})}}h.addShape("rect",{attrs:{x:0,y:0,width:a,height:o,fill:u,strokeOpacity:0}}),h.addShape("path",{attrs:r.mix({path:c},this.get("lineStyle"))}),h.move(0,e)},e}(i(67));t.exports=a},function(t,e,i){var n=i(3),r=n.DomUtil,a=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){return{range:null,middleAttr:{fill:"#fff",fillOpacity:0},backgroundElement:null,minHandleElement:null,maxHandleElement:null,middleHandleElement:null,currentTarget:null,layout:"vertical",width:null,height:null,pageX:null,pageY:null}},i._beforeRenderUI=function(){var t=this.get("layout"),e=this.get("backgroundElement"),i=this.get("minHandleElement"),n=this.get("maxHandleElement"),r=this.addShape("rect",{attrs:this.get("middleAttr")}),a="vertical"===t?"ns-resize":"ew-resize";this.add([e,i,n]),this.set("middleHandleElement",r),e.set("zIndex",0),r.set("zIndex",1),i.set("zIndex",2),n.set("zIndex",2),r.attr("cursor","move"),i.attr("cursor",a),n.attr("cursor",a),this.sort()},i._renderUI=function(){"horizontal"===this.get("layout")?this._renderHorizontal():this._renderVertical()},i._transform=function(t){var e=this.get("range"),i=e[0]/100,n=e[1]/100,r=this.get("width"),a=this.get("height"),o=this.get("minHandleElement"),s=this.get("maxHandleElement"),l=this.get("middleHandleElement");o.resetMatrix(),s.resetMatrix(),"horizontal"===t?(l.attr({x:r*i,y:0,width:(n-i)*r,height:a}),o.translate(i*r,a),s.translate(n*r,a)):(l.attr({x:0,y:a*(1-n),width:r,height:(n-i)*a}),o.translate(1,(1-i)*a),s.translate(1,(1-n)*a))},i._renderHorizontal=function(){this._transform("horizontal")},i._renderVertical=function(){this._transform("vertical")},i._bindUI=function(){this.on("mousedown",n.wrapBehavior(this,"_onMouseDown"))},i._isElement=function(t,e){var i=this.get(e);if(t===i)return!0;if(i.isGroup){return i.get("children").indexOf(t)>-1}return!1},i._getRange=function(t,e){var i=t+e;return i=i>100?100:i,i=i<0?0:i},i._updateStatus=function(t,e){var i="x"===t?this.get("width"):this.get("height");t=n.upperFirst(t);var r,a=this.get("range"),o=this.get("page"+t),s=this.get("currentTarget"),l=this.get("rangeStash"),u="vertical"===this.get("layout")?-1:1,c=e["page"+t],h=(c-o)/i*100*u;a[1]<=a[0]?(this._isElement(s,"minHandleElement")||this._isElement(s,"maxHandleElement"))&&(a[0]=this._getRange(h,a[0]),a[1]=this._getRange(h,a[0])):(this._isElement(s,"minHandleElement")&&(a[0]=this._getRange(h,a[0])),this._isElement(s,"maxHandleElement")&&(a[1]=this._getRange(h,a[1]))),this._isElement(s,"middleHandleElement")&&(r=l[1]-l[0],a[0]=this._getRange(h,a[0]),a[1]=a[0]+r,a[1]>100&&(a[1]=100,a[0]=a[1]-r)),this.emit("sliderchange",{range:a}),this.set("page"+t,c),this._renderUI(),this.get("canvas").draw()},i._onMouseDown=function(t){var e=t.currentTarget,i=t.event,n=this.get("range");i.stopPropagation(),i.preventDefault(),this.set("pageX",i.pageX),this.set("pageY",i.pageY),this.set("currentTarget",e),this.set("rangeStash",[n[0],n[1]]),this._bindCanvasEvents()},i._bindCanvasEvents=function(){var t=this.get("canvas").get("containerDOM");this.onMouseMoveListener=r.addEventListener(t,"mousemove",n.wrapBehavior(this,"_onCanvasMouseMove")),this.onMouseUpListener=r.addEventListener(t,"mouseup",n.wrapBehavior(this,"_onCanvasMouseUp")),this.onMouseLeaveListener=r.addEventListener(t,"mouseleave",n.wrapBehavior(this,"_onCanvasMouseUp"))},i._onCanvasMouseMove=function(t){if(!this._mouseOutArea(t)){"horizontal"===this.get("layout")?this._updateStatus("x",t):this._updateStatus("y",t)}},i._onCanvasMouseUp=function(){this._removeDocumentEvents()},i._removeDocumentEvents=function(){this.onMouseMoveListener.remove(),this.onMouseUpListener.remove()},i._mouseOutArea=function(t){var e=this.get("canvas").get("el").getBoundingClientRect(),i=this.get("parent"),n=i.getBBox(),r=i.attr("matrix")[6],a=i.attr("matrix")[7],o=r+n.width,s=a+n.height,l=t.clientX-e.x,u=t.clientY-e.y;return l<r||l>o||u<a||u>s},e}(n.Group);t.exports=a},function(t,e,i){var n=i(3),r=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return n.mix({},e,{type:"size-legend",width:100,height:200,_unslidableElementStyle:{fill:"#4E7CCC",fillOpacity:1},frontMiddleBarStyle:{fill:"rgb(64, 141, 251)"}})},i._renderSliderShape=function(){var t=this.get("slider").get("backgroundElement"),e=this.get("layout"),i=this.get("width"),r=this.get("height"),a=this.get("height")/2,o=this.get("frontMiddleBarStyle"),s="vertical"===e?[[0,0],[i,0],[i,r],[i-4,r]]:[[0,a+r/2],[0,a+r/2-4],[i,a-r/2],[i,a+r/2]];return this._addMiddleBar(t,"Polygon",n.mix({points:s},o))},i._renderUnslidable=function(){var t=this.get("layout"),e=this.get("width"),i=this.get("height"),r=this.get("frontMiddleBarStyle"),a="vertical"===t?[[0,0],[e,0],[e,i],[e-4,i]]:[[0,i],[0,i-4],[e,0],[e,i]];this.get("group").addGroup().addShape("Polygon",{attrs:n.mix({points:a},r)});var o=this._formatItemValue(this.get("firstItem").value),s=this._formatItemValue(this.get("lastItem").value);"vertical"===this.get("layout")?(this._addText(e+10,i-3,o),this._addText(e+10,3,s)):(this._addText(0,i,o),this._addText(e,i,s))},i._addText=function(t,e,i){var r=this.get("group").addGroup(),a=this.get("textStyle"),o=this.get("titleShape"),s=this.get("titleGap");o&&(s+=o.getBBox().height),"vertical"===this.get("layout")?r.addShape("text",{attrs:n.mix({x:t+this.get("textOffset"),y:e,text:0===i?"0":i},a)}):(e+=s+this.get("textOffset")-20,o||(e+=10),r.addShape("text",{attrs:n.mix({x:t,y:e,text:0===i?"0":i},a)}))},e}(i(67));t.exports=r},function(t,e,i){var n=i(3),r=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return n.mix({},e,{type:"size-circle-legend",width:100,height:200,_unslidableCircleStyle:{stroke:"rgb(99, 161, 248)",fill:"rgb(99, 161, 248)",fillOpacity:.3,lineWidth:1.5},triggerAttr:{fill:"white",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10,shadowColor:"#ccc"},frontMiddleBarStyle:{fill:"rgb(64, 141, 251)"}})},i._renderSliderShape=function(){var t=this.get("slider").get("backgroundElement"),e=this.get("layout"),i="vertical"===e?2:this.get("width"),r="vertical"===e?this.get("height"):2,a=this.get("height")/2,o=this.get("frontMiddleBarStyle"),s="vertical"===e?[[0,0],[i,0],[i,r],[0,r]]:[[0,a+r],[0,a-r],[5+i-4,a-r],[5+i-4,a+r]];return this._addMiddleBar(t,"Polygon",n.mix({points:s},o))},i._addHorizontalTrigger=function(t,e,i,r){var a=this.get("slider").get(t+"HandleElement"),o=-this.get("height")/2,s=a.addShape("circle",{attrs:n.mix({x:0,y:o,r:r},e)}),l=a.addShape("text",{attrs:n.mix(i,{x:0,y:o+r+10,textAlign:"center",textBaseline:"middle"})}),u="vertical"===this.get("layout")?"ns-resize":"ew-resize";s.attr("cursor",u),l.attr("cursor",u),this.set(t+"ButtonElement",s),this.set(t+"TextElement",l)},i._addVerticalTrigger=function(t,e,i,r){var a=this.get("slider").get(t+"HandleElement"),o=a.addShape("circle",{attrs:n.mix({x:0,y:0,r:r},e)}),s=a.addShape("text",{attrs:n.mix(i,{x:r+10,y:0,textAlign:"start",textBaseline:"middle"})}),l="vertical"===this.get("layout")?"ns-resize":"ew-resize";o.attr("cursor",l),s.attr("cursor",l),this.set(t+"ButtonElement",o),this.set(t+"TextElement",s)},i._renderTrigger=function(){var t=this.get("firstItem"),e=this.get("lastItem"),i=this.get("layout"),r=this.get("textStyle"),a=this.get("triggerAttr"),o=n.mix({},a),s=n.mix({},a),l=n.mix({text:this._formatItemValue(t.value)+""},r),u=n.mix({text:this._formatItemValue(e.value)+""},r);"vertical"===i?(this._addVerticalTrigger("min",o,l,5),this._addVerticalTrigger("max",s,u,16)):(this._addHorizontalTrigger("min",o,l,5),this._addHorizontalTrigger("max",s,u,16))},i._bindEvents=function(){var t=this;if(this.get("slidable")){this.get("slider").on("sliderchange",function(e){var i=e.range,n=t.get("firstItem").value,r=t.get("lastItem").value,a=n+i[0]/100*(r-n),o=n+i[1]/100*(r-n),s=5+i[0]/100*11,l=5+i[1]/100*11;t._updateElement(a,o,s,l);var u=new Event("itemfilter",e,!0,!0);u.range=[a,o],t.emit("itemfilter",u)})}},i._updateElement=function(e,i,n,r){t.prototype._updateElement.call(this,e,i);var a=this.get("minTextElement"),o=this.get("maxTextElement"),s=this.get("minButtonElement"),l=this.get("maxButtonElement");s.attr("r",n),l.attr("r",r);if("vertical"===this.get("layout"))a.attr("x",n+10),o.attr("x",r+10);else{var u=-this.get("height")/2;a.attr("y",u+n+10),o.attr("y",u+r+10)}},i._addCircle=function(t,e,i,r,a){var o=this.get("group").addGroup(),s=this.get("_unslidableCircleStyle"),l=this.get("textStyle"),u=this.get("titleShape"),c=this.get("titleGap");u&&(c+=u.getBBox().height),o.addShape("circle",{attrs:n.mix({x:t,y:e+c,r:0===i?1:i},s)}),"vertical"===this.get("layout")?o.addShape("text",{attrs:n.mix({x:a+20+this.get("textOffset"),y:e+c,text:0===r?"0":r},l)}):o.addShape("text",{attrs:n.mix({x:t,y:e+c+a+13+this.get("textOffset"),text:0===r?"0":r},l)})},i._renderUnslidable=function(){var t=this.get("firstItem").value,e=this.get("lastItem").value;if(t>e){var i=e;e=t,t=i}var n=this._formatItemValue(t),r=this._formatItemValue(e),a=t<5?5:t,o=e>16?16:e;a>o&&(a=5,o=16),"vertical"===this.get("layout")?(this._addCircle(o,o,a,n,2*o),this._addCircle(o,2*o+16+a,o,r,2*o)):(this._addCircle(o,o,a,n,2*o),this._addCircle(2*o+16+a,o,o,r,2*o))},i.activate=function(e){this.get("slidable")&&t.prototype.activate.call(this,e)},e}(i(67));t.exports=r},function(t,e,i){var n=i(68);n.Html=i(331),n.Canvas=i(163),n.Mini=i(333),t.exports=n},function(t,e,i){function n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r(t,e){return t.getElementsByClassName(e)[0]}var a=i(68),o=i(3),s=o.DomUtil,l=i(332),u=i(160),c=i(161),h=i(162),f=function(t){function e(e){var i;i=t.call(this,e)||this,o.assign(n(n(i)),c),o.assign(n(n(i)),h);var r=l;i.style=function(t,e){return Object.keys(t).forEach(function(i){e[i]&&(t[i]=o.mix(t[i],e[i]))}),t}(r,e),i._init_(),i.get("items")&&i.render();var a=i.get("crosshairs");if(a){var s="rect"===a.type?i.get("backPlot"):i.get("frontPlot"),f=new u(o.mix({plot:s,plotRange:i.get("plotRange"),canvas:i.get("canvas")},i.get("crosshairs")));f.hide(),i.set("crosshairGroup",f)}return i}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return o.mix({},e,{containerTpl:' <div class="g2-tooltip"> <div class="g2-tooltip-title"></div><ul class="g2-tooltip-list"></ul></div>',itemTpl:'<li data-index={index}><span style="background-color:{color};" class=g2-tooltip-marker></span>{name}<span class=g2-tooltip-value>{value}</span></li>',htmlContent:null,follow:!0,enterable:!1})},i._init_=function(){var t,e=this.get("containerTpl"),i=this.get("canvas").get("el").parentNode;if(!this.get("htmlContent")){if(/^\#/.test(e)){var n=e.replace("#","");t=document.getElementById(n)}else t=s.createDom(e),s.modifyCSS(t,this.style["g2-tooltip"]),i.appendChild(t),i.style.position="relative";this.set("container",t)}},i.render=function(){if(this.clear(),this.get("htmlContent")){var t=this.get("canvas").get("el").parentNode,e=this._getHtmlContent();t.appendChild(e),this.set("container",e)}else this._renderTpl()},i._renderTpl=function(){var t=this,e=t.get("showTitle"),i=t.get("titleContent"),n=t.get("container"),a=r(n,"g2-tooltip-title"),l=r(n,"g2-tooltip-list"),u=t.get("items");a&&e&&(s.modifyCSS(a,t.style["g2-tooltip-title"]),a.innerHTML=i),l&&(s.modifyCSS(l,t.style["g2-tooltip-list"]),o.each(u,function(e,i){l.appendChild(t._addItem(e,i))}))},i.clear=function(){var t=this.get("container");if(this.get("htmlContent"))t&&t.remove();else{var e=r(t,"g2-tooltip-title"),i=r(t,"g2-tooltip-list");e&&(e.innerHTML=""),i&&(i.innerHTML="")}},i.show=function(){var e=this.get("container");if(e){e.style.visibility="visible",e.style.display="block";var i=this.get("crosshairGroup");i&&i.show();var n=this.get("markerGroup");n&&n.show(),t.prototype.show.call(this),this.get("canvas").draw()}},i.hide=function(){var e=this.get("container");if(e){e.style.visibility="hidden",e.style.display="none";var i=this.get("crosshairGroup");i&&i.hide();var n=this.get("markerGroup");n&&n.hide(),t.prototype.hide.call(this),this.get("canvas").draw()}},i.destroy=function(){var e=this.get("container"),i=this.get("containerTpl");e&&!/^\#/.test(i)&&e.parentNode.removeChild(e);var n=this.get("crosshairGroup");n&&n.destroy();var r=this.get("markerGroup");r&&r.remove(),t.prototype.destroy.call(this)},i._addItem=function(t,e){var i=this.get("itemTpl"),n=o.substitute(i,o.mix({index:e},t)),a=s.createDom(n);s.modifyCSS(a,this.style["g2-tooltip-list-item"]);var l=r(a,"g2-tooltip-marker");l&&s.modifyCSS(l,this.style["g2-tooltip-marker"]);var u=r(a,"g2-tooltip-value");return u&&s.modifyCSS(u,this.style["g2-tooltip-value"]),a},i._getHtmlContent=function(){var t=this.get("htmlContent")(this.get("titleContent"),this.get("items"));return s.createDom(t)},i.setPosition=function(e,i,n){var r,a=this.get("container"),l=this.get("canvas").get("el"),u=s.getWidth(l),c=s.getHeight(l),h=a.clientWidth,f=a.clientHeight,g=e,p=i,d=this.get("prePosition")||{x:0,y:0};if(this.get("enterable"))r=[e,i-=a.clientHeight/2],d&&e-d.x>0?e-=a.clientWidth+1:e+=1;else if(this.get("position")){var v=a.clientWidth,m=a.clientHeight;e=(r=this._calcTooltipPosition(e,i,this.get("position"),v,m,n))[0],i=r[1]}else e=(r=this._constraintPositionInBoundary(e,i,h,f,u,c))[0],i=r[1];if(this.get("inPlot")){var y=this.get("plotRange");e=(r=this._constraintPositionInPlot(e,i,h,f,y,this.get("enterable")))[0],i=r[1]}var x=this.get("markerItems");o.isEmpty(x)||(g=x[0].x,p=x[0].y),this.set("prePosition",r);this.get("follow")&&(a.style.left=e+"px",a.style.top=i+"px");var b=this.get("crosshairGroup");if(b){var _=this.get("items");b.setPosition(g,p,_)}t.prototype.setPosition.call(this,e,i)},e}(a);t.exports=f},function(t,e,i){var n,r=i(14).FONT_FAMILY,a=(n={crosshairs:!1,offset:15},n["g2-tooltip"]={position:"absolute",visibility:"hidden",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:r,lineHeight:"20px",padding:"10px 10px 6px 10px"},n["g2-tooltip-title"]={marginBottom:"4px"},n["g2-tooltip-list"]={margin:0,listStyleType:"none",padding:0},n["g2-tooltip-list-item"]={marginBottom:"4px"},n["g2-tooltip-marker"]={width:"5px",height:"5px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},n["g2-tooltip-value"]={display:"inline-block",float:"right",marginLeft:"30px"},n);t.exports=a},function(t,e,i){var n=i(3),r=i(163),a=i(14).FONT_FAMILY,o=n.DomUtil,s=n.MatrixUtil,l=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return n.mix({},e,{boardStyle:{x:0,y:0,width:0,height:0,radius:3},valueStyle:{x:0,y:0,text:"",fontFamily:a,fontSize:12,stroke:"#fff",lineWidth:2,fill:"black",textBaseline:"top",textAlign:"start"},padding:{top:5,right:5,bottom:0,left:5},triangleWidth:10,triangleHeight:4})},i._init_=function(){var t=this.get("padding"),e=this.get("frontPlot").addGroup();this.set("container",e);var i=e.addShape("rect",{attrs:n.mix({},this.get("boardStyle"))});this.set("board",i);var r=e.addShape("path",{attrs:{fill:this.get("boardStyle").fill}});this.set("triangleShape",r);var a=e.addGroup();a.move(t.left,t.top);var o=a.addShape("text",{attrs:n.mix({},this.get("valueStyle"))});this.set("valueShape",o)},i.render=function(){this.clear();var t=this.get("board"),e=this.get("valueShape"),i=this.get("padding"),n=this.get("items")[0];e&&e.attr("text",n.value);var r=e?e.getBBox():{width:80,height:30},a=i.left+r.width+i.right,o=i.top+r.height+i.bottom;t.attr("width",a),t.attr("height",o),this._centerTriangleShape()},i.clear=function(){this.get("valueShape").attr("text","")},i.setPosition=function(t,e,i){var n=this.get("container"),r=this.get("plotRange"),a=n.getBBox(),l=a.width,u=a.height;if(t-=l/2,i&&("point"===i.name||"interval"===i.name)){e=i.getBBox().y}if(e-=u,this.get("inPlot"))t<r.tl.x?(t=r.tl.x,this._leftTriangleShape()):t+l/2>r.tr.x?(t=r.tr.x-l,this._rightTriangleShape()):this._centerTriangleShape(),e<r.tl.y?e=r.tl.y:e+u>r.bl.y&&(e=r.bl.y-u);else{var c=this.get("canvas").get("el"),h=o.getWidth(c),f=o.getHeight(c);t<0?(t=0,this._leftTriangleShape()):t+l/2>h?(t=h-l,this._rightTriangleShape()):this._centerTriangleShape(),e<0?e=0:e+u>f&&(e=f-u)}var g=s.transform([1,0,0,0,1,0,0,0,1],[["t",t,e]]);n.stopAnimate(),n.animate({matrix:g},this.get("animationDuration"))},i._centerTriangleShape=function(){var t=this.get("triangleShape"),e=this.get("triangleWidth"),i=this.get("triangleHeight"),n=this.get("board").getBBox(),r=n.width,a=n.height,o=[["M",0,0],["L",e,0],["L",e/2,i],["L",0,0],["Z"]];t.attr("path",o),t.move(r/2-e/2,a-1)},i._leftTriangleShape=function(){var t=this.get("triangleShape"),e=this.get("triangleWidth"),i=this.get("triangleHeight"),n=this.get("board").getBBox().height,r=[["M",0,0],["L",e,0],["L",0,i+3],["L",0,0],["Z"]];t.attr("path",r),t.move(0,n-3)},i._rightTriangleShape=function(){var t=this.get("triangleShape"),e=this.get("triangleWidth"),i=this.get("triangleHeight"),n=this.get("board").getBBox(),r=n.width,a=n.height,o=[["M",0,0],["L",e,0],["L",e,i+4],["L",0,0],["Z"]];t.attr("path",o),t.move(r-e-1,a-4)},e}(r);t.exports=l},function(t,e,i){var n=i(0).MatrixUtil.vec2;t.exports={catmullRom2bezier:function(t,e,i){for(var r=!!e,a=[],o=0,s=t.length;o<s;o+=2)a.push([t[o],t[o+1]]);for(var l,u,c,h=function(t,e,i,r){var a,o,s,l,u=[],c=!!r;if(c){s=[1/0,1/0],l=[-1/0,-1/0];for(var h=0,f=t.length;h<f;h++){var g=t[h];s=n.min([],s,g),l=n.max([],l,g)}s=n.min([],s,r[0]),l=n.max([],l,r[1])}for(var p=0,d=t.length;p<d;p++){var v=t[p];if(i)a=t[p?p-1:d-1],o=t[(p+1)%d];else{if(0===p||p===d-1){u.push(v);continue}a=t[p-1],o=t[p+1]}var m=[];m=n.sub(m,o,a),m=n.scale(m,m,e);var y=n.distance(v,a),x=n.distance(v,o),b=y+x;0!==b&&(y/=b,x/=b);var _=n.scale([],m,-y),M=n.scale([],m,x),S=n.add([],v,_),w=n.add([],v,M);c&&(S=n.max([],S,s),S=n.min([],S,l),w=n.max([],w,s),w=n.min([],w,l)),u.push(S),u.push(w)}return i&&u.push(u.shift()),u}(a,.4,r,i),f=a.length,g=[],p=0;p<f-1;p++)l=h[2*p],u=h[2*p+1],c=a[p+1],g.push(["C",l[0],l[1],u[0],u[1],c[0],c[1]]);return r&&(l=h[f],u=h[f+1],c=a[0],g.push(["C",l[0],l[1],u[0],u[1],c[0],c[1]])),g}}},function(t,e,i){function n(t,e,i){return{x:t.x+i*Math.cos(e),y:t.y+i*Math.sin(e)}}var r=i(0),a=i(164),o=i(22),s=i(7),l=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){return{label:s.thetaLabels}},i.getDefaultOffset=function(t){return t.offset||0},i.adjustItems=function(e){var i=e[0]?e[0].offset:0;return i>0&&(e=this._distribute(e,i)),t.prototype.adjustItems.call(this,e)},i._distribute=function(t,e){var i=this.get("coord"),n=i.getRadius(),r=this.get("label").labelHeight,a=i.getCenter(),o=2*(n+e)+2*r,s={start:i.start,end:i.end},l=this.get("geom");if(l){var u=l.get("view");s=u.getViewRegion()}var c=[[],[]];return t.forEach(function(t){t&&("right"===t.textAlign?c[0].push(t):c[1].push(t))}),c.forEach(function(t,e){var i=parseInt(o/r,10);t.length>i&&(t.sort(function(t,e){return e["..percent"]-t["..percent"]}),t.splice(i,t.length-i)),t.sort(function(t,e){return t.y-e.y}),function(t,e,i,n,r){var a,o=!0,s=i.start,l=i.end,u=Math.min(s.y,l.y),c=Math.abs(s.y-l.y),h=0,f=Number.MIN_VALUE,g=t.map(function(t){return t.y>h&&(h=t.y),t.y<f&&(f=t.y),{size:e,targets:[t.y-u]}});for(f-=u,h-u>c&&(c=h-u);o;)for(g.forEach(function(t){var e=(Math.min.apply(f,t.targets)+Math.max.apply(f,t.targets))/2;t.pos=Math.min(Math.max(f,e-t.size/2),c-t.size)}),o=!1,a=g.length;a--;)if(a>0){var p=g[a-1],d=g[a];p.pos+p.size>d.pos&&(p.size+=d.size,p.targets=p.targets.concat(d.targets),p.pos+p.size>c&&(p.pos=c-p.size),g.splice(a,1),o=!0)}a=0,g.forEach(function(i){var n=u+e/2;i.targets.forEach(function(){t[a].y=i.pos+n,n+=e,a++})}),t.forEach(function(t){var e=t.r*t.r,i=Math.pow(Math.abs(t.y-n.y),2);if(e<i)t.x=n.x;else{var a=Math.sqrt(e-i);t.x=r?n.x+a:n.x-a}})}(t,r,s,a,e)}),c[0].concat(c[1])},i.lineToLabel=function(t){var e=this.get("coord"),i=e.getRadius(),r=t.offset,a=t.orignAngle||t.angle,o=e.getCenter(),s=n(o,a,i+2.5),l=n(o,a,i+r/2);t.labelLine||(t.labelLine=this.get("label").labelLine||{}),t.labelLine.path=["M"+s.x,s.y+" Q"+l.x,l.y+" "+t.x,t.y].join(",")},i.getLabelRotate=function(t,e){var i;return e<0&&((i=180*t/Math.PI)>90&&(i-=180),i<-90&&(i+=180)),i/180*Math.PI},i.getLabelAlign=function(t){var e,i=this.get("coord").getCenter();e=t.angle<=Math.PI/2&&t.x>=i.x?"left":"right";return this.getDefaultOffset(t)<=0&&(e="right"===e?"left":"right"),e},i.getArcPoint=function(t){return t},i.getPointAngle=function(t){var e=this.get("coord"),i={x:r.isArray(t.x)?t.x[0]:t.x,y:t.y[0]};this.transLabelPoint(i);var n={x:r.isArray(t.x)?t.x[1]:t.x,y:t.y[1]};this.transLabelPoint(n);var a,s=o.getPointAngle(e,i);if(t.points&&t.points[0].y===t.points[1].y)a=s;else{var l=o.getPointAngle(e,n);s>=l&&(l+=2*Math.PI),a=s+(l-s)/2}return a},i.getCirclePoint=function(t,e){var i=this.get("coord"),r=i.getCenter(),a=i.getRadius()+e,o=n(r,t,a);return o.angle=t,o.r=a,o},e}(a);t.exports=l},function(t,e,i){var n=i(0),r=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);return e.prototype.setLabelPosition=function(t,e,i,r){n.isFunction(r)&&(r=r(t.text,e._origin,i));var a=this.get("coord"),o=a.isTransposed,s=a.convertPoint(e.points[0]),l=a.convertPoint(e.points[2]),u=(s.x-l.x)/2*(o?-1:1),c=(s.y-l.y)/2*(o?-1:1);switch(r){case"right":o?(t.x-=u,t.y+=c,t.textAlign=t.textAlign||"center"):(t.x-=u,t.y+=c,t.textAlign=t.textAlign||"left");break;case"left":o?(t.x-=u,t.y-=c,t.textAlign=t.textAlign||"center"):(t.x+=u,t.y+=c,t.textAlign=t.textAlign||"right");break;case"bottom":o?(t.x-=2*u,t.textAlign=t.textAlign||"left"):(t.y+=2*c,t.textAlign=t.textAlign||"center");break;case"middle":o?t.x-=u:t.y+=c,t.textAlign=t.textAlign||"center";break;case"top":t.textAlign=o?t.textAlign||"left":t.textAlign||"center"}},e}(i(65));t.exports=r},function(t,e,i){function n(t){return t.alias||t.field}var r=i(0),a=i(7).defaultColor,o={_getIntervalSize:function(t){var e=null,i=this.get("type"),n=this.get("coord");if(n.isRect&&("interval"===i||"schema"===i)){e=this.getSize(t._origin);var a=n.isTransposed?"y":"x";if(r.isArray(t[a])){e=e<Math.abs(t[a][1]-t[a][0])?null:e}}return e},_snapEqual:function(t,e,i){return t=i.translate(t),e=i.translate(e),i.isCategory?t===e:r.snapEqual(t,e)},_getScaleValueByPoint:function(t){var e=0,i=this.get("coord"),n=this.getXScale(),r=i.invert(t).x;return this.isInCircle()&&r>(1+n.rangeMax())/2&&(r=n.rangeMin()),e=n.invert(r),n.isCategory&&(e=n.translate(e)),e},_getOriginByPoint:function(t){var e=this.getXScale(),i=this.getYScale(),n=e.field,r=i.field,a=this.get("coord").invert(t),o=e.invert(a.x),s=i.invert(a.y),l={};return l[n]=o,l[r]=s,l},_getScale:function(t){var e=this.get("scales"),i=null;return r.each(e,function(e){if(e.field===t)return i=e,!1}),i},_getTipValueScale:function(){var t,e=this.getAttrsForLegend();r.each(e,function(e){var i=e.getScale(e.type);if(i.isLinear)return t=i,!1});var i=this.getXScale(),n=this.getYScale();return!t&&n&&"..y"===n.field?i:t||n||i},_getTipTitleScale:function(t){if(t)return this._getScale(t);var e,i=this.getAttr("position").getFields();return r.each(i,function(t){if(-1===t.indexOf(".."))return e=t,!1}),this._getScale(e)},_filterValue:function(t,e){var i=this.get("coord"),n=this.getYScale(),a=n.field,o=i.invert(e).y;o=n.invert(o);var s=t[t.length-1];return r.each(t,function(t){var e=t._origin;if(e[a][0]<=o&&e[a][1]>=o)return s=t,!1}),s},getXDistance:function(){var t=this.get("xDistance");if(!t){var e=this.getXScale();if(e.isCategory)t=1;else{var i=e.values,n=e.translate(i[0]),a=n;r.each(i,function(t){(t=e.translate(t))<n&&(n=t),t>a&&(a=t)});var o=i.length;t=(a-n)/(o-1)}this.set("xDistance",t)}return t},findPoint:function(t,e){var i=this,n=i.get("type"),a=i.getXScale(),o=i.getYScale(),s=a.field,l=o.field,u=null;if(r.indexOf(["heatmap","point"],n)>-1){var c=i.get("coord").invert(t),h=a.invert(c.x),f=o.invert(c.y),g=1/0;return r.each(e,function(t){var e=Math.pow(t._origin[s]-h,2)+Math.pow(t._origin[l]-f,2);e<g&&(g=e,u=t)}),u}var p=e[0],d=e[e.length-1];if(!p)return u;var v=i._getScaleValueByPoint(t),m=p._origin[s],y=p._origin[l],x=d._origin[s],b=o.isLinear&&r.isArray(y);if(r.isArray(m))r.each(e,function(t){var e=t._origin;if(a.translate(e[s][0])<=v&&a.translate(e[s][1])>=v){if(!b)return u=t,!1;r.isArray(u)||(u=[]),u.push(t)}}),r.isArray(u)&&(u=this._filterValue(u,t));else{var _;if(a.isLinear||"timeCat"===a.type){if((v>a.translate(x)||v<a.translate(m))&&(v>a.max||v<a.min))return null;for(var M,S=0,w=e.length-1;S<=w;){M=Math.floor((S+w)/2);var k=e[M]._origin[s];if(i._snapEqual(k,v,a))return e[M];a.translate(k)<=a.translate(v)?(S=M+1,d=e[M],_=e[M+1]):(0===w&&(d=e[0]),w=M-1)}}else r.each(e,function(t,n){var o=t._origin;if(i._snapEqual(o[s],v,a)){if(!b)return u=t,!1;r.isArray(u)||(u=[]),u.push(t)}else a.translate(o[s])<=v&&(d=t,_=e[n+1])}),r.isArray(u)&&(u=this._filterValue(u,t));d&&_&&Math.abs(a.translate(d._origin[s])-v)>Math.abs(a.translate(_._origin[s])-v)&&(d=_)}var C=i.getXDistance();return!u&&Math.abs(a.translate(d._origin[s])-v)<=C/2&&(u=d),u},getTipTitle:function(t,e){var i="",n=this._getTipTitleScale(e);if(n){var r=t[n.field];i=n.getText(r)}else if("heatmap"===this.get("type")){var a=this.getXScale(),o=this.getYScale();i="( "+a.getText(t[a.field])+", "+o.getText(t[o.field])+" )"}return i},getTipValue:function(t,e){var i,n=e.field,a=t.key;if(i=t[n],r.isArray(i)){var o=[];r.each(i,function(t){o.push(e.getText(t))}),i=o.join("-")}else i=e.getText(i,a);return i},getTipName:function(t){var e,i,a=this._getGroupScales();if(a.length&&r.each(a,function(t){return i=t,!1}),i){var o=i.field;e=i.getText(t[o])}else{e=n(this._getTipValueScale())}return e},getTipItems:function(t,e){function i(e,i,n){if(!r.isNil(i)&&""!==i){var o={title:c,point:t,name:e||c,value:i,color:t.color||a,marker:!0};o.size=l._getIntervalSize(t),f.push(r.mix({},o,n))}}var o,s,l=this,u=t._origin,c=l.getTipTitle(u,e),h=l.get("tooltipCfg"),f=[];if(h){var g=h.fields,p=h.cfg,d=[];if(r.each(g,function(t){d.push(u[t])}),p){r.isFunction(p)&&(p=p.apply(null,d));var v=r.mix({},{point:t,title:c,color:t.color||a,marker:!0},p);v.size=l._getIntervalSize(t),f.push(v)}else r.each(g,function(t){if(!r.isNil(u[t])){var e=l._getScale(t);o=n(e),s=e.getText(u[t]),i(o,s)}})}else{var m=l._getTipValueScale();r.isNil(u[m.field])||(s=l.getTipValue(u,m),i(o=l.getTipName(u),s))}return f},isShareTooltip:function(){var t,e=this.get("shareTooltip"),i=this.get("type"),n=this.get("view");if(t=n.get("parent")?n.get("parent").get("options"):n.get("options"),"interval"===i){var a=this.get("coord"),o=a.type;("theta"===o||"polar"===o&&a.isTransposed)&&(e=!1)}else this.getYScale()&&!r.inArray(["contour","point","polygon","edge"],i)||(e=!1);return t.tooltip&&r.isBoolean(t.tooltip.shared)&&(e=t.tooltip.shared),e}};t.exports=o},function(t,e,i){function n(t,e){if(!t)return!0;if(t.length!==e.length)return!0;var i=!1;return a.each(e,function(e,n){if(!function(t,e){if(a.isNil(t)||a.isNil(e))return!1;var i=t.get("origin"),n=e.get("origin");return a.isEqual(i,n)}(e,t[n]))return i=!0,!1}),i}function r(t,e){var i={};return a.each(t,function(t,n){var r=e.attr(n);a.isArray(r)&&(r=a.cloneDeep(r)),i[n]=r}),i}var a=i(0),o={_isAllowActive:function(){var t=this.get("allowActive");if(!a.isNil(t))return t;var e=this.get("view"),i=this.isShareTooltip();return!1===e.get("options").tooltip||!i},_onMouseenter:function(t){var e=t.shape,i=this.get("shapeContainer");e&&i.contain(e)&&this._isAllowActive()&&this.setShapesActived(e)},_onMouseleave:function(){var t=this.get("view").get("canvas");this.get("activeShapes")&&(this.clearActivedShapes(),t.draw())},_bindActiveAction:function(){var t=this.get("view"),e=this.get("type");t.on(e+":mouseenter",a.wrapBehavior(this,"_onMouseenter")),t.on(e+":mouseleave",a.wrapBehavior(this,"_onMouseleave"))},_offActiveAction:function(){var t=this.get("view"),e=this.get("type");t.off(e+":mouseenter",a.getWrapBehavior(this,"_onMouseenter")),t.off(e+":mouseleave",a.getWrapBehavior(this,"_onMouseleave"))},_setActiveShape:function(t){var e=this.get("activedOptions")||{},i=t.get("origin"),n=i.shape||this.getDefaultValue("shape");a.isArray(n)&&(n=n[0]);var o=this.get("shapeFactory"),s=a.mix({},t.attr(),{origin:i}),l=o.getActiveCfg(n,s);e.style&&a.mix(l,e.style);var u=r(l,t);t.setSilent("_originAttrs",u),e.animate?t.animate(l,300):t.attr(l),t.set("zIndex",1)},setShapesActived:function(t){var e=this;a.isArray(t)||(t=[t]);var i=e.get("activeShapes");if(n(i,t)){var r=e.get("view").get("canvas"),o=e.get("shapeContainer"),s=e.get("activedOptions");s&&s.highlight?(a.each(t,function(t){t.get("animating")&&t.stopAnimate()}),e.highlightShapes(t)):(i&&e.clearActivedShapes(),a.each(t,function(t){t.get("animating")&&t.stopAnimate(),t.get("visible")&&!t.get("selected")&&e._setActiveShape(t)})),e.set("activeShapes",t),o.sort(),r.draw()}},clearActivedShapes:function(){var t=this.get("shapeContainer"),e=this.get("activedOptions"),i=e&&e.animate;if(t&&!t.get("destroyed")){var n=this.get("activeShapes");a.each(n,function(t){if(!t.get("selected")){var e=t.get("_originAttrs");i?(t.stopAnimate(),t.animate(e,300)):t.attr(e),t.setZIndex(0),t.set("_originAttrs",null)}});if(this.get("preHighlightShapes")){var r=t.get("children");a.each(r,function(t){if(!t.get("selected")){var e=t.get("_originAttrs");e&&(i?(t.stopAnimate(),t.animate(e,300)):t.attr(e),t.setZIndex(0),t.set("_originAttrs",null))}})}t.get("children").sort(function(t,e){return t._INDEX-e._INDEX}),this.set("activeShapes",null),this.set("preHighlightShapes",null)}},getGroupShapesByPoint:function(t){var e=[];if(this.get("shapeContainer")){var i=this.getXScale().field,n=this.getShapes(),r=this._getOriginByPoint(t);a.each(n,function(t){var n=t.get("origin");if(t.get("visible")&&n){n._origin[i]===r[i]&&e.push(t)}})}return e},getSingleShapeByPoint:function(t){var e,i=this.get("shapeContainer"),n=i.get("canvas").get("pixelRatio");if(i&&(e=i.getShape(t.x*n,t.y*n)),e&&e.get("origin"))return e},highlightShapes:function(t,e){a.isArray(t)||(t=[t]);var i=this.get("activeShapes");if(n(i,t)){i&&this.clearActivedShapes();var o=this.getShapes(),s=this.get("activedOptions"),l=s&&s.animate,u=s&&s.style;a.each(o,function(i){var n={};i.stopAnimate(),-1!==a.indexOf(t,i)?(a.mix(n,u,e),i.setZIndex(1)):(a.mix(n,{fillOpacity:.3,opacity:.3}),i.setZIndex(0));var o=r(n,i);i.setSilent("_originAttrs",o),l?i.animate(n,300):i.attr(n)}),this.set("preHighlightShapes",t),this.set("activeShapes",t)}}};t.exports=o},function(t,e,i){function n(t,e){if(r.isNil(t)||r.isNil(e))return!1;var i=t.get("origin"),n=e.get("origin");return r.isEqual(i,n)}var r=i(0),a={_isAllowSelect:function(){var t=this.get("allowSelect");if(!r.isNil(t))return t;var e=this.get("type"),i=this.get("coord"),n=i&&i.type;return"interval"===e&&"theta"===n},_onClick:function(t){if(this._isAllowSelect()){this.clearActivedShapes();var e=t.shape,i=this.get("shapeContainer");e&&!e.get("animating")&&i.contain(e)&&this.setShapeSelected(e)}},_bindSelectedAction:function(){var t=this.get("view"),e=this.get("type");t.on(e+":click",r.wrapBehavior(this,"_onClick"))},_offSelectedAction:function(){var t=this.get("view"),e=this.get("type");t.off(e+":click",r.getWrapBehavior(this,"_onClick"))},_setShapeStatus:function(t,e){var i=this.get("view"),n=this.get("selectedOptions")||{},a=!1!==n.animate,o=i.get("canvas");t.set("selected",e);var s=t.get("origin");if(e){var l=s.shape||this.getDefaultValue("shape");r.isArray(l)&&(l=l[0]);var u=this.get("shapeFactory"),c=r.mix({geom:this,point:s},n),h=u.getSelectedCfg(l,c);r.mix(h,c.style),t.get("_originAttrs")||(t.get("animating")&&t.stopAnimate(),t.set("_originAttrs",function(t,e){var i={};return r.each(t,function(t,n){"transform"===n&&(n="matrix");var a=e.attr(n);r.isArray(a)&&(a=r.cloneDeep(a)),i[n]=a}),i}(h,t))),a?t.animate(h,300):(t.attr(h),o.draw())}else{var f=t.get("_originAttrs");t.set("_originAttrs",null),a?t.animate(f,300):(t.attr(f),o.draw())}},setShapeSelected:function(t){var e=this._getSelectedShapes(),i=this.get("selectedOptions")||{},a=!1!==i.cancelable;if("multiple"===i.mode)-1===r.indexOf(e,t)?(e.push(t),this._setShapeStatus(t,!0)):a&&(r.Array.remove(e,t),this._setShapeStatus(t,!1));else{var o=e[0];a&&(t=n(o,t)?null:t),n(o,t)||(o&&this._setShapeStatus(o,!1),t&&this._setShapeStatus(t,!0))}},clearSelected:function(){var t=this,e=t.get("shapeContainer");if(e&&!e.get("destroyed")){var i=t._getSelectedShapes();r.each(i,function(e){t._setShapeStatus(e,!1),e.set("_originAttrs",null)})}},setSelected:function(t){var e=this,i=e.getShapes();return r.each(i,function(i){var n=i.get("origin");n&&n._origin===t&&e.setShapeSelected(i)}),this},_getSelectedShapes:function(){var t=this.getShapes(),e=[];return r.each(t,function(t){t.get("selected")&&e.push(t)}),this.set("selectedShapes",e),e}};t.exports=a},function(t,e,i){var n=i(0);t.exports=function(t){return n.isArray(t)?t:n.isString(t)?t.split("*"):[t]}},function(t,e,i){var n=i(74),r=i(0),a=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]?)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/,o={LINEAR:"linear",CAT:"cat",TIME:"time"},s=function(){function t(t){this.defs={},this.viewTheme={scales:{}},this.filters={},r.assign(this,t)}var e=t.prototype;return e._getDef=function(t){var e=this.defs,i=this.viewTheme,n=null;return(i.scales[t]||e[t])&&(n=r.mix({},i.scales[t]),r.each(e[t],function(t,e){r.isNil(t)?delete n[e]:n[e]=t}),this.filters[t]&&(delete n.min,delete n.max)),n},e._getDefaultType=function(t,e){var i=o.LINEAR,n=r.Array.firstValue(e,t);return r.isArray(n)&&(n=n[0]),a.test(n)?i=o.TIME:r.isString(n)&&(i=o.CAT),i},e._getScaleCfg=function(t,e,i){var a={field:e},o=r.Array.values(i,e);if(a.values=o,!n.isCategory(t)&&"time"!==t){var s=r.Array.getRange(o);a.min=s.min,a.max=s.max,a.nice=!0}return"time"===t&&(a.nice=!1),a},e.createScale=function(t,e){var i,a=this._getDef(t),o=e||[],s=r.Array.firstValue(o,t);if(r.isNumber(t)||r.isNil(s)&&!a)i=n.identity({value:t,field:t.toString(),values:[t]});else{var l;a&&(l=a.type),l=l||this._getDefaultType(t,o);var u=this._getScaleCfg(l,t,o);a&&r.mix(u,a),i=n[l](u)}return i},t}();t.exports=s},function(t,e,i){var n=i(0),r=i(343),a=function(){function t(t){this.type="rect",this.actions=[],this.cfg={},n.mix(this,t),this.option=t||{}}var e=t.prototype;return e.reset=function(t){return this.actions=t.actions||[],this.type=t.type,this.cfg=t.cfg,this.option.actions=this.actions,this.option.type=this.type,this.option.cfg=this.cfg,this},e._execActions=function(t){var e=this.actions;n.each(e,function(e){var i=e[0];t[i](e[1],e[2])})},e.hasAction=function(t){var e=this.actions,i=!1;return n.each(e,function(e){if(t===e[0])return i=!0,!1}),i},e.createCoord=function(t,e){var i,a,o=this.type,s=this.cfg,l=n.mix({start:t,end:e},s);return"theta"===o?(i=r.Polar,this.hasAction("transpose")||this.transpose(),(a=new i(l)).type=o):a=new(i=r[n.upperFirst(o||"")]||r.Rect)(l),this._execActions(a),a},e.rotate=function(t){return t=t*Math.PI/180,this.actions.push(["rotate",t]),this},e.reflect=function(t){return this.actions.push(["reflect",t]),this},e.scale=function(t,e){return this.actions.push(["scale",t,e]),this},e.transpose=function(){return this.actions.push(["transpose"]),this},t}();t.exports=a},function(t,e,i){"use strict";var n=i(44);n.Cartesian=i(344),n.Rect=n.Cartesian,n.Polar=i(345),n.Helix=i(346),t.exports=n},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t,e,i){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=i(8),h=i(44),f=function(t){function e(t){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=r(this,u(e).call(this,t)))._init(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,h),o(e,[{key:"getDefaultCfg",value:function(){var t=l(u(e.prototype),"getDefaultCfg",this).call(this);return c({},t,{start:{x:0,y:0},end:{x:0,y:0},type:"cartesian",isRect:!0})}}]),o(e,[{key:"_init",value:function(){var t=this.start,e=this.end,i={start:t.x,end:e.x},n={start:t.y,end:e.y};this.x=i,this.y=n}},{key:"convertPoint",value:function(t){var e,i;return this.isTransposed?(e=t.y,i=t.x):(e=t.x,i=t.y),{x:this.convertDim(e,"x"),y:this.convertDim(i,"y")}}},{key:"invertPoint",value:function(t){var e=this.invertDim(t.x,"x"),i=this.invertDim(t.y,"y");return this.isTransposed?{x:i,y:e}:{x:e,y:i}}}]),e}();t.exports=f},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t,e,i){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=i(43),h=i(35),f=i(8),g=i(44),p=c.mat3,d=c.vec2,v=c.vec3,m=function(t){function e(t){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=r(this,u(e).call(this,t)))._init(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,g),o(e,[{key:"getDefaultCfg",value:function(){var t=l(u(e.prototype),"getDefaultCfg",this).call(this);return f({},t,{startAngle:-Math.PI/2,endAngle:3*Math.PI/2,innerRadius:0,type:"polar",isPolar:!0})}}]),o(e,[{key:"_init",value:function(){for(var t=this.radius,e=this.innerRadius,i=this.center,n=this.startAngle,r=this.endAngle;r<n;)r+=2*Math.PI;this.endAngle=r;var a,o,s=this.getOneBox(),l=s.maxX-s.minX,u=s.maxY-s.minY,c=Math.abs(s.minX)/l,h=Math.abs(s.minY)/u,f=this.width,g=this.height;g/u>f/l?(a=f/l,o={x:i.x-(.5-c)*f,y:i.y-(.5-h)*a*u}):(a=g/u,o={x:i.x-(.5-c)*a*l,y:i.y-(.5-h)*g}),t?t>0&&t<=1?t*=a:(t<=0||t>a)&&(t=a):t=a;var p={start:n,end:r},d={start:e*t,end:t};this.x=p,this.y=d,this.radius=t,this.circleCentre=o,this.center=o}},{key:"getCenter",value:function(){return this.circleCentre}},{key:"getOneBox",value:function(){var t=this.startAngle,e=this.endAngle;if(Math.abs(e-t)>=2*Math.PI)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var i=[0,Math.cos(t),Math.cos(e)],n=[0,Math.sin(t),Math.sin(e)],r=Math.min(t,e);r<Math.max(t,e);r+=Math.PI/18)i.push(Math.cos(r)),n.push(Math.sin(r));return{minX:Math.min.apply(Math,i),maxX:Math.max.apply(Math,i),minY:Math.min.apply(Math,n),maxY:Math.max.apply(Math,n)}}},{key:"getRadius",value:function(){return this.radius}},{key:"convertPoint",value:function(t){var e=this.getCenter(),i=this.isTransposed?t.y:t.x,n=this.isTransposed?t.x:t.y;return i=this.convertDim(i,"x"),n=this.convertDim(n,"y"),{x:e.x+Math.cos(i)*n,y:e.y+Math.sin(i)*n}}},{key:"invertPoint",value:function(t){var e=this.getCenter(),i=[t.x-e.x,t.y-e.y],n=this.x,r=[1,0,0,0,1,0,0,0,1];p.rotate(r,r,n.start);var a=[1,0,0];v.transformMat3(a,a,r),a=[a[0],a[1]];var o=d.angleTo(a,i,n.end<n.start);h(o,2*Math.PI)&&(o=0);var s=d.length(i),l=o/(n.end-n.start);l=n.end-n.start>0?l:-l;var u=this.invertDim(s,"y"),c={};return c.x=this.isTransposed?u:l,c.y=this.isTransposed?l:u,c}}]),e}();t.exports=m},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t,e,i){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=i(43),h=i(35),f=i(8),g=i(44),p=c.vec2,d=function(t){function e(t){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=r(this,u(e).call(this,t)))._init(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,g),o(e,[{key:"getDefaultCfg",value:function(){var t=l(u(e.prototype),"getDefaultCfg",this).call(this);return f({},t,{startAngle:1.25*Math.PI,endAngle:7.25*Math.PI,innerRadius:0,type:"helix",isHelix:!0})}}]),o(e,[{key:"_init",value:function(){var t=this.width,e=this.height,i=this.radius,n=this.innerRadius,r=this.startAngle,a=this.endAngle,o=(a-r)/(2*Math.PI)+1,s=Math.min(t,e)/2;i&&i>=0&&i<=1&&(s*=i);var l=Math.floor(s*(1-n)/o),u=l/(2*Math.PI),c={start:r,end:a},h={start:n*s,end:n*s+.99*l};this.a=u,this.d=l,this.x=c,this.y=h}},{key:"getCenter",value:function(){return this.center}},{key:"convertPoint",value:function(t){var e,i,n=this.a,r=this.center;this.isTransposed?(e=t.y,i=t.x):(e=t.x,i=t.y);var a=this.convertDim(e,"x"),o=n*a,s=this.convertDim(i,"y");return{x:r.x+Math.cos(a)*(o+s),y:r.y+Math.sin(a)*(o+s)}}},{key:"invertPoint",value:function(t){var e=this.center,i=this.a,n=this.d+this.y.start,r=p.subtract([],[t.x,t.y],[e.x,e.y]),a=p.angleTo(r,[1,0],!0),o=a*i;p.length(r)<o&&(o=p.length(r));var s=i*(a=2*Math.floor((p.length(r)-o)/n)*Math.PI+a),l=p.length(r)-s;l=h(l,0)?0:l;var u=this.invertDim(a,"x"),c=this.invertDim(l,"y");u=h(u,0)?0:u,c=h(c,0)?0:c;var f={};return f.x=this.isTransposed?c:u,f.y=this.isTransposed?u:c,f}}]),e}();t.exports=d},function(t,e,i){function n(t,e){return void 0===e&&(e=0),"middle"===t&&(e=.5),-1!==t.indexOf("%")&&(e=parseInt(t,10)/100),e}var r=i(0),a=i(21).Axis,o=r.MatrixUtil.vec2,s=function(){function t(t){this.visible=!0,this.canvas=null,this.container=null,this.coord=null,this.options=null,this.axes=[],r.mix(this,t)}var e=t.prototype;return e._isHide=function(t){var e=this.options;return!(!e||!1!==e[t])},e._getMiddleValue=function(t,e,i,n){if(0===t&&!n)return 0;if(1===t)return 1;var r=e[i+1].value;return n||1!==r?(t+r)/2:1},e._getLineRange=function(t,e,i,r){var a,o,s,l=e.field,u=this.options,c="";if(u[l]&&u[l].position&&(c=u[l].position),"x"===i){var h="top"===c?1:0;a={x:0,y:h=n(c,h)},o={x:1,y:h},s=!1}else{if(r){var f="left"===c?0:1;a={x:f=n(c,f),y:0},o={x:f,y:1}}else{var g="right"===c?1:0;a={x:g=n(c,g),y:0},o={x:g,y:1}}s=!0}return a=t.convert(a),o=t.convert(o),{start:a,end:o,isVertical:s}},e._getLineCfg=function(t,e,i,n){var r,a=this._getLineRange(t,e,i,n),o=a.isVertical,s=a.start,l=a.end,u=t.center;return t.isTransposed&&(o=!o),r=o&&s.x>u.x||!o&&s.y>u.y?1:-1,{isVertical:o,factor:r,start:s,end:l}},e._getCircleCfg=function(t){var e,i={},n=t.x,r=t.y,a=r.start>r.end;e=t.isTransposed?{x:a?0:1,y:0}:{x:0,y:a?0:1},e=t.convert(e);var s,l=t.circleCentre,u=[e.x-l.x,e.y-l.y],c=[1,0],h=(s=e.y>l.y?o.angle(u,c):-1*o.angle(u,c))+(n.end-n.start);return i.startAngle=s,i.endAngle=h,i.center=l,i.radius=Math.sqrt(Math.pow(e.x-l.x,2)+Math.pow(e.y-l.y,2)),i.inner=t.innerRadius||0,i},e._getRadiusCfg=function(t){var e,i,n=t.x.start<0?-1:1;return t.isTransposed?(e={x:0,y:0},i={x:1,y:0}):(e={x:0,y:0},i={x:0,y:1}),{factor:n,start:t.convert(e),end:t.convert(i)}},e._getAxisPosition=function(t,e,i,n){var r="",a=this.options;if(a[n]&&a[n].position)r=a[n].position;else{var o=t.type;t.isRect?"x"===e?r="bottom":"y"===e&&(r=i?"right":"left"):r="helix"===o?"helix":"x"===e?t.isTransposed?"radius":"circle":t.isTransposed?"circle":"radius"}return r},e._getAxisDefaultCfg=function(t,e,i,n){var a=this.viewTheme,o={},s=this.options,l=e.field;if(o=r.deepMix({},a.axis[n],o,s[l]),o.viewTheme=a,o.title){var u=r.isPlainObject(o.title)?o.title:{};u.text=u.text||e.alias||l,r.deepMix(o,{title:u})}return o.ticks=e.getTicks(),t.isPolar&&!e.isCategory&&"x"===i&&Math.abs(t.endAngle-t.startAngle)===2*Math.PI&&o.ticks.pop(),o.coord=t,o.label&&r.isNil(o.label.autoRotate)&&(o.label.autoRotate=!0),s.hasOwnProperty("xField")&&s.xField.hasOwnProperty("grid")&&"left"===o.position&&r.deepMix(o,s.xField),o},e._getAxisCfg=function(t,e,i,n,a,o){void 0===a&&(a="");var s=this,l=s._getAxisPosition(t,n,a,e.field),u=s._getAxisDefaultCfg(t,e,n,l);if(!r.isEmpty(u.grid)&&i){var c=[],h=[],f=function(t){var e=[];if(t.length>0){var i=(e=t.slice(0))[0],n=e[e.length-1];0!==i.value&&e.unshift({value:0}),1!==n.value&&e.push({value:1})}return e}(i.getTicks());if(f.length){var g=function(t,e,i){var n=[];return t.length<1?n:(t.length>=2&&e&&i&&n.push({text:"",tickValue:"",value:0}),0!==t[0].value&&n.push({text:"",tickValue:"",value:0}),1!==(n=n.concat(t))[n.length-1].value&&n.push({text:"",tickValue:"",value:1}),n)}(u.ticks,e.isLinear,"center"===u.grid.align);r.each(g,function(i,l){h.push(i.tickValue);var p=[],d=i.value;if("center"===u.grid.align&&(d=s._getMiddleValue(d,g,l,e.isLinear)),!r.isNil(d)){var v=t.x,m=t.y;r.each(f,function(e){var i="x"===n?d:e.value,r="x"===n?e.value:d,a=t.convert({x:i,y:r});if(t.isPolar){var o=t.circleCentre;m.start>m.end&&(r=1-r),a.flag=v.start>v.end?0:1,a.radius=Math.sqrt(Math.pow(a.x-o.x,2)+Math.pow(a.y-o.y,2))}p.push(a)}),c.push({_id:o+"-"+n+a+"-grid-"+i.tickValue,points:p})}})}u.grid.items=c,u.grid.tickValues=h}return u.type=e.type,u},e._getHelixCfg=function(t){for(var e={},i=t.a,n=t.startAngle,r=t.endAngle,a=[],o=0;o<=100;o++){var s=t.convert({x:o/100,y:0});a.push(s.x),a.push(s.y)}var l=t.convert({x:0,y:0});return e.a=i,e.startAngle=n,e.endAngle=r,e.crp=a,e.axisStart=l,e.center=t.center,e.inner=t.y.start,e},e._drawAxis=function(t,e,i,n,o,s,l){var u,c,h=this.container,f=this.canvas;"cartesian"===t.type?(u=a.Line,c=this._getLineCfg(t,e,n,l)):"helix"===t.type&&"x"===n?(u=a.Helix,c=this._getHelixCfg(t)):"x"===n?(u=a.Circle,c=this._getCircleCfg(t)):(u=a.Line,c=this._getRadiusCfg(t));var g=this._getAxisCfg(t,e,i,n,l,o);g=r.mix({},g,c),"y"===n&&s&&"circle"===s.get("type")&&(g.circle=s),g._id=o+"-"+n,r.isNil(l)||(g._id=o+"-"+n+l),r.mix(g,{canvas:f,group:h});var p=new u(g);return p.render(),this.axes.push(p),p},e.createAxis=function(t,e,i){var n=this,a=this.coord,o=a.type;if("theta"!==o&&("polar"!==o||!a.isTransposed)){var s;t&&!n._isHide(t.field)&&(s=n._drawAxis(a,t,e[0],"x",i)),r.isEmpty(e)||"helix"===o||r.each(e,function(e,r){n._isHide(e.field)||n._drawAxis(a,e,t,"y",i,s,r)})}},e.changeVisible=function(t){var e=this.axes;r.each(e,function(e){e.set("visible",t)})},e.clear=function(){var t=this.axes;r.each(t,function(t){t.clear()}),this.axes=[]},t}();t.exports=s},function(t,e,i){var n=i(0),r=i(349),a=function(){function t(t){this.guides=[],this.options=[],this.xScales=null,this.yScales=null,this.view=null,this.viewTheme=null,this.frontGroup=null,this.backGroup=null,n.mix(this,t)}var e=t.prototype;return e._creatGuides=function(){var t=this,e=this.options,i=this.xScales,a=this.yScales,o=this.view,s=this.viewTheme;return this.backContainer&&o&&(this.backGroup=this.backContainer.addGroup({viewId:o.get("_id")})),this.frontContainer&&o&&(this.frontGroup=this.frontContainer.addGroup({viewId:o.get("_id")})),e.forEach(function(e){var o=e.type,l=n.deepMix({xScales:i,yScales:a,viewTheme:s},s?s.guide[o]:{},e);o=n.upperFirst(o);var u=new r[o](l);t.guides.push(u)}),t.guides},e.line=function(t){return void 0===t&&(t={}),this.options.push(n.mix({type:"line"},t)),this},e.arc=function(t){return void 0===t&&(t={}),this.options.push(n.mix({type:"arc"},t)),this},e.text=function(t){return void 0===t&&(t={}),this.options.push(n.mix({type:"text"},t)),this},e.image=function(t){return void 0===t&&(t={}),this.options.push(n.mix({type:"image"},t)),this},e.region=function(t){return void 0===t&&(t={}),this.options.push(n.mix({type:"region"},t)),this},e.regionFilter=function(t){return void 0===t&&(t={}),this.options.push(n.mix({type:"regionFilter"},t)),this},e.dataMarker=function(t){return void 0===t&&(t={}),this.options.push(n.mix({type:"dataMarker"},t)),this},e.dataRegion=function(t){return void 0===t&&(t={}),this.options.push(n.mix({type:"dataRegion"},t)),this},e.html=function(t){return void 0===t&&(t={}),this.options.push(n.mix({type:"html"},t)),this},e.render=function(t){var e=this,i=e.view,r=i&&i.get("data"),a=e._creatGuides();n.each(a,function(n){var a;a=n.get("top")?e.frontGroup||e.frontContainer:e.backGroup||e.backContainer,n.render(t,a,r,i)})},e.clear=function(){this.options=[],this.reset()},e.changeVisible=function(t){var e=this.guides;n.each(e,function(e){e.changeVisible(t)})},e.reset=function(){var t=this.guides;n.each(t,function(t){t.clear()}),this.guides=[],this.backGroup&&this.backGroup.remove(),this.frontGroup&&this.frontGroup.remove()},t}();t.exports=a},function(t,e,i){var n=i(21).Guide,r=i(350);n.RegionFilter=r,t.exports=n},function(t,e,i){var n=i(0),r=i(15),a=i(25).Path,o=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return n.mix({},e,{name:"regionFilter",zIndex:1,top:!0,start:null,end:null,color:null,apply:null,style:{opacity:1}})},i.render=function(t,e,i,n){var r=this,a=e.addGroup();a.name="guide-region-filter",n.once("afterpaint",function(){if(!a.get("destroyed")){r._drawShapes(n,a);var e=r._drawClip(t);a.attr({clip:e}),r.set("clip",e),r.get("appendInfo")&&a.setSilent("appendInfo",r.get("appendInfo")),r.set("el",a)}})},i._drawShapes=function(t,e){var i=this,r=[];return t.getAllGeoms().map(function(t){var a=t.getShapes(),o=t.get("type");return i._geomFilter(o)&&a.map(function(t){var a=t.type,o=n.cloneDeep(t.attr());i._adjustDisplay(o);var s=e.addShape(a,{attrs:o});return r.push(s),t}),t}),r},i._drawClip=function(t){var e=this.parsePoint(t,this.get("start")),i=this.parsePoint(t,this.get("end")),n=[["M",e.x,e.y],["L",i.x,e.y],["L",i.x,i.y],["L",e.x,i.y],["z"]];return new a({attrs:{path:n,opacity:1}})},i._adjustDisplay=function(t){var e=this.get("color");t.fill&&(t.fill=t.fillStyle=e),t.stroke=t.strokeStyle=e},i._geomFilter=function(t){var e=this.get("apply");return!e||n.contains(e,t)},i.clear=function(){t.prototype.clear.call(this);var e=this.get("clip");e&&e.remove()},e}(r);t.exports=o},function(t,e,i){var n=i(0),r=i(21).Legend,a=i(352),o=i(18),s=i(166),l=i(168),u=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,c=["cross","tick","plus","hyphen","line","hollowCircle","hollowSquare","hollowDiamond","hollowTriangle","hollowTriangleDown","hollowHexagon","hollowBowtie"],h=function(){function t(t){this.options={},n.mix(this,t),this.clear();var e=this.chart;this.container=e.get("frontPlot"),this.plotRange=e.get("plotRange")}var e=t.prototype;return e.clear=function(){var t=this.legends;this.backRange=null,n.each(t,function(t){n.each(t,function(t){t.destroy()})}),this.legends={}},e.getBackRange=function(){var t=this.backRange;if(!t){var e=this.chart.get("backPlot");t=s(e,l(this.chart.get("plotRange")));var i=this.plotRange;t.maxX-t.minX<i.br.x-i.tl.x&&t.maxY-t.minY<i.br.y-i.tl.y&&(t={minX:i.tl.x,minY:i.tl.y,maxX:i.br.x,maxY:i.br.y}),this.backRange=t}return t},e._isFieldInView=function(t,e,i){var r=!1,a=i.get("scales")[t];return a&&a.values&&(r=n.inArray(a.values,e)),r},e._bindClickEvent=function(t,e,i){var r=this,a=r.chart,o=a.get("views"),s=e.field,l=r.options;t.on("itemclick",function(e){if(l.onClick&&!0!==l.defaultClickHandlerEnabled)l.onClick(e);else{var u=e.item,c=e.checked,h="single"===t.get("selectedMode"),f=u.dataValue;c?(n.Array.remove(i,f),r._isFieldInView(s,f,a)&&a.filter(s,function(t){return h?t===f:!n.inArray(i,t)}),n.each(o,function(t){r._isFieldInView(s,f,t)&&t.filter(s,function(t){return h?t===f:!n.inArray(i,t)})})):h||(i.push(f),r._isFieldInView(s,f,a)&&a.filter(s,function(t){return!n.inArray(i,t)}),n.each(o,function(t){r._isFieldInView(s,f,t)&&t.filter(s,function(t){return!n.inArray(i,t)})})),l.onClick&&l.onClick(e),a.set("keepLegend",!0),a.set("keepPadding",!0),a.repaint(),a.set("keepPadding",!1),a.set("keepLegend",!1)}})},e._bindClickEventForMix=function(t){var e=this.chart.getAllGeoms();t.on("itemclick",function(t){var i=t.item.field;t.checked?n.each(e,function(t){t.getYScale().field===i&&t.show()}):n.each(e,function(t){t.getYScale().field===i&&t.hide()})})},e._filterLabels=function(t,e,i){if(t.get("gLabel"))t.get("gLabel").set("visible",i);else{var r=e.get("labelCfg");if(r&&r.fields&&r.fields.length>0){var a=e.getXScale(),o=e.getYScale(),s=a.field,l=o.field,u=t.get("origin")._origin,c=e.get("labelContainer").get("labelsGroup").get("children");n.each(c,function(e){var n=e.get("origin")||[];n[s]===u[s]&&n[l]===u[l]&&(e.set("visible",i),t.set("gLabel",e))})}}},e._bindFilterEvent=function(t,e){var i=this,r=this.chart,a=e.field;t.on("itemfilter",function(t){var e=t.range;r.filterShape(function(t,r,o){if(!n.isNil(t[a])){var s=t[a]>=e[0]&&t[a]<=e[1];return i._filterLabels(r,o,s),s}return!0});for(var o=r.getAllGeoms()||[],s=function(t){var i=o[t];"heatmap"===i.get("type")&&u(function(){i.drawWithRange(e)})},l=0;l<o.length;l++)s(l)})},e._getShapeData=function(t){var e=t.get("origin");return n.isArray(e)&&(e=e[0]),e._origin},e._bindHoverEvent=function(t,e){var i=this,r=i.chart,a=r.getAllGeoms(),o=i.options,s=r.get("canvas");t.on("itemhover",function(t){var r=t.item.value,l=i.pre;if(l){if(l===r)return}else n.each(a,function(a){var l=a.get("shapeContainer"),u=a.getShapes(),c=[];if(e){var h=a.get("scales")[e];n.each(u,function(t){var a=i._getShapeData(t);a&&function(t,e,i){return!n.isNil(i)&&(t=i.translate(t),e=i.translate(e),i.isCategory?t===e:Math.abs(t-e)<=1)}(a[e],r,h)&&c.push(t)})}else a.getYScale().field===r&&(c=u);n.isEmpty(c)||(t.shapes=c,t.geom=a,o.onHover?(o.onHover(t),l.sort(),s.draw()):a.setShapesActived(c))}),i.pre=r}),t.on("itemunhover",function(t){i.pre=null,o.onUnhover&&o.onUnhover(t),n.each(a,function(t){t.get("activeShapes")&&(t.clearActivedShapes(),s.draw())})})},e._isFiltered=function(t,e,i){if(!t.isCategory)return!0;var r=!0;return i=t.invert(i),n.each(e,function(e){if(t.getText(e)===t.getText(i))return r=!1,!1}),r},e._alignLegend=function(t,e,i,n){var r=this.viewTheme,a=this.container.get("canvas"),o=a.get("width"),s=a.get("height"),l=this.totalRegion,u=this.plotRange,c=this.getBackRange(),h=t.get("offset")[0]||0,f=t.get("offset")[1]||0,g=t.getHeight(),p=t.getWidth(),d=r.legend.margin,v=r.legend.legendMargin,m=this.legends[n].length,y=n.split("-"),x=0,b=0,_=m>1?l:i;if("left"===y[0]||"right"===y[0])s=u.br.y,x=this._getXAlign(y[0],o,i,c,p,d),b=e?(e.get("y")||e.get("group").get("y"))+e.getHeight()+v:this._getYAlignVertical(y[1],s,_,c,0,d,a.get("height"));else if("top"===y[0]||"bottom"===y[0])if(b=this._getYAlignHorizontal(y[0],s,i,c,g,d),e){var M=e.getWidth();x=(e.get("x")||e.get("group").get("x"))+M+v}else x=this._getXAlign(y[1],o,_,c,0,d),"right"===y[1]&&(x=u.br.x-_.totalWidth);t.move(x+h,b+f)},e._getXAlign=function(t,e,i,n,r,a){var o="left"===t?n.minX-r-a[3]:n.maxX+a[1];return"center"===t&&(o=(e-i.totalWidth)/2),o},e._getYAlignHorizontal=function(t,e,i,n,r,a){return"top"===t?n.minY-r-a[0]:n.maxY+a[2]},e._getYAlignVertical=function(t,e,i,n,r,a,o){var s="top"===t?n.minY-r-a[0]:e-i.totalHeight;return"center"===t&&(s=(o-i.totalHeight)/2),s},e._getSubRegion=function(t){var e=0,i=0,r=0,a=0;return n.each(t,function(t){var n=t.getWidth(),o=t.getHeight();e<n&&(e=n),r+=n,i<o&&(i=o),a+=o}),{maxWidth:e,totalWidth:r,maxHeight:i,totalHeight:a}},e._getRegion=function(){var t=this,e=t.viewTheme,i=t.legends,r=e.legend.legendMargin,a=[],o=0,s=0;return n.each(i,function(e){var i=t._getSubRegion(e);a.push(i),o+=i.totalWidth+r,s+=i.totalHeight+r}),{totalWidth:o,totalHeight:s,subs:a}},e._addCategoryLegend=function(t,e,i,s,l){var u=this,c=t.field,h=u.options,f=h[c];f&&(h=f);var g=u.legends;g[l]=g[l]||[];var p=u.container,d=[],v=t.getTicks(),m=!0,y=i.get("shapeType")||"point",x=i.getDefaultValue("shape")||"circle";h[c]&&h[c].marker?(x=h[c].marker,y="point",m=!1):h.marker&&(x=h.marker,y="point",m=!1);var b=u.chart,_=u.viewTheme,M=b.get("canvas"),S=u.plotRange,w=l.split("-"),k="right"===w[0]||"left"===w[0]?S.bl.y-S.tr.y:M.get("width");n.each(v,function(e){var r=e.text,a=e.value,l=t.invert(a),c={isInCircle:i.isInCircle()},h=!s||u._isFiltered(t,s,a),f=i.getAttr("color"),g=i.getAttr("shape");if(f)if(f.callback&&f.callback.length>1){var p=Array(f.callback.length-1).fill("");c.color=f.mapping.apply(f,[l].concat(p)).join("")||_.defaultColor}else c.color=f.mapping(l).join("")||_.defaultColor;if(m&&g)if(g.callback&&g.callback.length>1){var v=Array(g.callback.length-1).fill("");x=g.mapping.apply(g,[l].concat(v)).join("")}else x=g.mapping(l).join("");var b=o.getShapeFactory(y).getMarkerCfg(x,c);n.isFunction(x)&&(b.symbol=x),d.push({value:r,dataValue:l,checked:h,marker:b})});var C=n.deepMix({},_.legend[w[0]],h[c]||h,{viewId:b.get("_id"),maxLength:k,items:d,container:p,position:[0,0]});C.title&&n.deepMix(C,{title:{text:t.alias||t.field}});var A;if(u._isTailLegend(h,i))C.chart=u.chart,C.geom=i,A=new a(C);else if(h.useHtml){var T=p.get("canvas").get("el");if(p=h.container,n.isString(p)&&/^\#/.test(p)){var P=p.replace("#","");p=document.getElementById(P)}p||(p=T.parentNode),C.container=p,void 0===C.legendStyle&&(C.legendStyle={}),C.legendStyle.CONTAINER_CLASS={position:"absolute",overflow:"auto","z-index":""===T.style.zIndex?1:parseInt(T.style.zIndex,10)+1},h.flipPage?(C.legendStyle.CONTAINER_CLASS.height="right"===w[0]||"left"===w[0]?k+"px":"auto",C.legendStyle.CONTAINER_CLASS.width="right"!==w[0]&&"left"!==w[0]?k+"px":"auto",A=new r.CatPageHtml(C)):A=new r.CatHtml(C)}else A=new r.Category(C);return u._bindClickEvent(A,t,s),g[l].push(A),A},e._bindChartMove=function(t){var e=this.chart,i=this.legends;e.on("plotmove",function(e){var r=!1;if(e.target){var a=e.target.get("origin");if(a){var o=a._origin||a[0]._origin,s=t.field;if(o){var l=o[s];n.each(i,function(t){n.each(t,function(t){r=!0,!t.destroyed&&t.activate(l)})})}}}r||n.each(i,function(t){n.each(t,function(t){!t.destroyed&&t.deactivate()})})})},e._addContinuousLegend=function(t,e,i){var a=this.legends;a[i]=a[i]||[];var o,s,l,u=this.container,c=t.field,h=t.getTicks(),f=[],g=this.viewTheme;n.each(h,function(i){var n=i.value,r=t.invert(n),a=e.mapping(r).join("");f.push({value:i.tickValue,attrValue:a,color:a,scaleValue:n}),0===n&&(s=!0),1===n&&(l=!0)}),s||f.push({value:t.min,attrValue:e.mapping(0).join(""),color:e.mapping(0).join(""),scaleValue:0}),l||f.push({value:t.max,attrValue:e.mapping(1).join(""),color:e.mapping(1).join(""),scaleValue:1});var p=this.options,d=i.split("-"),v=g.legend[d[0]];(p&&!1===p.slidable||p[c]&&!1===p[c].slidable)&&(v=n.mix({},v,g.legend.gradient));var m=n.deepMix({},v,p[c]||p,{items:f,attr:e,formatter:t.formatter,container:u,position:[0,0]});if(m.title&&n.deepMix(m,{title:{text:t.alias||t.field}}),"color"===e.type)o=new r.Color(m);else{if("size"!==e.type)return;o=p&&"circle"===p.sizeType?new r.CircleSize(m):new r.Size(m)}return this._bindFilterEvent(o,t),a[i].push(o),o},e._isTailLegend=function(t,e){if(t.hasOwnProperty("attachLast")&&t.attachLast){var i=e.get("type");if("line"===i||"lineStack"===i||"area"===i||"areaStack"===i)return!0}return!1},e._adjustPosition=function(t,e){var i;if(e)i="right-top";else if(n.isArray(t))i=String(t[0])+"-"+String(t[1]);else{var r=t.split("-");1===r.length?("left"===r[0]&&(i="left-bottom"),"right"===r[0]&&(i="right-bottom"),"top"===r[0]&&(i="top-center"),"bottom"===r[0]&&(i="bottom-center")):i=t}return i},e.addLegend=function(t,e,i,n){var r=this.options,a=t.field,o=r[a],s=this.viewTheme;if(!1===o)return null;if(o&&o.custom)this.addCustomLegend(a);else{var l=r.position||s.defaultLegendPosition;l=this._adjustPosition(l,this._isTailLegend(r,i)),o&&o.position&&(l=this._adjustPosition(o.position,this._isTailLegend(o,i)));var u;(u=t.isLinear?this._addContinuousLegend(t,e,l):this._addCategoryLegend(t,e,i,n,l))&&(this._bindHoverEvent(u,a),r.reactive&&this._bindChartMove(t))}},e.addCustomLegend=function(t){var e=this.chart,i=this.viewTheme,a=this.container,o=this.options;t&&(o=o[t]);var s=o.position||i.defaultLegendPosition;s=this._adjustPosition(s);var l=this.legends;l[s]=l[s]||[];var u=o.items;if(u){var h=e.getAllGeoms();n.each(u,function(t){var e=function(t,e){var i;return n.each(t,function(t){t.get("visible")&&t.getYScale().field===e&&(i=t)}),i}(h,t.value);n.isPlainObject(t.marker)?t.marker.radius=t.marker.radius||4.5:(t.marker={symbol:t.marker||"circle",radius:4.5},-1!==n.indexOf(c,t.marker.symbol)?t.marker.stroke=t.fill:t.marker.fill=t.fill);var i=t.marker.symbol;n.isString(i)&&-1!==i.indexOf("hollow")&&(t.marker.symbol=n.lowerFirst(i.substr(6))),t.checked=!!n.isNil(t.checked)||t.checked,t.geom=e});var f,g=e.get("canvas"),p=this.plotRange,d=s.split("-"),v="right"===d[0]||"left"===d[0]?p.bl.y-p.tr.y:g.get("width"),m=n.deepMix({},i.legend[d[0]],o,{maxLength:v,items:u,container:a,position:[0,0]});if(o.useHtml){var y=o.container;if(/^\#/.test(a)){var x=y.replace("#","");y=document.getElementById(x)}else y||(y=a.get("canvas").get("el").parentNode);m.container=y,void 0===m.legendStyle&&(m.legendStyle={}),m.legendStyle.CONTAINER_CLASS||(m.legendStyle.CONTAINER_CLASS={height:"right"===d[0]||"left"===d[0]?v+"px":"auto",width:"right"!==d[0]&&"left"!==d[0]?v+"px":"auto",position:"absolute",overflow:"auto"}),f=o.flipPage?new r.CatPageHtml(m):new r.CatHtml(m)}else f=new r.Category(m);return l[s].push(f),f.on("itemclick",function(t){o.onClick&&o.onClick(t)}),this._bindHoverEvent(f),f}},e.addMixedLegend=function(t,e){var i=[];n.each(t,function(t){var r=t.alias||t.field;n.each(e,function(e){if(e.getYScale()===t&&t.values&&t.values.length>0){var n=e.get("shapeType")||"point",a=e.getDefaultValue("shape")||"circle",s=o.getShapeFactory(n),l={color:e.getDefaultValue("color")},u=s.getMarkerCfg(a,l),c={value:r,marker:u,field:t.field};i.push(c)}})});var r={custom:!0,items:i};this.options=n.deepMix({},r,this.options);var a=this.addCustomLegend();this._bindClickEventForMix(a)},e.alignLegends=function(){var t=this,e=t.legends,i=t._getRegion(e);t.totalRegion=i;var r=0;return n.each(e,function(e,a){var o=i.subs[r];n.each(e,function(i,n){var r=e[n-1];i.get("useHtml")&&!i.get("autoPosition")||t._alignLegend(i,r,o,a)}),r++}),this},t}();t.exports=h},function(t,e,i){var n=i(0),r=i(21),a=i(7),o=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return n.mix({},e,{type:"tail-legend",layout:"vertical",autoLayout:!0})},i._addItem=function(t){var e=this.get("itemsGroup"),i=this._getNextX(),r=this.get("unCheckColor"),a=e.addGroup({x:0,y:0,value:t.value,scaleValue:t.scaleValue,checked:t.checked});a.translate(i,0),a.set("viewId",e.get("viewId"));var o=this.get("textStyle"),s=this.get("_wordSpaceing"),l=0;if(t.marker){var u=n.mix({},t.marker,{x:t.marker.radius,y:0});t.checked||(u.fill&&(u.fill=r),u.stroke&&(u.stroke=r));var c=a.addShape("marker",{type:"marker",attrs:u});c.attr("cursor","pointer"),c.name="legend-marker",l+=c.getBBox().width+s}var h=n.mix({},o,{x:l,y:0,text:this._formatItemValue(t.value)});t.checked||n.mix(h,{fill:r});var f=a.addShape("text",{attrs:h});f.attr("cursor","pointer"),f.name="legend-text",this.get("appendInfo")&&f.setSilent("appendInfo",this.get("appendInfo"));var g=a.getBBox(),p=this.get("itemWidth"),d=a.addShape("rect",{attrs:{x:i,y:0-g.height/2,fill:"#fff",fillOpacity:0,width:p||g.width,height:g.height}});return d.attr("cursor","pointer"),d.setSilent("origin",t),d.name="legend-item",this.get("appendInfo")&&d.setSilent("appendInfo",this.get("appendInfo")),a.name="legendGroup",a},i._adjust=function(){if(this.get("geom")){this.get("group").attr("matrix")[7]=0;var t=this.get("geom").get("dataArray"),e=this.get("itemsGroup").get("children"),i=0;n.each(e,function(e){var r=t[i],a=r[r.length-1].y;n.isArray(a)&&(a=a[1]);var o=e.getBBox().height,s=e.get("x"),l=a-o/2;e.translate(s,l),i++}),this.get("autoLayout")&&this._antiCollision(e)}},i.render=function(){var e=this;t.prototype.render.call(this);this.get("chart").once("afterpaint",function(){e._adjust()})},i._getPreviousY=function(t){return t.attr("matrix")[7]+t.getBBox().height},i._adjustDenote=function(t,e,i){var n=2*-a.legend.legendMargin;t.addShape("path",{attrs:{path:"M-2,"+e+"L"+n+","+(i+3),lineWidth:1,lineDash:[2,2],stroke:"#999999"}})},i._antiCollision=function(t){if(void 0===t&&(t=[]),t.length){var e=this;t.sort(function(t,e){return t.attr("matrix")[7]-e.attr("matrix")[7]});var i=!0,n=e.get("chart").get("plotRange"),r=n.tl.y,a=Math.abs(r-n.bl.y),o=t[0].getBBox().height,s=Number.MIN_VALUE,l=0,u=t.map(function(t){var e=t.attr("matrix")[7];return e>l&&(l=e),e<s&&(s=e),{size:t.getBBox().height,targets:[e-r]}});s-=r;for(var c=0;i;){for(var h=0;h<u.length;h++){var f=u[h],g=(Math.min.apply(s,f.targets)+Math.max.apply(s,f.targets))/2;f.pos=Math.min(Math.max(s,g-f.size/2),a-f.size)}for(i=!1,c=u.length;c--;)if(c>0){var p=u[c-1],d=u[c];p.pos+p.size>d.pos&&(p.size+=d.size,p.targets=p.targets.concat(d.targets),u.splice(c,1),i=!0)}}c=0;var v=this.get("itemsGroup").addGroup();u.forEach(function(i){var n=r+o;i.targets.forEach(function(){var r=t[c].attr("matrix")[7],a=i.pos+n-o/2;Math.abs(r-a)>o/2&&e._adjustDenote(v,a,r-e.get("group").attr("matrix")[7]/2),t[c].translate(0,-r),t[c].translate(0,a),n+=o,c++})})}},e}(r.Legend.Category);t.exports=o},function(t,e,i){function n(t,e){if(!t)return!1;return!!t.className&&-1!==(a.isNil(t.className.baseVal)?t.className:t.className.baseVal).indexOf(e)}function r(t){var e=[];return a.each(t,function(t){var i=function(t,e){var i=-1;return a.each(t,function(t,n){var r=!0;for(var o in e)if(e.hasOwnProperty(o)&&-1===h.indexOf(o)&&!a.isObject(e[o])&&e[o]!==t[o]){r=!1;break}if(r)return i=n,!1}),i}(e,t);-1===i?e.push(t):e[i]=t}),e}var a=i(0),o=i(18),s=i(21).Tooltip,l=a.MatrixUtil.vec2,u=["line","area","path","areaStack"],c=["line","area"],h=["marker","showMarker"],f=function(){function t(t){a.assign(this,t),this.timeStamp=0}var e=t.prototype;return e._normalizeEvent=function(t){var e=this.chart,i=this._getCanvas(),n=i.getPointByClient(t.clientX,t.clientY),r=i.get("pixelRatio");n.x=n.x/r,n.y=n.y/r;var a=e.getViewsByPoint(n);return n.views=a,n},e._getCanvas=function(){return this.chart.get("canvas")},e._getTriggerEvent=function(){var t,e=this.options.triggerOn;return e&&"mousemove"!==e?"click"===e?t="plotclick":"none"===e&&(t=null):t="plotmove",t},e._getDefaultTooltipCfg=function(){var t=this.chart,e=this.viewTheme,i=this.options,n=a.mix({},e.tooltip),r=t.getAllGeoms().filter(function(t){return t.get("visible")}),o=[];a.each(r,function(t){var e=t.get("type"),i=t.get("adjusts"),n=!1;i&&a.each(i,function(t){if("symmetric"===t.type||"Symmetric"===t.type)return n=!0,!1}),-1!==a.indexOf(o,e)||n||o.push(e)});var s,l=!(!r.length||!r[0].get("coord"))&&r[0].get("coord").isTransposed;if(r.length&&r[0].get("coord")&&"cartesian"===r[0].get("coord").type)if("interval"===o[0]&&!1!==i.shared){var u=a.mix({},e.tooltipCrosshairsRect);u.isTransposed=l,s={zIndex:0,crosshairs:u}}else if(a.indexOf(c,o[0])>-1){var h=a.mix({},e.tooltipCrosshairsLine);h.isTransposed=l,s={crosshairs:h}}return a.mix(n,s,{})},e._bindEvent=function(){var t=this.chart,e=this._getTriggerEvent();e&&(t.on(e,a.wrapBehavior(this,"onMouseMove")),t.on("plotleave",a.wrapBehavior(this,"onMouseOut")))},e._offEvent=function(){var t=this.chart,e=this._getTriggerEvent();e&&(t.off(e,a.getWrapBehavior(this,"onMouseMove")),t.off("plotleave",a.getWrapBehavior(this,"onMouseOut")))},e._setTooltip=function(t,e,i,n){var o=this.tooltip,s=this.prePoint;if(!s||s.x!==t.x||s.y!==t.y){e=r(e),this.prePoint=t;var l=this.chart,u=this.viewTheme,c=a.isArray(t.x)?t.x[t.x.length-1]:t.x,h=a.isArray(t.y)?t.y[t.y.length-1]:t.y;o.get("visible")||l.emit("tooltip:show",{x:c,y:h,tooltip:o});var f=e[0],g=f.title||f.name;o.isContentChange(g,e)&&(l.emit("tooltip:change",{tooltip:o,x:c,y:h,items:e}),g=e[0].title||e[0].name,o.setContent(g,e),a.isEmpty(i)?(o.clearMarkers(),o.set("markerItems",[])):!0===this.options.hideMarkers?o.set("markerItems",i):o.setMarkers(i,u.tooltipMarker));n===this._getCanvas()&&"mini"===o.get("type")?o.hide():(o.setPosition(c,h,n),o.show())}},e.hideTooltip=function(){var t=this.tooltip,e=this.chart,i=this._getCanvas();this.prePoint=null,t.hide(),e.emit("tooltip:hide",{tooltip:t}),i.draw()},e.onMouseMove=function(t){if(!a.isEmpty(t.views)){var e=this.timeStamp,i=+new Date,n={x:t.x,y:t.y};i-e>16&&!this.chart.get("stopTooltip")&&(this.showTooltip(n,t.views,t.shape),this.timeStamp=i)}},e.onMouseOut=function(t){var e=this.tooltip;e.get("visible")&&e.get("follow")&&(t&&t.toElement&&(n(t.toElement,"g2-tooltip")||function(t,e){for(var i=t.parentNode,r=!1;i&&i!==document.body;){if(n(i,e)){r=!0;break}i=i.parentNode}return r}(t.toElement,"g2-tooltip"))||this.hideTooltip())},e.renderTooltip=function(){var t=this;if(!t.tooltip){var e=t.chart,i=t.viewTheme,n=t._getCanvas(),r=t._getDefaultTooltipCfg(),o=t.options;(o=a.deepMix({plotRange:e.get("plotRange"),capture:!1,canvas:n,frontPlot:e.get("frontPlot"),viewTheme:i.tooltip,backPlot:e.get("backPlot")},r,o)).crosshairs&&"rect"===o.crosshairs.type&&(o.zIndex=0),o.visible=!1;var l;"mini"===o.type?(o.crosshairs=!1,o.position="top",l=new s.Mini(o)):l=o.useHtml?new s.Html(o):new s.Canvas(o),t.tooltip=l;var u=t._getTriggerEvent();if(!l.get("enterable")&&"plotmove"===u){var c=l.get("container");c&&(c.onmousemove=function(i){var n=t._normalizeEvent(i);e.emit(u,n)})}t._bindEvent()}},e.showTooltip=function(t,e,i){var n=this;if(!a.isEmpty(e)&&t){this.tooltip||this.renderTooltip();var r=n.options,o=[],s=[];if(a.each(e,function(e){if(!e.get("tooltipEnable"))return!0;var i=e.get("geoms"),l=e.get("coord");a.each(i,function(e){var i=e.get("type");if(e.get("visible")&&!1!==e.get("tooltipCfg")){var c=e.get("dataArray");if(e.isShareTooltip()||!1===r.shared&&a.inArray(["area","line","path","polygon"],i))a.each(c,function(c){var h=e.findPoint(t,c);if(h){var f=e.getTipItems(h,r.title);a.each(f,function(t){var r=t.point;if(r&&r.x&&r.y){var s=a.isArray(r.x)?r.x[r.x.length-1]:r.x,c=a.isArray(r.y)?r.y[r.y.length-1]:r.y;r=l.applyMatrix(s,c,1),t.x=r[0],t.y=r[1],t.showMarker=!0;var h=n._getItemMarker(e,t.color);t.marker=h,-1!==a.indexOf(u,i)&&o.push(t)}}),s=s.concat(f)}});else{var h=e.get("shapeContainer"),f=h.get("canvas").get("pixelRatio"),g=h.getShape(t.x*f,t.y*f);g&&g.get("visible")&&g.get("origin")&&(s=e.getTipItems(g.get("origin"),r.title))}}}),a.each(s,function(t){var e=t.point,i=a.isArray(e.x)?e.x[e.x.length-1]:e.x,n=a.isArray(e.y)?e.y[e.y.length-1]:e.y;e=l.applyMatrix(i,n,1),t.x=e[0],t.y=e[1]})}),s.length){var c=s[0];if(!s.every(function(t){return t.title===c.title})){var h=c,f=1/0;s.forEach(function(e){var i=l.distance([t.x,t.y],[e.x,e.y]);i<f&&(f=i,h=e)}),s=s.filter(function(t){return t.title===h.title}),o=o.filter(function(t){return t.title===h.title})}if(!1===r.shared&&s.length>1){var g=s[0],p=Math.abs(t.y-g.y);a.each(s,function(e){Math.abs(t.y-e.y)<=p&&(g=e,p=Math.abs(t.y-e.y))}),g&&g.x&&g.y&&(o=[g]),s=[g]}n._setTooltip(t,s,o,i)}else n.hideTooltip()}},e.clear=function(){var t=this.tooltip;t&&t.destroy(),this.tooltip=null,this.prePoint=null,this._offEvent()},e._getItemMarker=function(t,e){var i=t.get("shapeType")||"point",n=t.getDefaultValue("shape")||"circle",r={color:e};return o.getShapeFactory(i).getMarkerCfg(n,r)},t}();t.exports=f},function(t,e,i){function n(t,e){if(a.isNil(t)||a.isNil(e))return!1;var i=t.get("origin"),n=e.get("origin");return a.isNil(i)&&a.isNil(n)?a.isEqual(t,e):a.isEqual(i,n)}function r(t){t.shape&&t.shape.get("origin")&&(t.data=t.shape.get("origin"))}var a=i(0),o=function(){function t(t){this.view=null,this.canvas=null,a.assign(this,t),this._init()}var e=t.prototype;return e._init=function(){this.pixelRatio=this.canvas.get("pixelRatio")},e._getShapeEventObj=function(t){return{x:t.x/this.pixelRatio,y:t.y/this.pixelRatio,target:t.target,toElement:t.event.toElement||t.event.relatedTarget}},e._getShape=function(t,e){return this.view.get("canvas").getShape(t,e)},e._getPointInfo=function(t){var e=this.view,i={x:t.x/this.pixelRatio,y:t.y/this.pixelRatio},n=e.getViewsByPoint(i);return i.views=n,i},e._getEventObj=function(t,e,i){return{x:e.x,y:e.y,target:t.target,toElement:t.event.toElement||t.event.relatedTarget,views:i}},e.bindEvents=function(){var t=this.canvas;t.on("mousedown",a.wrapBehavior(this,"onDown")),t.on("mousemove",a.wrapBehavior(this,"onMove")),t.on("mouseleave",a.wrapBehavior(this,"onOut")),t.on("mouseup",a.wrapBehavior(this,"onUp")),t.on("click",a.wrapBehavior(this,"onClick")),t.on("dblclick",a.wrapBehavior(this,"onClick")),t.on("touchstart",a.wrapBehavior(this,"onTouchstart")),t.on("touchmove",a.wrapBehavior(this,"onTouchmove")),t.on("touchend",a.wrapBehavior(this,"onTouchend"))},e._triggerShapeEvent=function(t,e,i){if(t&&t.name&&!t.get("destroyed")){var n=this.view;if(n.isShapeInView(t)){var r=t.name+":"+e;i.view=n,i.appendInfo=t.get("appendInfo"),n.emit(r,i);var a=n.get("parent");a&&a.emit(r,i)}}},e.onDown=function(t){var e=this.view,i=this._getShapeEventObj(t);i.shape=this.currentShape,r(i),e.emit("mousedown",i),this._triggerShapeEvent(this.currentShape,"mousedown",i)},e.onMove=function(t){var e=this.view,i=this.currentShape;i&&i.get("destroyed")&&(i=null,this.currentShape=null);var a=this._getShape(t.x,t.y)||t.currentTarget,o=this._getShapeEventObj(t);if(o.shape=a,r(o),e.emit("mousemove",o),this._triggerShapeEvent(a,"mousemove",o),i&&!n(i,a)){var s=this._getShapeEventObj(t);s.shape=i,s.toShape=a,r(s),this._triggerShapeEvent(i,"mouseleave",s)}if(a&&!n(i,a)){var l=this._getShapeEventObj(t);l.shape=a,l.fromShape=i,r(l),this._triggerShapeEvent(a,"mouseenter",l)}this.currentShape=a;var u=this._getPointInfo(t),c=this.curViews||[];0===c.length&&u.views.length&&e.emit("plotenter",this._getEventObj(t,u,u.views)),c.length&&0===u.views.length&&e.emit("plotleave",this._getEventObj(t,u,c)),u.views.length&&((o=this._getEventObj(t,u,u.views)).shape=a,r(o),e.emit("plotmove",o)),this.curViews=u.views},e.onOut=function(t){var e=this.view,i=this._getPointInfo(t),n=this.curViews||[],r=this._getEventObj(t,i,n);!this.curViews||0===this.curViews.length||r.toElement&&"CANVAS"===r.toElement.tagName||(e.emit("plotleave",r),this.curViews=[])},e.onUp=function(t){var e=this.view,i=this._getShapeEventObj(t);i.shape=this.currentShape,e.emit("mouseup",i),this._triggerShapeEvent(this.currentShape,"mouseup",i)},e.onClick=function(t){var e=this.view,i=this._getShape(t.x,t.y)||t.currentTarget,n=this._getShapeEventObj(t);n.shape=i,r(n),e.emit("click",n),this._triggerShapeEvent(i,t.type,n),this.currentShape=i;var o=this._getPointInfo(t),s=o.views;if(!a.isEmpty(s)){var l=this._getEventObj(t,o,s);if(this.currentShape){var u=this.currentShape;l.shape=u,r(l)}"dblclick"===t.type?(e.emit("plotdblclick",l),e.emit("dblclick",n)):e.emit("plotclick",l)}},e.onTouchstart=function(t){var e=this.view,i=this._getShape(t.x,t.y)||t.currentTarget,n=this._getShapeEventObj(t);n.shape=i,r(n),e.emit("touchstart",n),this._triggerShapeEvent(i,"touchstart",n),this.currentShape=i},e.onTouchmove=function(t){var e=this.view,i=this._getShape(t.x,t.y)||t.currentTarget,n=this._getShapeEventObj(t);n.shape=i,r(n),e.emit("touchmove",n),this._triggerShapeEvent(i,"touchmove",n),this.currentShape=i},e.onTouchend=function(t){var e=this.view,i=this._getShapeEventObj(t);i.shape=this.currentShape,r(i),e.emit("touchend",i),this._triggerShapeEvent(this.currentShape,"touchend",i)},e.clearEvents=function(){var t=this.canvas;t.off("mousemove",a.getWrapBehavior(this,"onMove")),t.off("mouseleave",a.getWrapBehavior(this,"onOut")),t.off("mousedown",a.getWrapBehavior(this,"onDown")),t.off("mouseup",a.getWrapBehavior(this,"onUp")),t.off("click",a.getWrapBehavior(this,"onClick")),t.off("dblclick",a.getWrapBehavior(this,"onClick")),t.off("touchstart",a.getWrapBehavior(this,"onTouchstart")),t.off("touchmove",a.getWrapBehavior(this,"onTouchmove")),t.off("touchend",a.getWrapBehavior(this,"onTouchend"))},t}();t.exports=o},function(t,e,i){function n(t,e){var i=[];if(!1===t.get("animate"))return[];var r=t.get("children");return s.each(r,function(t){if(t.isGroup)i=i.concat(n(t,e));else if(t.isShape&&t._id){var r=t._id;(r=r.split("-")[0])===e&&i.push(t)}}),i}function r(t,e,i,n){return n?l.Action[i][n]:l.getAnimation(t,e,i)}function a(t,e,i){var n=l.getAnimateCfg(t,e);return i&&i[e]?s.deepMix({},n,i[e]):n}function o(t,e,i,n){var o,l,c=!1;if(n){var h=[],f=[];s.each(e,function(e){var i=t[e._id];i?(e.setSilent("cacheShape",i),h.push(e),delete t[e._id]):f.push(e)}),s.each(t,function(t){var e=t.name,n=t.coord,h=t._id,f=t.attrs,g=t.index,p=t.type;if(l=a(e,"leave",t.animateCfg),o=r(e,n,"leave",l.animation),s.isFunction(o)){var d=i.addShape(p,{attrs:f,index:g});if(d._id=h,d.name=e,n&&"label"!==e){var v=d.getMatrix(),m=u.multiply([],v,n.matrix);d.setMatrix(m)}c=!0,o(d,l,n)}}),s.each(h,function(t){var e=t.name,i=t.get("coord"),n=t.get("cacheShape").attrs;if(!s.isEqual(n,t.attr())){if(l=a(e,"update",t.get("animateCfg")),o=r(e,i,"update",l.animation),s.isFunction(o))o(t,l,i);else{var u=s.cloneDeep(t.attr());t.attr(n),t.animate(u,l.duration,l.easing,function(){t.setSilent("cacheShape",null)})}c=!0}}),s.each(f,function(t){var e=t.name,i=t.get("coord");l=a(e,"enter",t.get("animateCfg")),o=r(e,i,"enter",l.animation),s.isFunction(o)&&(o(t,l,i),c=!0)})}else s.each(e,function(t){var e=t.name,i=t.get("coord");l=a(e,"appear",t.get("animateCfg")),o=r(e,i,"appear",l.animation),s.isFunction(o)&&(o(t,l,i),c=!0)});return c}var s=i(0),l=i(126),u=s.MatrixUtil.mat3;t.exports={execAnimation:function(t,e){var i=t.get("middlePlot"),r=t.get("backPlot"),a=t.get("_id"),l=t.get("canvas"),u=l.get(a+"caches")||[];0===u.length&&(e=!1);var c=n(i,a),h=n(r,a),f=c.concat(h);l.setSilent(a+"caches",function(t){var e={};return s.each(t,function(t){if(t._id&&!t.isClip){var i=t._id;e[i]={_id:i,type:t.get("type"),attrs:s.cloneDeep(t.attr()),name:t.name,index:t.get("index"),animateCfg:t.get("animateCfg"),coord:t.get("coord")}}}),e}(f));(e?o(u,f,l,e):o(u,c,l,e))||l.draw()}}},function(t,e,i){var n=i(0),r=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var i=e.prototype;return i.getDefaultCfg=function(){return{type:"plotBack",padding:null,background:null,plotRange:null,plotBackground:null}},i._beforeRenderUI=function(){this._calculateRange()},i._renderUI=function(){this._renderBackground(),this._renderPlotBackground()},i._renderBackground=function(){var t=this.get("background");if(t){var e=this.get("canvas"),i={x:0,y:0,width:this.get("width")||e.get("width"),height:this.get("height")||e.get("height")},r=this.get("backgroundShape");r?r.attr(i):(r=this.addShape("rect",{attrs:n.mix(i,t)}),this.set("backgroundShape",r))}},i._renderPlotBackground=function(){var t=this.get("plotBackground");if(t){var e=this.get("plotRange"),i=e.br.x-e.bl.x,r=e.br.y-e.tr.y,a=e.tl,o={x:a.x,y:a.y,width:i,height:r},s=this.get("plotBackShape");s?s.attr(o):(t.image?(o.img=t.image,s=this.addShape("image",{attrs:o})):(n.mix(o,t),s=this.addShape("rect",{attrs:o})),this.set("plotBackShape",s))}},i._convert=function(t,e){if(n.isString(t))if("auto"===t)t=0;else if(-1!==t.indexOf("%")){var i=this.get("canvas"),r=this.get("width")||i.get("width"),a=this.get("height")||i.get("height");t=parseInt(t,10)/100,t=e?t*r:t*a}return t},i._calculateRange=function(){var t=this.get("plotRange");n.isNil(t)&&(t={});var e=this.get("padding"),i=this.get("canvas"),r=this.get("width")||i.get("width"),a=this.get("height")||i.get("height"),o=n.toAllPadding(e),s=this._convert(o[0],!1),l=this._convert(o[1],!0),u=this._convert(o[2],!1),c=this._convert(o[3],!0),h=Math.min(c,r-l),f=Math.max(c,r-l),g=Math.min(a-u,s),p=Math.max(a-u,s);t.tl={x:h,y:g},t.tr={x:f,y:g},t.bl={x:h,y:p},t.br={x:f,y:p},t.cc={x:(f+h)/2,y:(p+g)/2},this.set("plotRange",t)},i.repaint=function(){return this._calculateRange(),this._renderBackground(),this._renderPlotBackground(),this},e}(i(16).Group);t.exports=r}])});