!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.coord=n():t.coord=n()}("undefined"!=typeof self?self:this,function(){return function(t){function n(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}var r={};return n.m=t,n.c=r,n.d=function(t,r,e){n.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:e})},n.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(r,"a",r),r},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=7)}([function(t,n,r){function e(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function a(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}var o=r(2),i=r(1),u=o.mat3,c=o.vec3,s=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t);var r=this.getDefaultCfg();i(this,r,n),this.init()}return a(t,[{key:"getDefaultCfg",value:function(){return{isTransposed:!1,matrix:[1,0,0,0,1,0,0,0,1]}}}]),a(t,[{key:"init",value:function(){var t=this.start,n=this.end,r={x:(t.x+n.x)/2,y:(t.y+n.y)/2};this.center=r,this.width=Math.abs(n.x-t.x),this.height=Math.abs(n.y-t.y)}},{key:"_swapDim",value:function(t){var n=this[t];if(n){var r=n.start;n.start=n.end,n.end=r}}},{key:"getCenter",value:function(){return this.center}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"convertDim",value:function(t,n){var r=this[n],e=r.start;return e+t*(r.end-e)}},{key:"invertDim",value:function(t,n){var r=this[n],e=r.start;return(t-e)/(r.end-e)}},{key:"convertPoint",value:function(t){return t}},{key:"invertPoint",value:function(t){return t}},{key:"applyMatrix",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=this.matrix,a=[t,n,r];return c.transformMat3(a,a,e),a}},{key:"invertMatrix",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=this.matrix,a=u.invert([],e),o=[t,n,r];return c.transformMat3(o,o,a),o}},{key:"convert",value:function(t){var n=this.convertPoint(t),r=n.x,e=n.y,a=this.applyMatrix(r,e,1);return{x:a[0],y:a[1]}}},{key:"invert",value:function(t){var n=this.invertMatrix(t.x,t.y,1);return this.invertPoint({x:n[0],y:n[1]})}},{key:"rotate",value:function(t){var n=this.matrix,r=this.center;return u.translate(n,n,[-r.x,-r.y]),u.rotate(n,n,t),u.translate(n,n,[r.x,r.y]),this}},{key:"reflect",value:function(t){switch(t){case"x":this._swapDim("x");break;case"y":this._swapDim("y");break;default:this._swapDim("y")}return this}},{key:"scale",value:function(t,n){var r=this.matrix,e=this.center;return u.translate(r,r,[-e.x,-e.y]),u.scale(r,r,[t,n]),u.translate(r,r,[e.x,e.y]),this}},{key:"translate",value:function(t,n){var r=this.matrix;return u.translate(r,r,[t,n]),this}},{key:"transpose",value:function(){return this.isTransposed=!this.isTransposed,this}}]),t}();t.exports=s},function(t,n){function r(t,n){for(var r in n)n.hasOwnProperty(r)&&"constructor"!==r&&void 0!==n[r]&&(t[r]=n[r])}t.exports=function(t,n,e,a){return n&&r(t,n),e&&r(t,e),a&&r(t,a),t}},function(t,n,r){t.exports={mat3:r(4),vec2:r(9),vec3:r(12),transform:r(14)}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setMatrixArrayType=function(t){n.ARRAY_TYPE=a=t},n.toRadian=function(t){return t*o},n.equals=function(t,n){return Math.abs(t-n)<=e*Math.max(1,Math.abs(t),Math.abs(n))};var e=n.EPSILON=1e-6,a=n.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,o=(n.RANDOM=Math.random,Math.PI/180)},function(t,n,r){var e=r(8);e.translate=function(t,n,r){var a=new Array(9);return e.fromTranslation(a,r),e.multiply(t,a,n)},e.rotate=function(t,n,r){var a=new Array(9);return e.fromRotation(a,r),e.multiply(t,a,n)},e.scale=function(t,n,r){var a=new Array(9);return e.fromScaling(a,r),e.multiply(t,a,n)},t.exports=e},function(t,n,r){var e=r(16),a=Array.isArray?Array.isArray:function(t){return e(t,"Array")};t.exports=a},function(t,n){t.exports=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-5;return Math.abs(t-n)<r}},function(t,n,r){var e=r(0);e.Cartesian=r(19),e.Rect=e.Cartesian,e.Polar=r(20),e.Helix=r(21),t.exports=e},function(t,n,r){"use strict";function e(t,n,r){var e=n[0],a=n[1],o=n[2],i=n[3],u=n[4],c=n[5],s=n[6],f=n[7],l=n[8],h=r[0],y=r[1],v=r[2],p=r[3],M=r[4],b=r[5],m=r[6],d=r[7],x=r[8];return t[0]=h*e+y*i+v*s,t[1]=h*a+y*u+v*f,t[2]=h*o+y*c+v*l,t[3]=p*e+M*i+b*s,t[4]=p*a+M*u+b*f,t[5]=p*o+M*c+b*l,t[6]=m*e+d*i+x*s,t[7]=m*a+d*u+x*f,t[8]=m*o+d*c+x*l,t}function a(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t[3]=n[3]-r[3],t[4]=n[4]-r[4],t[5]=n[5]-r[5],t[6]=n[6]-r[6],t[7]=n[7]-r[7],t[8]=n[8]-r[8],t}Object.defineProperty(n,"__esModule",{value:!0}),n.sub=n.mul=void 0,n.create=function(){var t=new o.ARRAY_TYPE(9);return o.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},n.fromMat4=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[4],t[4]=n[5],t[5]=n[6],t[6]=n[8],t[7]=n[9],t[8]=n[10],t},n.clone=function(t){var n=new o.ARRAY_TYPE(9);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n},n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t},n.fromValues=function(t,n,r,e,a,i,u,c,s){var f=new o.ARRAY_TYPE(9);return f[0]=t,f[1]=n,f[2]=r,f[3]=e,f[4]=a,f[5]=i,f[6]=u,f[7]=c,f[8]=s,f},n.set=function(t,n,r,e,a,o,i,u,c,s){return t[0]=n,t[1]=r,t[2]=e,t[3]=a,t[4]=o,t[5]=i,t[6]=u,t[7]=c,t[8]=s,t},n.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.transpose=function(t,n){if(t===n){var r=n[1],e=n[2],a=n[5];t[1]=n[3],t[2]=n[6],t[3]=r,t[5]=n[7],t[6]=e,t[7]=a}else t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8];return t},n.invert=function(t,n){var r=n[0],e=n[1],a=n[2],o=n[3],i=n[4],u=n[5],c=n[6],s=n[7],f=n[8],l=f*i-u*s,h=-f*o+u*c,y=s*o-i*c,v=r*l+e*h+a*y;return v?(v=1/v,t[0]=l*v,t[1]=(-f*e+a*s)*v,t[2]=(u*e-a*i)*v,t[3]=h*v,t[4]=(f*r-a*c)*v,t[5]=(-u*r+a*o)*v,t[6]=y*v,t[7]=(-s*r+e*c)*v,t[8]=(i*r-e*o)*v,t):null},n.adjoint=function(t,n){var r=n[0],e=n[1],a=n[2],o=n[3],i=n[4],u=n[5],c=n[6],s=n[7],f=n[8];return t[0]=i*f-u*s,t[1]=a*s-e*f,t[2]=e*u-a*i,t[3]=u*c-o*f,t[4]=r*f-a*c,t[5]=a*o-r*u,t[6]=o*s-i*c,t[7]=e*c-r*s,t[8]=r*i-e*o,t},n.determinant=function(t){var n=t[0],r=t[1],e=t[2],a=t[3],o=t[4],i=t[5],u=t[6],c=t[7],s=t[8];return n*(s*o-i*c)+r*(-s*a+i*u)+e*(c*a-o*u)},n.multiply=e,n.translate=function(t,n,r){var e=n[0],a=n[1],o=n[2],i=n[3],u=n[4],c=n[5],s=n[6],f=n[7],l=n[8],h=r[0],y=r[1];return t[0]=e,t[1]=a,t[2]=o,t[3]=i,t[4]=u,t[5]=c,t[6]=h*e+y*i+s,t[7]=h*a+y*u+f,t[8]=h*o+y*c+l,t},n.rotate=function(t,n,r){var e=n[0],a=n[1],o=n[2],i=n[3],u=n[4],c=n[5],s=n[6],f=n[7],l=n[8],h=Math.sin(r),y=Math.cos(r);return t[0]=y*e+h*i,t[1]=y*a+h*u,t[2]=y*o+h*c,t[3]=y*i-h*e,t[4]=y*u-h*a,t[5]=y*c-h*o,t[6]=s,t[7]=f,t[8]=l,t},n.scale=function(t,n,r){var e=r[0],a=r[1];return t[0]=e*n[0],t[1]=e*n[1],t[2]=e*n[2],t[3]=a*n[3],t[4]=a*n[4],t[5]=a*n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t},n.fromTranslation=function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=n[0],t[7]=n[1],t[8]=1,t},n.fromRotation=function(t,n){var r=Math.sin(n),e=Math.cos(n);return t[0]=e,t[1]=r,t[2]=0,t[3]=-r,t[4]=e,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.fromScaling=function(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=n[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.fromMat2d=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=0,t[3]=n[2],t[4]=n[3],t[5]=0,t[6]=n[4],t[7]=n[5],t[8]=1,t},n.fromQuat=function(t,n){var r=n[0],e=n[1],a=n[2],o=n[3],i=r+r,u=e+e,c=a+a,s=r*i,f=e*i,l=e*u,h=a*i,y=a*u,v=a*c,p=o*i,M=o*u,b=o*c;return t[0]=1-l-v,t[3]=f-b,t[6]=h+M,t[1]=f+b,t[4]=1-s-v,t[7]=y-p,t[2]=h-M,t[5]=y+p,t[8]=1-s-l,t},n.normalFromMat4=function(t,n){var r=n[0],e=n[1],a=n[2],o=n[3],i=n[4],u=n[5],c=n[6],s=n[7],f=n[8],l=n[9],h=n[10],y=n[11],v=n[12],p=n[13],M=n[14],b=n[15],m=r*u-e*i,d=r*c-a*i,x=r*s-o*i,g=e*c-a*u,P=e*s-o*u,O=a*s-o*c,w=f*p-l*v,A=f*M-h*v,_=f*b-y*v,R=l*M-h*p,S=l*b-y*p,j=h*b-y*M,k=m*j-d*S+x*R+g*_-P*A+O*w;return k?(k=1/k,t[0]=(u*j-c*S+s*R)*k,t[1]=(c*_-i*j-s*A)*k,t[2]=(i*S-u*_+s*w)*k,t[3]=(a*S-e*j-o*R)*k,t[4]=(r*j-a*_+o*A)*k,t[5]=(e*_-r*S-o*w)*k,t[6]=(p*O-M*P+b*g)*k,t[7]=(M*x-v*O-b*d)*k,t[8]=(v*P-p*x+b*m)*k,t):null},n.projection=function(t,n,r){return t[0]=2/n,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},n.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},n.add=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t[4]=n[4]+r[4],t[5]=n[5]+r[5],t[6]=n[6]+r[6],t[7]=n[7]+r[7],t[8]=n[8]+r[8],t},n.subtract=a,n.multiplyScalar=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=n[7]*r,t[8]=n[8]*r,t},n.multiplyScalarAndAdd=function(t,n,r,e){return t[0]=n[0]+r[0]*e,t[1]=n[1]+r[1]*e,t[2]=n[2]+r[2]*e,t[3]=n[3]+r[3]*e,t[4]=n[4]+r[4]*e,t[5]=n[5]+r[5]*e,t[6]=n[6]+r[6]*e,t[7]=n[7]+r[7]*e,t[8]=n[8]+r[8]*e,t},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]},n.equals=function(t,n){var r=t[0],e=t[1],a=t[2],i=t[3],u=t[4],c=t[5],s=t[6],f=t[7],l=t[8],h=n[0],y=n[1],v=n[2],p=n[3],M=n[4],b=n[5],m=n[6],d=n[7],x=n[8];return Math.abs(r-h)<=o.EPSILON*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(e-y)<=o.EPSILON*Math.max(1,Math.abs(e),Math.abs(y))&&Math.abs(a-v)<=o.EPSILON*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(i-p)<=o.EPSILON*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(u-M)<=o.EPSILON*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(c-b)<=o.EPSILON*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(s-m)<=o.EPSILON*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(f-d)<=o.EPSILON*Math.max(1,Math.abs(f),Math.abs(d))&&Math.abs(l-x)<=o.EPSILON*Math.max(1,Math.abs(l),Math.abs(x))};var o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.default=t,n}(r(3));n.mul=e,n.sub=a},function(t,n,r){var e=r(10),a=r(11);e.angle=function(t,n){var r=e.dot(t,n)/(e.length(t)*e.length(n));return Math.acos(a(r,-1,1))},e.direction=function(t,n){return t[0]*n[1]-n[0]*t[1]},e.angleTo=function(t,n,r){var a=e.angle(t,n),o=e.direction(t,n)>=0;return r?o?2*Math.PI-a:a:o?a:2*Math.PI-a},e.vertical=function(t,n,r){return r?(t[0]=n[1],t[1]=-1*n[0]):(t[0]=-1*n[1],t[1]=n[0]),t},t.exports=e},function(t,n,r){"use strict";function e(){var t=new l.ARRAY_TYPE(2);return l.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function a(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t}function o(t,n,r){return t[0]=n[0]*r[0],t[1]=n[1]*r[1],t}function i(t,n,r){return t[0]=n[0]/r[0],t[1]=n[1]/r[1],t}function u(t,n){var r=n[0]-t[0],e=n[1]-t[1];return Math.sqrt(r*r+e*e)}function c(t,n){var r=n[0]-t[0],e=n[1]-t[1];return r*r+e*e}function s(t){var n=t[0],r=t[1];return Math.sqrt(n*n+r*r)}function f(t){var n=t[0],r=t[1];return n*n+r*r}Object.defineProperty(n,"__esModule",{value:!0}),n.forEach=n.sqrLen=n.sqrDist=n.dist=n.div=n.mul=n.sub=n.len=void 0,n.create=e,n.clone=function(t){var n=new l.ARRAY_TYPE(2);return n[0]=t[0],n[1]=t[1],n},n.fromValues=function(t,n){var r=new l.ARRAY_TYPE(2);return r[0]=t,r[1]=n,r},n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t},n.set=function(t,n,r){return t[0]=n,t[1]=r,t},n.add=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t},n.subtract=a,n.multiply=o,n.divide=i,n.ceil=function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t},n.floor=function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t},n.min=function(t,n,r){return t[0]=Math.min(n[0],r[0]),t[1]=Math.min(n[1],r[1]),t},n.max=function(t,n,r){return t[0]=Math.max(n[0],r[0]),t[1]=Math.max(n[1],r[1]),t},n.round=function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t},n.scale=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t},n.scaleAndAdd=function(t,n,r,e){return t[0]=n[0]+r[0]*e,t[1]=n[1]+r[1]*e,t},n.distance=u,n.squaredDistance=c,n.length=s,n.squaredLength=f,n.negate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t},n.inverse=function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t},n.normalize=function(t,n){var r=n[0],e=n[1],a=r*r+e*e;return a>0&&(a=1/Math.sqrt(a),t[0]=n[0]*a,t[1]=n[1]*a),t},n.dot=function(t,n){return t[0]*n[0]+t[1]*n[1]},n.cross=function(t,n,r){var e=n[0]*r[1]-n[1]*r[0];return t[0]=t[1]=0,t[2]=e,t},n.lerp=function(t,n,r,e){var a=n[0],o=n[1];return t[0]=a+e*(r[0]-a),t[1]=o+e*(r[1]-o),t},n.random=function(t,n){n=n||1;var r=2*l.RANDOM()*Math.PI;return t[0]=Math.cos(r)*n,t[1]=Math.sin(r)*n,t},n.transformMat2=function(t,n,r){var e=n[0],a=n[1];return t[0]=r[0]*e+r[2]*a,t[1]=r[1]*e+r[3]*a,t},n.transformMat2d=function(t,n,r){var e=n[0],a=n[1];return t[0]=r[0]*e+r[2]*a+r[4],t[1]=r[1]*e+r[3]*a+r[5],t},n.transformMat3=function(t,n,r){var e=n[0],a=n[1];return t[0]=r[0]*e+r[3]*a+r[6],t[1]=r[1]*e+r[4]*a+r[7],t},n.transformMat4=function(t,n,r){var e=n[0],a=n[1];return t[0]=r[0]*e+r[4]*a+r[12],t[1]=r[1]*e+r[5]*a+r[13],t},n.rotate=function(t,n,r,e){var a=n[0]-r[0],o=n[1]-r[1],i=Math.sin(e),u=Math.cos(e);return t[0]=a*u-o*i+r[0],t[1]=a*i+o*u+r[1],t},n.angle=function(t,n){var r=t[0],e=t[1],a=n[0],o=n[1],i=r*r+e*e;i>0&&(i=1/Math.sqrt(i));var u=a*a+o*o;u>0&&(u=1/Math.sqrt(u));var c=(r*a+e*o)*i*u;return c>1?0:c<-1?Math.PI:Math.acos(c)},n.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]},n.equals=function(t,n){var r=t[0],e=t[1],a=n[0],o=n[1];return Math.abs(r-a)<=l.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(e-o)<=l.EPSILON*Math.max(1,Math.abs(e),Math.abs(o))};var l=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.default=t,n}(r(3));n.len=s,n.sub=a,n.mul=o,n.div=i,n.dist=u,n.sqrDist=c,n.sqrLen=f,n.forEach=function(){var t=e();return function(n,r,e,a,o,i){var u=void 0,c=void 0;for(r||(r=2),e||(e=0),c=a?Math.min(a*r+e,n.length):n.length,u=e;u<c;u+=r)t[0]=n[u],t[1]=n[u+1],o(t,t,i),n[u]=t[0],n[u+1]=t[1];return n}}()},function(t,n){t.exports=function(t,n,r){return t<n?n:t>r?r:t}},function(t,n,r){var e=r(13);t.exports=e},function(t,n,r){"use strict";function e(){var t=new v.ARRAY_TYPE(3);return v.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function a(t){var n=t[0],r=t[1],e=t[2];return Math.sqrt(n*n+r*r+e*e)}function o(t,n,r){var e=new v.ARRAY_TYPE(3);return e[0]=t,e[1]=n,e[2]=r,e}function i(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t}function u(t,n,r){return t[0]=n[0]*r[0],t[1]=n[1]*r[1],t[2]=n[2]*r[2],t}function c(t,n,r){return t[0]=n[0]/r[0],t[1]=n[1]/r[1],t[2]=n[2]/r[2],t}function s(t,n){var r=n[0]-t[0],e=n[1]-t[1],a=n[2]-t[2];return Math.sqrt(r*r+e*e+a*a)}function f(t,n){var r=n[0]-t[0],e=n[1]-t[1],a=n[2]-t[2];return r*r+e*e+a*a}function l(t){var n=t[0],r=t[1],e=t[2];return n*n+r*r+e*e}function h(t,n){var r=n[0],e=n[1],a=n[2],o=r*r+e*e+a*a;return o>0&&(o=1/Math.sqrt(o),t[0]=n[0]*o,t[1]=n[1]*o,t[2]=n[2]*o),t}function y(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}Object.defineProperty(n,"__esModule",{value:!0}),n.forEach=n.sqrLen=n.len=n.sqrDist=n.dist=n.div=n.mul=n.sub=void 0,n.create=e,n.clone=function(t){var n=new v.ARRAY_TYPE(3);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n},n.length=a,n.fromValues=o,n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t},n.set=function(t,n,r,e){return t[0]=n,t[1]=r,t[2]=e,t},n.add=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t},n.subtract=i,n.multiply=u,n.divide=c,n.ceil=function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t},n.floor=function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t},n.min=function(t,n,r){return t[0]=Math.min(n[0],r[0]),t[1]=Math.min(n[1],r[1]),t[2]=Math.min(n[2],r[2]),t},n.max=function(t,n,r){return t[0]=Math.max(n[0],r[0]),t[1]=Math.max(n[1],r[1]),t[2]=Math.max(n[2],r[2]),t},n.round=function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t},n.scale=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t},n.scaleAndAdd=function(t,n,r,e){return t[0]=n[0]+r[0]*e,t[1]=n[1]+r[1]*e,t[2]=n[2]+r[2]*e,t},n.distance=s,n.squaredDistance=f,n.squaredLength=l,n.negate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t},n.inverse=function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t},n.normalize=h,n.dot=y,n.cross=function(t,n,r){var e=n[0],a=n[1],o=n[2],i=r[0],u=r[1],c=r[2];return t[0]=a*c-o*u,t[1]=o*i-e*c,t[2]=e*u-a*i,t},n.lerp=function(t,n,r,e){var a=n[0],o=n[1],i=n[2];return t[0]=a+e*(r[0]-a),t[1]=o+e*(r[1]-o),t[2]=i+e*(r[2]-i),t},n.hermite=function(t,n,r,e,a,o){var i=o*o,u=i*(2*o-3)+1,c=i*(o-2)+o,s=i*(o-1),f=i*(3-2*o);return t[0]=n[0]*u+r[0]*c+e[0]*s+a[0]*f,t[1]=n[1]*u+r[1]*c+e[1]*s+a[1]*f,t[2]=n[2]*u+r[2]*c+e[2]*s+a[2]*f,t},n.bezier=function(t,n,r,e,a,o){var i=1-o,u=i*i,c=o*o,s=u*i,f=3*o*u,l=3*c*i,h=c*o;return t[0]=n[0]*s+r[0]*f+e[0]*l+a[0]*h,t[1]=n[1]*s+r[1]*f+e[1]*l+a[1]*h,t[2]=n[2]*s+r[2]*f+e[2]*l+a[2]*h,t},n.random=function(t,n){n=n||1;var r=2*v.RANDOM()*Math.PI,e=2*v.RANDOM()-1,a=Math.sqrt(1-e*e)*n;return t[0]=Math.cos(r)*a,t[1]=Math.sin(r)*a,t[2]=e*n,t},n.transformMat4=function(t,n,r){var e=n[0],a=n[1],o=n[2],i=r[3]*e+r[7]*a+r[11]*o+r[15];return i=i||1,t[0]=(r[0]*e+r[4]*a+r[8]*o+r[12])/i,t[1]=(r[1]*e+r[5]*a+r[9]*o+r[13])/i,t[2]=(r[2]*e+r[6]*a+r[10]*o+r[14])/i,t},n.transformMat3=function(t,n,r){var e=n[0],a=n[1],o=n[2];return t[0]=e*r[0]+a*r[3]+o*r[6],t[1]=e*r[1]+a*r[4]+o*r[7],t[2]=e*r[2]+a*r[5]+o*r[8],t},n.transformQuat=function(t,n,r){var e=r[0],a=r[1],o=r[2],i=r[3],u=n[0],c=n[1],s=n[2],f=a*s-o*c,l=o*u-e*s,h=e*c-a*u,y=a*h-o*l,v=o*f-e*h,p=e*l-a*f,M=2*i;return f*=M,l*=M,h*=M,y*=2,v*=2,p*=2,t[0]=u+f+y,t[1]=c+l+v,t[2]=s+h+p,t},n.rotateX=function(t,n,r,e){var a=[],o=[];return a[0]=n[0]-r[0],a[1]=n[1]-r[1],a[2]=n[2]-r[2],o[0]=a[0],o[1]=a[1]*Math.cos(e)-a[2]*Math.sin(e),o[2]=a[1]*Math.sin(e)+a[2]*Math.cos(e),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t},n.rotateY=function(t,n,r,e){var a=[],o=[];return a[0]=n[0]-r[0],a[1]=n[1]-r[1],a[2]=n[2]-r[2],o[0]=a[2]*Math.sin(e)+a[0]*Math.cos(e),o[1]=a[1],o[2]=a[2]*Math.cos(e)-a[0]*Math.sin(e),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t},n.rotateZ=function(t,n,r,e){var a=[],o=[];return a[0]=n[0]-r[0],a[1]=n[1]-r[1],a[2]=n[2]-r[2],o[0]=a[0]*Math.cos(e)-a[1]*Math.sin(e),o[1]=a[0]*Math.sin(e)+a[1]*Math.cos(e),o[2]=a[2],t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t},n.angle=function(t,n){var r=o(t[0],t[1],t[2]),e=o(n[0],n[1],n[2]);h(r,r),h(e,e);var a=y(r,e);return a>1?0:a<-1?Math.PI:Math.acos(a)},n.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]},n.equals=function(t,n){var r=t[0],e=t[1],a=t[2],o=n[0],i=n[1],u=n[2];return Math.abs(r-o)<=v.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(e-i)<=v.EPSILON*Math.max(1,Math.abs(e),Math.abs(i))&&Math.abs(a-u)<=v.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))};var v=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.default=t,n}(r(3));n.sub=i,n.mul=u,n.div=c,n.dist=s,n.sqrDist=f,n.len=a,n.sqrLen=l,n.forEach=function(){var t=e();return function(n,r,e,a,o,i){var u=void 0,c=void 0;for(r||(r=3),e||(e=0),c=a?Math.min(a*r+e,n.length):n.length,u=e;u<c;u+=r)t[0]=n[u],t[1]=n[u+1],t[2]=n[u+2],o(t,t,i),n[u]=t[0],n[u+1]=t[1],n[u+2]=t[2];return n}}()},function(t,n,r){var e=r(15),a=r(17),o=r(4);t.exports=function(t,n){return t=e(t),a(n,function(n){switch(n[0]){case"t":o.translate(t,t,[n[1],n[2]]);break;case"s":o.scale(t,t,[n[1],n[2]]);break;case"r":o.rotate(t,t,n[1]);break;case"m":o.multiply(t,t,n[1]);break;default:return!1}}),t}},function(t,n,r){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=r(5);t.exports=function t(n){if("object"!==(void 0===n?"undefined":e(n))||null===n)return n;var r=void 0;if(a(n)){r=[];for(var o=0,i=n.length;o<i;o++)"object"===e(n[o])&&null!=n[o]?r[o]=t(n[o]):r[o]=n[o]}else{r={};for(var u in n)"object"===e(n[u])&&null!=n[u]?r[u]=t(n[u]):r[u]=n[u]}return r}},function(t,n){var r={}.toString;t.exports=function(t,n){return r.call(t)==="[object "+n+"]"}},function(t,n,r){var e=r(18),a=r(5);t.exports=function(t,n){if(t)if(a(t))for(var r=0,o=t.length;r<o&&!1!==n(t[r],r);r++);else if(e(t))for(var i in t)if(t.hasOwnProperty(i)&&!1===n(t[i],i))break}},function(t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){var n=void 0===t?"undefined":r(t);return null!==t&&"object"===n||"function"===n}},function(t,n,r){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function o(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function i(t,n,r){return n&&o(t.prototype,n),r&&o(t,r),t}function u(t,n){return(u=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function c(t,n,r){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,r){var e=function(t,n){for(;!Object.prototype.hasOwnProperty.call(t,n)&&null!==(t=s(t)););return t}(t,n);if(e){var a=Object.getOwnPropertyDescriptor(e,n);return a.get?a.get.call(r):a.value}})(t,n,r||t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=r(1),l=r(0),h=function(t){function n(t){var r;return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(r=a(this,s(n).call(this,t)))._init(),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&u(t,n)}(n,l),i(n,[{key:"getDefaultCfg",value:function(){var t=c(s(n.prototype),"getDefaultCfg",this).call(this);return f({},t,{start:{x:0,y:0},end:{x:0,y:0},type:"cartesian",isRect:!0})}}]),i(n,[{key:"_init",value:function(){var t=this.start,n=this.end,r={start:t.x,end:n.x},e={start:t.y,end:n.y};this.x=r,this.y=e}},{key:"convertPoint",value:function(t){var n,r;return this.isTransposed?(n=t.y,r=t.x):(n=t.x,r=t.y),{x:this.convertDim(n,"x"),y:this.convertDim(r,"y")}}},{key:"invertPoint",value:function(t){var n=this.invertDim(t.x,"x"),r=this.invertDim(t.y,"y");return this.isTransposed?{x:r,y:n}:{x:n,y:r}}}]),n}();t.exports=h},function(t,n,r){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function o(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function i(t,n,r){return n&&o(t.prototype,n),r&&o(t,r),t}function u(t,n){return(u=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function c(t,n,r){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,r){var e=function(t,n){for(;!Object.prototype.hasOwnProperty.call(t,n)&&null!==(t=s(t)););return t}(t,n);if(e){var a=Object.getOwnPropertyDescriptor(e,n);return a.get?a.get.call(r):a.value}})(t,n,r||t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=r(2),l=r(6),h=r(1),y=r(0),v=f.mat3,p=f.vec2,M=f.vec3,b=function(t){function n(t){var r;return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(r=a(this,s(n).call(this,t)))._init(),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&u(t,n)}(n,y),i(n,[{key:"getDefaultCfg",value:function(){var t=c(s(n.prototype),"getDefaultCfg",this).call(this);return h({},t,{startAngle:-Math.PI/2,endAngle:3*Math.PI/2,innerRadius:0,type:"polar",isPolar:!0})}}]),i(n,[{key:"_init",value:function(){for(var t=this.radius,n=this.innerRadius,r=this.center,e=this.startAngle,a=this.endAngle;a<e;)a+=2*Math.PI;this.endAngle=a;var o,i,u=this.getOneBox(),c=u.maxX-u.minX,s=u.maxY-u.minY,f=Math.abs(u.minX)/c,l=Math.abs(u.minY)/s,h=this.width,y=this.height;y/s>h/c?(o=h/c,i={x:r.x-(.5-f)*h,y:r.y-(.5-l)*o*s}):(o=y/s,i={x:r.x-(.5-f)*o*c,y:r.y-(.5-l)*y}),t?t>0&&t<=1?t*=o:(t<=0||t>o)&&(t=o):t=o;var v={start:e,end:a},p={start:n*t,end:t};this.x=v,this.y=p,this.radius=t,this.circleCentre=i,this.center=i}},{key:"getCenter",value:function(){return this.circleCentre}},{key:"getOneBox",value:function(){var t=this.startAngle,n=this.endAngle;if(Math.abs(n-t)>=2*Math.PI)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var r=[0,Math.cos(t),Math.cos(n)],e=[0,Math.sin(t),Math.sin(n)],a=Math.min(t,n);a<Math.max(t,n);a+=Math.PI/18)r.push(Math.cos(a)),e.push(Math.sin(a));return{minX:Math.min.apply(Math,r),maxX:Math.max.apply(Math,r),minY:Math.min.apply(Math,e),maxY:Math.max.apply(Math,e)}}},{key:"getRadius",value:function(){return this.radius}},{key:"convertPoint",value:function(t){var n=this.getCenter(),r=this.isTransposed?t.y:t.x,e=this.isTransposed?t.x:t.y;return r=this.convertDim(r,"x"),e=this.convertDim(e,"y"),{x:n.x+Math.cos(r)*e,y:n.y+Math.sin(r)*e}}},{key:"invertPoint",value:function(t){var n=this.getCenter(),r=[t.x-n.x,t.y-n.y],e=this.x,a=[1,0,0,0,1,0,0,0,1];v.rotate(a,a,e.start);var o=[1,0,0];M.transformMat3(o,o,a),o=[o[0],o[1]];var i=p.angleTo(o,r,e.end<e.start);l(i,2*Math.PI)&&(i=0);var u=p.length(r),c=i/(e.end-e.start);c=e.end-e.start>0?c:-c;var s=this.invertDim(u,"y"),f={};return f.x=this.isTransposed?s:c,f.y=this.isTransposed?c:s,f}}]),n}();t.exports=b},function(t,n,r){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function o(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function i(t,n,r){return n&&o(t.prototype,n),r&&o(t,r),t}function u(t,n){return(u=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function c(t,n,r){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,r){var e=function(t,n){for(;!Object.prototype.hasOwnProperty.call(t,n)&&null!==(t=s(t)););return t}(t,n);if(e){var a=Object.getOwnPropertyDescriptor(e,n);return a.get?a.get.call(r):a.value}})(t,n,r||t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=r(2),l=r(6),h=r(1),y=r(0),v=f.vec2,p=function(t){function n(t){var r;return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(r=a(this,s(n).call(this,t)))._init(),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&u(t,n)}(n,y),i(n,[{key:"getDefaultCfg",value:function(){var t=c(s(n.prototype),"getDefaultCfg",this).call(this);return h({},t,{startAngle:1.25*Math.PI,endAngle:7.25*Math.PI,innerRadius:0,type:"helix",isHelix:!0})}}]),i(n,[{key:"_init",value:function(){var t=this.width,n=this.height,r=this.radius,e=this.innerRadius,a=this.startAngle,o=this.endAngle,i=(o-a)/(2*Math.PI)+1,u=Math.min(t,n)/2;r&&r>=0&&r<=1&&(u*=r);var c=Math.floor(u*(1-e)/i),s=c/(2*Math.PI),f={start:a,end:o},l={start:e*u,end:e*u+.99*c};this.a=s,this.d=c,this.x=f,this.y=l}},{key:"getCenter",value:function(){return this.center}},{key:"convertPoint",value:function(t){var n,r,e=this.a,a=this.center;this.isTransposed?(n=t.y,r=t.x):(n=t.x,r=t.y);var o=this.convertDim(n,"x"),i=e*o,u=this.convertDim(r,"y");return{x:a.x+Math.cos(o)*(i+u),y:a.y+Math.sin(o)*(i+u)}}},{key:"invertPoint",value:function(t){var n=this.center,r=this.a,e=this.d+this.y.start,a=v.subtract([],[t.x,t.y],[n.x,n.y]),o=v.angleTo(a,[1,0],!0),i=o*r;v.length(a)<i&&(i=v.length(a));var u=r*(o=2*Math.floor((v.length(a)-i)/e)*Math.PI+o),c=v.length(a)-u;c=l(c,0)?0:c;var s=this.invertDim(o,"x"),f=this.invertDim(c,"y");s=l(s,0)?0:s,f=l(f,0)?0:f;var h={};return h.x=this.isTransposed?f:s,h.y=this.isTransposed?s:f,h}}]),n}();t.exports=p}])});