{"ast":null,"code":"import \"antd/lib/popover/style\";\nimport _Popover from \"antd/lib/popover\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/select/style\";\nimport _Select from \"antd/lib/select\";\nimport _slicedToArray from \"F:\\\\documents\\\\bl-device-manage-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"F:\\\\documents\\\\bl-device-manage-test\\\\src\\\\components\\\\GlobalTabel2\\\\selectLayout.js\";\nimport { select_arr, select_condtion } from \"constants/select_config\";\nimport { toJS } from \"mobx\";\nimport { inject, observer } from \"mobx-react\";\nimport React, { useEffect, useState } from \"react\";\nvar SelectLayout = observer(function (_ref) {\n  var TableStore = _ref.TableStore,\n      HomeStore = _ref.HomeStore;\n\n  var _useState = useState('and'),\n      _useState2 = _slicedToArray(_useState, 2),\n      select_type = _useState2[0],\n      setSelect_type = _useState2[1];\n\n  var _useState3 = useState(JSON.parse(sessionStorage.getItem('select_' + HomeStore.firstFormId)) || []),\n      _useState4 = _slicedToArray(_useState3, 2),\n      selectList = _useState4[0],\n      setSelectList = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      menu = _useState6[0],\n      setMenu = _useState6[1];\n\n  useEffect(function () {\n    console.log(toJS(TableStore.columns));\n  }, []);\n\n  var handleAdd = function handleAdd(item) {\n    var typeId = item['detailJson']['typeId'];\n    console.log(select_arr[typeId]);\n    console.log(select_condtion[typeId]);\n    console.log(toJS(item));\n  };\n\n  var getSelectItem = function getSelectItem(item, index) {\n    console.log(item);\n    console.log(index);\n  };\n\n  useEffect(function () {\n    setMenu( /*#__PURE__*/React.createElement(\"div\", {\n      className: \"columns_list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, TableStore.columns.map(function (item, index) {\n      if (selectList.some(function (sort_item) {\n        return sort_item['fieldInfo']['key'] == item['key'];\n      })) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"columns_item\",\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40\n          },\n          __self: this\n        }, item['title']);\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"columns_item item_uncheck\",\n          onClick: function onClick() {\n            return handleAdd(item);\n          },\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46\n          },\n          __self: this\n        }, item['title']);\n      }\n    })));\n  }, [selectList]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"select_main\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"select_title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"\\u7B5B\\u9009\\u51FA\\u4EE5\\u4E0B\", /*#__PURE__*/React.createElement(_Select, {\n    onChange: function onChange(value) {\n      return setSelect_type(value);\n    },\n    defaultValue: select_type,\n    style: {\n      paddingLeft: '5px',\n      paddingRight: '5px'\n    },\n    bordered: false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, /*#__PURE__*/React.createElement(_Select.Option, {\n    value: \"and\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \"\\u6240\\u6709\"), /*#__PURE__*/React.createElement(_Select.Option, {\n    value: \"or\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"\\u4EFB\\u610F\")), \"\\u6761\\u4EF6\\u7684\\u6570\\u636E\"), /*#__PURE__*/React.createElement(_Popover, {\n    content: menu,\n    trigger: \"click\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sort_add\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, /*#__PURE__*/React.createElement(_Button, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \"+\\u6DFB\\u52A0\\u8FC7\\u6EE4\\u6761\\u4EF6\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"select_content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, selectList.map(function (item, index) {\n    getSelectItem(item, index);\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"select_bottom\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, /*#__PURE__*/React.createElement(_Button, {\n    type: \"primary\",\n    className: \"selbtn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"\\u7B5B\\u9009\"), /*#__PURE__*/React.createElement(_Button, {\n    type: \"ghost\",\n    className: \"clebtn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, \"\\u6E05\\u9664\")));\n});\nexport default inject(function (stores) {\n  return {\n    TableStore: stores.TableStore,\n    HomeStore: stores.HomeStore\n  };\n})(SelectLayout);","map":{"version":3,"names":["select_arr","select_condtion","toJS","inject","observer","React","useEffect","useState","SelectLayout","TableStore","HomeStore","select_type","setSelect_type","JSON","parse","sessionStorage","getItem","firstFormId","selectList","setSelectList","menu","setMenu","console","log","columns","handleAdd","item","typeId","getSelectItem","index","map","some","sort_item","value","paddingLeft","paddingRight","stores"],"sources":["F:/documents/bl-device-manage-test/src/components/GlobalTabel2/selectLayout.js"],"sourcesContent":["/*\r\n * @Author: EmberCCC 1810888456@qq.com\r\n * @Date: 2022-07-13 10:02:28\r\n * @LastEditors: EmberCCC 1810888456@qq.com\r\n * @LastEditTime: 2022-07-13 11:34:13\r\n * @FilePath: \\bl-device-manage-test\\src\\components\\GlobalTabel2\\selectLayout.js\r\n * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n */\r\nimport { Button, Popover, Select } from \"antd\";\r\nimport { select_arr, select_condtion } from \"constants/select_config\";\r\nimport { toJS } from \"mobx\";\r\nimport { inject, observer } from \"mobx-react\";\r\nimport React, { useEffect, useState } from \"react\";\r\n\r\nconst SelectLayout = observer(({TableStore,HomeStore}) => {\r\n    const [select_type,setSelect_type] = useState('and');\r\n    const [selectList,setSelectList] = useState(JSON.parse(sessionStorage.getItem('select_' + HomeStore.firstFormId)) || [])\r\n    const [menu, setMenu] = useState(null)\r\n    useEffect(() => {\r\n        console.log(toJS(TableStore.columns));\r\n    },[])\r\n    const handleAdd = (item) => {\r\n        const typeId = item['detailJson']['typeId']\r\n        console.log(select_arr[typeId]);\r\n        console.log(select_condtion[typeId]);\r\n        console.log(toJS(item));\r\n    } \r\n    const getSelectItem = (item,index) => {\r\n        console.log(item);\r\n        console.log(index);\r\n    }\r\n    useEffect(() => {\r\n        setMenu(\r\n            (\r\n                <div className='columns_list'>\r\n                    {\r\n                        TableStore.columns.map((item, index) => {\r\n                            if (selectList.some(sort_item => sort_item['fieldInfo']['key'] == item['key'])) {\r\n                                return (\r\n                                    <div className=\"columns_item\" key={index}>\r\n                                        {item['title']}\r\n                                    </div>\r\n                                )\r\n                            } else {\r\n                                return (\r\n                                    <div className=\"columns_item item_uncheck\" onClick={() => handleAdd(item)} key={index}>\r\n                                        {item['title']}\r\n                                    </div>\r\n                                )\r\n                            }\r\n                        })\r\n                    }\r\n                </div>\r\n            )\r\n        )\r\n    }, [selectList])\r\n    return (\r\n        <div className=\"select_main\">\r\n            <div className=\"select_title\">\r\n                筛选出以下\r\n                <Select onChange={(value) => setSelect_type(value)} defaultValue={select_type} style={{paddingLeft:'5px',paddingRight:'5px'}} bordered={false}>\r\n                    <Select.Option value='and'>所有</Select.Option>\r\n                    <Select.Option value='or'>任意</Select.Option>\r\n                </Select>\r\n                条件的数据\r\n            </div>\r\n            <Popover content={menu} trigger='click'>\r\n                <div className='sort_add'>\r\n                    <Button>+添加过滤条件</Button>\r\n                </div>\r\n            </Popover>\r\n            <div className=\"select_content\">\r\n                {\r\n                    selectList.map((item,index) => {\r\n                        getSelectItem(item,index)\r\n                    })\r\n                }\r\n            </div>\r\n            <div className=\"select_bottom\">\r\n                <Button type=\"primary\" className=\"selbtn\">筛选</Button>\r\n                <Button type=\"ghost\" className=\"clebtn\">清除</Button>\r\n            </div>\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default inject((stores) => ({TableStore:stores.TableStore,HomeStore:stores.HomeStore}))(SelectLayout)"],"mappings":"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"},"metadata":{},"sourceType":"module"}