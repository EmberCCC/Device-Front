{"ast":null,"code":"/**\n * @description 项目中复用到的工具方法\n */\nimport { isEmpty } from 'lodash';\n/* 判断数据是否存在 */\n\nexport function isDataExist(res) {\n  var isExist = false;\n\n  if (res) {\n    if (res.data) {\n      if (res.data.data) isExist = true;\n      if (res.data.code.toString() === '0') isExist = true;\n    }\n  }\n\n  return isExist;\n}\n/* 关于解析路径上的query传参 */\n\nexport function initSearchQuery(search) {\n  var data = {};\n  search = search.split('?')[1];\n\n  if (search.indexOf('&') > -1) {\n    search = search.split('&');\n    search.map(function (item) {\n      var per = item.split('=');\n      data[per[0]] = per[1];\n      return item;\n    });\n  } else {\n    search = search.split('=');\n    data[search[0]] = search[1];\n  }\n\n  return data;\n}\n/* 判断当前终端 */\n\nexport function judgeIsMobile(type) {\n  if (type === 'pc') return false;\n  if (type === 'mobile') return true;\n}\n/* 校验当前menu选择 */\n\nexport function checkCurrentMenu(_ref) {\n  var menuObj = _ref.menuObj,\n      actionId = _ref.actionId;\n  var currentMenu = [],\n      crumbsList = [];\n  /* 一级菜单查询 */\n\n  console.log(actionId);\n  console.log(menuObj);\n  currentMenu = menuObj.filter(function (leaf) {\n    return leaf.id === actionId;\n  });\n  console.log(currentMenu);\n\n  try {\n    if (isEmpty(currentMenu)) {\n      /* 二级菜单查询 */\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = menuObj[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var lv2 = _step.value;\n          console.log(lv2);\n\n          if (lv2.leafMenuModels.length > 0) {\n            currentMenu = lv2.leafMenuModels.filter(function (leaf) {\n              return leaf.id === actionId;\n            });\n\n            if (!isEmpty(currentMenu)) {\n              crumbsList = crumbsList.concat([{\n                id: lv2.id,\n                name: lv2.name,\n                path: lv2.path\n              }, {\n                id: currentMenu[0].id,\n                name: currentMenu[0].name,\n                path: currentMenu[0].path\n              }]); // finished(currentMenu[0].path);\n\n              return {\n                currentMenu: currentMenu,\n                crumbsList: crumbsList\n              };\n            } else {\n              /* 三级菜单查询 */\n              var _iteratorNormalCompletion2 = true;\n              var _didIteratorError2 = false;\n              var _iteratorError2 = undefined;\n\n              try {\n                for (var _iterator2 = lv2.leafMenuModels[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                  var lv3 = _step2.value;\n\n                  if (lv3.leafMenuModels) {\n                    currentMenu = lv3.leafMenuModels.filter(function (leaf) {\n                      return leaf.id === actionId;\n                    });\n\n                    if (!isEmpty(currentMenu)) {\n                      crumbsList.push({\n                        id: currentMenu[0].id,\n                        name: currentMenu[0].name,\n                        path: currentMenu[0].path\n                      });\n                    }\n\n                    return {\n                      currentMenu: currentMenu,\n                      crumbsList: crumbsList\n                    }; // finished(currentMenu[0].path);\n                  }\n                }\n              } catch (err) {\n                _didIteratorError2 = true;\n                _iteratorError2 = err;\n              } finally {\n                try {\n                  if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n                    _iterator2.return();\n                  }\n                } finally {\n                  if (_didIteratorError2) {\n                    throw _iteratorError2;\n                  }\n                }\n              }\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    } else {\n      crumbsList.push(currentMenu[0]); // finished(currentMenu[0].path);\n\n      return {\n        currentMenu: currentMenu,\n        crumbsList: crumbsList\n      };\n    }\n  } catch (error) {\n    console.log(error);\n  }\n\n  return {\n    currentMenu: currentMenu,\n    crumbsList: crumbsList\n  };\n}\n/* 关于cookie */\n\nexport function getCookie(c_name) {\n  if (document.cookie.length > 0) {\n    var c_start = document.cookie.indexOf(c_name + \"=\");\n\n    if (c_start !== -1) {\n      c_start = c_start + c_name.length + 1;\n      var c_end = document.cookie.indexOf(\";\", c_start);\n      if (c_end === -1) c_end = document.cookie.length;\n      return unescape(document.cookie.substring(c_start, c_end)).replace(/\\\"/g, \"\");\n    }\n  }\n}\nexport function setCookie(name, value, seconds) {\n  seconds = seconds || 0; //seconds有值就直接赋值，没有为0\n\n  var expires = \"\";\n\n  if (seconds !== 0) {\n    //设置cookie生存时间\n    var date = new Date();\n    date.setTime(date.getTime() + seconds * 1000);\n    expires = \"; expires=\" + date.toGMTString();\n  }\n\n  document.cookie = name + \"=\" + escape(value) + expires + \"; path=/\"; //转码并赋值\n}\nexport function clearCookie(name) {\n  setCookie(name, \"\");\n  setCookie('isChecked', false);\n}","map":{"version":3,"sources":["F:\\documents\\bl-device-manage\\src\\utils\\dataTools.js"],"names":["isEmpty","isDataExist","res","isExist","data","code","toString","initSearchQuery","search","split","indexOf","map","item","per","judgeIsMobile","type","checkCurrentMenu","menuObj","actionId","currentMenu","crumbsList","console","log","filter","leaf","id","lv2","leafMenuModels","length","concat","name","path","lv3","push","error","getCookie","c_name","document","cookie","c_start","c_end","unescape","substring","replace","setCookie","value","seconds","expires","date","Date","setTime","getTime","toGMTString","escape","clearCookie"],"mappings":"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","sourcesContent":["/**\n * @description 项目中复用到的工具方法\n */\n\nimport { isEmpty } from 'lodash';\n\n/* 判断数据是否存在 */\nexport function isDataExist(res){\n  let isExist = false;\n  if(res){\n    if(res.data){\n      if(res.data.data)\n        isExist = true;\n      if(res.data.code.toString() === '0')\n        isExist = true; \n    }\n  }\n  return isExist;\n}\n\n/* 关于解析路径上的query传参 */\nexport function initSearchQuery(search){\n  let data = {};\n  search = search.split('?')[1];\n  if(search.indexOf('&') > -1){\n    search = search.split('&');\n    search.map(item=>{\n      let per = item.split('=');\n      data[per[0]] = per[1];\n      return item;\n    });\n  }else{\n    search = search.split('=');\n    data[search[0]] = search[1];\n  }\n  return data;\n}\n\n/* 判断当前终端 */\nexport function judgeIsMobile(type) {\n  if(type === 'pc') return false;\n  if(type === 'mobile') return true;\n}\n\n/* 校验当前menu选择 */\nexport function checkCurrentMenu({\n  menuObj,actionId,\n}){\n  let currentMenu = [],crumbsList = [];\n  /* 一级菜单查询 */\n  console.log(actionId);\n  console.log(menuObj);\n  currentMenu = menuObj.filter(leaf => leaf.id === actionId);\n  console.log(currentMenu);\n  try {\n    if (isEmpty(currentMenu)) {\n      /* 二级菜单查询 */\n      for(let lv2 of menuObj){\n        console.log(lv2);\n        if( lv2.leafMenuModels.length > 0 ){\n          currentMenu = lv2.leafMenuModels.filter(leaf=>leaf.id === actionId);\n          if(!isEmpty(currentMenu)){\n            crumbsList = crumbsList.concat([{\n              id:lv2.id,name:lv2.name,path:lv2.path\n            },{\n              id:currentMenu[0].id,name:currentMenu[0].name,path:currentMenu[0].path\n            }]);\n            // finished(currentMenu[0].path);\n            return { currentMenu,crumbsList };\n          } else {\n            /* 三级菜单查询 */\n            for (let lv3 of lv2.leafMenuModels){\n              if (lv3.leafMenuModels) {\n                currentMenu = lv3.leafMenuModels.filter(leaf => leaf.id === actionId);\n                if(!isEmpty(currentMenu)){\n                  crumbsList.push({\n                    id:currentMenu[0].id,name:currentMenu[0].name,path:currentMenu[0].path\n                  });\n                }\n                return { currentMenu,crumbsList };\n                // finished(currentMenu[0].path);\n              }\n            }\n          }\n        }\n      }\n    }else{\n      crumbsList.push(currentMenu[0]);\n      // finished(currentMenu[0].path);\n      return { currentMenu,crumbsList };\n    }\n  } catch (error) {\n    console.log(error);\n  }\n  return { currentMenu,crumbsList };\n}\n\n\n/* 关于cookie */\nexport function getCookie(c_name){\n  if (document.cookie.length > 0) {\n    let c_start = document.cookie.indexOf(c_name + \"=\")\n    if (c_start !== -1) {\n        c_start = c_start + c_name.length + 1\n        let c_end = document.cookie.indexOf(\";\", c_start)\n        if (c_end === -1) c_end = document.cookie.length\n        return unescape(document.cookie.substring(c_start, c_end)).replace(/\\\"/g, \"\");\n    }\n  }\n}\nexport function setCookie(name,value,seconds){\n  seconds = seconds || 0;   //seconds有值就直接赋值，没有为0\n  let expires = \"\";\n  if (seconds !== 0) {      //设置cookie生存时间\n    let date = new Date();\n    date.setTime(date.getTime() + (seconds * 1000));\n    expires = \"; expires=\" + date.toGMTString();\n  }\n  document.cookie = name + \"=\" + escape(value) + expires + \"; path=/\";   //转码并赋值\n}\nexport function clearCookie(name){\n  setCookie(name, \"\");\n  setCookie('isChecked',false);\n}\n"]},"metadata":{},"sourceType":"module"}