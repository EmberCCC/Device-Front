{"ast":null,"code":"import \"antd/lib/popover/style\";\nimport _Popover from \"antd/lib/popover\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport _slicedToArray from \"F:\\\\documents\\\\bl-device-manage-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"F:\\\\documents\\\\bl-device-manage-test\\\\src\\\\components\\\\GlobalTabel2\\\\sortLayout.js\";\nimport { toJS } from 'mobx';\nimport { inject, observer } from 'mobx-react';\nimport React, { useEffect, useState } from 'react';\nimport stores from 'stores';\nimport './index.css';\nvar SortLayout = observer(function (_ref) {\n  var TableStore = _ref.TableStore;\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      sortList = _useState2[0],\n      setSortList = _useState2[1];\n\n  var menu = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"columns_list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }, TableStore.columns.map(function (item, index) {\n    console.log(toJS(item));\n    console.log(sortList);\n\n    if (sortList.hasOwnProperty(item['key'])) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"columns_item\",\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25\n        },\n        __self: this\n      }, item['title']);\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"columns_item item_uncheck\",\n        onClick: function onClick() {\n          return handleAdd(item);\n        },\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, item['title']);\n    }\n  }));\n\n  var handleAdd = function handleAdd(item) {\n    var iSort = sortList;\n    iSort[item['key']] = item;\n    setSortList(iSort);\n    console.log(sortList);\n  };\n\n  useEffect(function () {\n    menu = /*#__PURE__*/React.createElement(\"div\", {\n      className: \"columns_list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, TableStore.columns.map(function (item, index) {\n      console.log(toJS(item));\n      console.log(sortList);\n\n      if (sortList.hasOwnProperty(item['key'])) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"columns_item\",\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }, item['title']);\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"columns_item item_uncheck\",\n          onClick: function onClick() {\n            return handleAdd(item);\n          },\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, item['title']);\n      }\n    }));\n  }, [sortList]); // useEffect(() => {\n  //     console.log(toJS(TableStore.columns));\n  // }, [])\n\n  var handleClick = function handleClick() {\n    console.log('add');\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sort_layout\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, /*#__PURE__*/React.createElement(_Popover, {\n    content: menu,\n    trigger: \"click\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sort_add\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, /*#__PURE__*/React.createElement(_Button, {\n    onClick: handleClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, \"+\\u6DFB\\u52A0\\u6392\\u5E8F\\u89C4\\u5219\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sort_list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sort_btn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, /*#__PURE__*/React.createElement(_Button, {\n    type: \"primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"\\u6392\\u5E8F\")));\n});\nexport default inject(function (stores) {\n  return {\n    TableStore: stores.TableStore\n  };\n})(SortLayout);","map":{"version":3,"names":["toJS","inject","observer","React","useEffect","useState","stores","SortLayout","TableStore","sortList","setSortList","menu","columns","map","item","index","console","log","hasOwnProperty","handleAdd","iSort","handleClick"],"sources":["F:/documents/bl-device-manage-test/src/components/GlobalTabel2/sortLayout.js"],"sourcesContent":["/*\r\n * @Author: EmberCCC 1810888456@qq.com\r\n * @Date: 2022-07-08 06:52:37\r\n * @LastEditors: EmberCCC 1810888456@qq.com\r\n * @LastEditTime: 2022-07-08 09:22:17\r\n * @FilePath: \\bl-device-manage-test\\src\\components\\GlobalTabel2\\sortLayout.js\r\n * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n */\r\nimport { Button, Popover } from 'antd'\r\nimport { toJS } from 'mobx'\r\nimport { inject, observer } from 'mobx-react'\r\nimport React, { useEffect, useState } from 'react'\r\nimport stores from 'stores'\r\nimport './index.css'\r\nconst SortLayout = observer(({ TableStore }) => {\r\n    const [sortList, setSortList] = useState({});\r\n    let menu = (\r\n        <div className='columns_list'>\r\n            {\r\n                TableStore.columns.map((item, index) => {\r\n                    console.log(toJS(item));\r\n                    console.log(sortList);\r\n                    if (sortList.hasOwnProperty(item['key'])) {\r\n                        return (\r\n                            <div className=\"columns_item\" key={index}>\r\n                                {item['title']}\r\n                            </div>\r\n                        )\r\n                    } else {\r\n                        return (\r\n                            <div className=\"columns_item item_uncheck\" onClick={() => handleAdd(item)} key={index}>\r\n                                {item['title']}\r\n                            </div>\r\n                        )\r\n                    }\r\n                })\r\n            }\r\n        </div>\r\n    )\r\n    const handleAdd = (item) => {\r\n        let iSort = sortList;\r\n        iSort[item['key']] = item\r\n        setSortList(iSort)\r\n        console.log(sortList);\r\n    }\r\n    useEffect(() => {\r\n        menu = (\r\n            <div className='columns_list'>\r\n                {\r\n                    TableStore.columns.map((item, index) => {\r\n                        console.log(toJS(item));\r\n                        console.log(sortList);\r\n                        if (sortList.hasOwnProperty(item['key'])) {\r\n                            return (\r\n                                <div className=\"columns_item\" key={index}>\r\n                                    {item['title']}\r\n                                </div>\r\n                            )\r\n                        } else {\r\n                            return (\r\n                                <div className=\"columns_item item_uncheck\" onClick={() => handleAdd(item)} key={index}>\r\n                                    {item['title']}\r\n                                </div>\r\n                            )\r\n                        }\r\n                    })\r\n                }\r\n            </div>\r\n        )\r\n    }, [sortList])\r\n    // useEffect(() => {\r\n    //     console.log(toJS(TableStore.columns));\r\n    // }, [])\r\n    const handleClick = () => {\r\n        console.log('add');\r\n    }\r\n    return (\r\n        <div className='sort_layout'>\r\n            <Popover content={menu} trigger='click'>\r\n                <div className='sort_add'>\r\n                    <Button onClick={handleClick}>+添加排序规则</Button>\r\n                </div>\r\n            </Popover>\r\n            <div className='sort_list'></div>\r\n            <div className='sort_btn'>\r\n                <Button type='primary'>排序</Button>\r\n            </div>\r\n        </div>\r\n    )\r\n})\r\n\r\n\r\nexport default inject((stores) => ({ TableStore: stores.TableStore }))(SortLayout);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}