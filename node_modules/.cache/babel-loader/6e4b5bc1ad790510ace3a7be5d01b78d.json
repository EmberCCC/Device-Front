{"ast":null,"code":"import \"antd/lib/modal/style\";\nimport _Modal from \"antd/lib/modal\";\nimport \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport _objectSpread from \"D:\\\\GGdownload\\\\\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"D:\\\\GGdownload\\\\\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\GGdownload\\\\\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\GGdownload\\\\\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\GGdownload\\\\\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\GGdownload\\\\\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport \"antd/lib/select/style\";\nimport _Select from \"antd/lib/select\";\n\nvar _dec,\n    _class,\n    _temp,\n    _jsxFileName = \"D:\\\\GGdownload\\\\\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF\\\\bl-device-manage\\\\src\\\\layouts\\\\BasicManage\\\\ConfigPage\\\\AddModal.js\";\n\nimport React, { Component } from 'react';\nimport { Form } from '@ant-design/compatible';\nimport '@ant-design/compatible/assets/index.css';\nimport { inject, observer } from 'mobx-react';\nimport { toJS } from 'mobx';\nvar Option = _Select.Option;\nvar formItemLayout = {\n  labelCol: {\n    span: 6\n  },\n  wrapperCol: {\n    span: 12\n  }\n};\nvar moment = window.GLOBAL_PARAMS.moment;\nvar AddModal = (_dec = inject('DeviceDefineStore'), _dec(_class = observer(_class = (_temp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddModal, _Component);\n\n  function AddModal(props) {\n    var _this;\n\n    _classCallCheck(this, AddModal);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddModal).call(this, props));\n\n    _this.onOk = function () {\n      _this.props.form.validateFieldsAndScroll(function (err, values) {\n        if (!err) {\n          var params = _objectSpread({}, values);\n\n          if (_this.store.configStatus === 'edit') {\n            params.id = _this.store.devCurrent.id;\n          }\n\n          _this.store.saveDevice(params);\n\n          _this.onClose();\n        }\n      });\n    };\n\n    _this.onSelectType = function (value) {\n      _this.store.getSelectModel({\n        typeId: value\n      });\n    };\n\n    _this.onClose = function () {\n      _this.store.configVisible = false;\n    };\n\n    _this.state = {\n      value: '',\n      radio: 1,\n      showMore: false\n    };\n    _this.store = _this.props.DeviceDefineStore;\n    return _this;\n  }\n\n  _createClass(AddModal, [{\n    key: \"render\",\n    value: function render() {\n      var getFieldDecorator = this.props.form.getFieldDecorator;\n      var status = this.props.status;\n\n      var _toJS = toJS(this.store),\n          configVisible = _toJS.configVisible,\n          devCurrent = _toJS.devCurrent,\n          selectType = _toJS.selectType,\n          selectModel = _toJS.selectModel,\n          employeeList = _toJS.employeeList,\n          customerList = _toJS.customerList;\n\n      return React.createElement(_Modal, {\n        title: \"\".concat(status === 'query' ? '查看' : status === 'add' ? \"新增\" : '配置'),\n        visible: configVisible,\n        onCancel: this.onClose,\n        footer: status !== 'query' ? React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36\n          },\n          __self: this\n        }, React.createElement(_Button, {\n          onClick: this.onClose,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37\n          },\n          __self: this\n        }, \"\\u53D6\\u6D88\"), React.createElement(_Button, {\n          type: \"primary\",\n          onClick: this.onOk,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38\n          },\n          __self: this\n        }, \"\\u786E\\u5B9A\")) : React.createElement(_Button, {\n          type: \"primary\",\n          onClick: this.onClose,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        }, \"\\u5173\\u95ED\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(Form.Item, Object.assign({}, formItemLayout, {\n        label: \"\\u8BBE\\u5907\\u7C7B\\u578B\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }), getFieldDecorator('typeId', {\n        initialValue: status !== 'add' ? devCurrent.typeId : undefined,\n        rules: [{\n          required: true,\n          message: '请选择设备类型'\n        }]\n      })(React.createElement(_Select, {\n        placeholder: \"\\u8BF7\\u9009\\u62E9\",\n        style: {\n          width: 250\n        },\n        disabled: status !== 'add',\n        onChange: this.onSelectType,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, selectType.length > 0 && selectType.map(function (mas) {\n        return React.createElement(Option, {\n          key: mas.id,\n          value: mas.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }, mas.typeName);\n      })))), React.createElement(Form.Item, Object.assign({}, formItemLayout, {\n        label: \"\\u8BBE\\u5907\\u578B\\u53F7\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }), getFieldDecorator('modelId', {\n        initialValue: status !== 'add' ? devCurrent.modelId : undefined,\n        rules: [{\n          required: true,\n          message: '请选择设备型号'\n        }]\n      })(React.createElement(_Select, {\n        style: {\n          width: 250\n        },\n        placeholder: \"\\u8BF7\\u9009\\u62E9\",\n        disabled: status !== 'add',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, selectModel.length > 0 && selectModel.map(function (mas) {\n        return React.createElement(Option, {\n          key: mas.id,\n          value: mas.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, mas.modelName);\n      })))), React.createElement(Form.Item, Object.assign({}, formItemLayout, {\n        label: \"\\u8BBE\\u5907\\u540D\\u79F0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), getFieldDecorator('deviceName', {\n        initialValue: status !== 'add' ? devCurrent.deviceName : undefined,\n        rules: [{\n          required: true,\n          message: '请填写设备名称'\n        }]\n      })(React.createElement(_Input, {\n        disabled: status !== 'add',\n        placeholder: \"\\u8BF7\\u8F93\\u5165\",\n        style: {\n          width: '250px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }))), React.createElement(Form.Item, Object.assign({}, formItemLayout, {\n        label: \"\\u8BBE\\u5907\\u7F16\\u53F7\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }), getFieldDecorator('deviceCode', {\n        initialValue: status !== 'add' ? devCurrent.deviceCode : undefined,\n        rules: [{\n          required: true,\n          message: '请填写设备编号'\n        }]\n      })(React.createElement(_Input, {\n        disabled: status !== 'add',\n        placeholder: \"\\u8BF7\\u8F93\\u5165\",\n        style: {\n          width: '250px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }))), React.createElement(Form.Item, Object.assign({}, formItemLayout, {\n        label: \"\\u5408\\u4F5C\\u4F19\\u4F34\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }), getFieldDecorator('customerId', {\n        initialValue: status !== 'add' ? devCurrent.customerId : undefined,\n        rules: [{\n          required: true,\n          message: '请选择合作伙伴'\n        }]\n      })(React.createElement(_Select, {\n        placeholder: \"\\u8BF7\\u9009\\u62E9\",\n        style: {\n          width: 250\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, customerList.length > 0 && customerList.map(function (mas) {\n        return React.createElement(Option, {\n          key: mas.id,\n          value: mas.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        }, mas.customerName);\n      })))), React.createElement(Form.Item, Object.assign({}, formItemLayout, {\n        label: \"\\u5B89\\u88C5\\u4F4D\\u7F6E\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }), getFieldDecorator('address', {\n        initialValue: status !== 'add' ? devCurrent.address : undefined\n      })(React.createElement(_Input, {\n        disabled: status === 'query',\n        placeholder: \"\\u8BF7\\u8F93\\u5165\",\n        style: {\n          width: '250px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }))), React.createElement(Form.Item, Object.assign({}, formItemLayout, {\n        label: \"\\u70B9\\u68C0\\u4EBA\\u5458\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }), getFieldDecorator('checkId', {\n        initialValue: status !== 'add' ? devCurrent.checkId : undefined\n      })(React.createElement(_Select, {\n        showSearch: true,\n        optionFilterProp: \"children\",\n        placeholder: \"\\u8BF7\\u9009\\u62E9\",\n        style: {\n          width: 200\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, employeeList.length > 0 && employeeList.map(function (mas) {\n        return React.createElement(Option, {\n          key: mas.id,\n          value: mas.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        }, mas.name);\n      })))), React.createElement(Form.Item, Object.assign({}, formItemLayout, {\n        label: \"\\u5DE1\\u68C0\\u4EBA\\u5458\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }), getFieldDecorator('inspectionId', {\n        initialValue: status !== 'add' ? devCurrent.inspectionId : undefined\n      })(React.createElement(_Select, {\n        showSearch: true,\n        optionFilterProp: \"children\",\n        placeholder: \"\\u8BF7\\u9009\\u62E9\",\n        style: {\n          width: 200\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, employeeList.length > 0 && employeeList.map(function (mas) {\n        return React.createElement(Option, {\n          key: mas.id,\n          value: mas.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        }, mas.name);\n      })))), React.createElement(Form.Item, Object.assign({}, formItemLayout, {\n        label: \"\\u7EF4\\u4FEE\\u4EBA\\u5458\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }), getFieldDecorator('repairId', {\n        initialValue: status !== 'add' ? devCurrent.repairId : undefined\n      })(React.createElement(_Select, {\n        showSearch: true,\n        optionFilterProp: \"children\",\n        placeholder: \"\\u8BF7\\u9009\\u62E9\",\n        style: {\n          width: 200\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, employeeList.length > 0 && employeeList.map(function (mas) {\n        return React.createElement(Option, {\n          key: mas.id,\n          value: mas.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174\n          },\n          __self: this\n        }, mas.name);\n      })))), React.createElement(Form.Item, Object.assign({}, formItemLayout, {\n        label: \"\\u4FDD\\u517B\\u4EBA\\u5458\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }), getFieldDecorator('maintainId', {\n        initialValue: status !== 'add' ? devCurrent.maintainId : undefined\n      })(React.createElement(_Select, {\n        showSearch: true,\n        optionFilterProp: \"children\",\n        placeholder: \"\\u8BF7\\u9009\\u62E9\",\n        style: {\n          width: 200\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, employeeList.length > 0 && employeeList.map(function (mas) {\n        return React.createElement(Option, {\n          key: mas.id,\n          value: mas.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190\n          },\n          __self: this\n        }, mas.name);\n      }))))));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.store.getUsersByRoles();\n      this.store.getCustomerList();\n      this.store.getSelectType();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.store.devCurrent = {};\n    }\n  }]);\n\n  return AddModal;\n}(Component), _temp)) || _class) || _class);\nvar WrappedDynamicRule = Form.create({})(AddModal);\nexport default WrappedDynamicRule;","map":{"version":3,"sources":["D:\\GGdownload\\设备运维前端\\bl-device-manage\\src\\layouts\\BasicManage\\ConfigPage\\AddModal.js"],"names":["React","Component","Form","inject","observer","toJS","Option","formItemLayout","labelCol","span","wrapperCol","moment","window","GLOBAL_PARAMS","AddModal","props","onOk","form","validateFieldsAndScroll","err","values","params","store","configStatus","id","devCurrent","saveDevice","onClose","onSelectType","value","getSelectModel","typeId","configVisible","state","radio","showMore","DeviceDefineStore","getFieldDecorator","status","selectType","selectModel","employeeList","customerList","initialValue","undefined","rules","required","message","width","length","map","mas","typeName","modelId","modelName","deviceName","deviceCode","customerId","customerName","address","checkId","name","inspectionId","repairId","maintainId","getUsersByRoles","getCustomerList","getSelectType","WrappedDynamicRule","create"],"mappings":"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","sourcesContent":["import React,{ Component } from 'react';\r\nimport { Form } from '@ant-design/compatible';\r\nimport '@ant-design/compatible/assets/index.css';\r\nimport { Input, Button, DatePicker, Select, Modal } from 'antd';\r\nimport { inject,observer } from 'mobx-react';\r\nimport { toJS } from 'mobx';\r\nconst { Option } = Select;\r\n\r\nconst formItemLayout = {\r\n  labelCol: { span: 6 },\r\n  wrapperCol: { span: 12 },\r\n};\r\nconst { moment } = window.GLOBAL_PARAMS;\r\n\r\n@inject('DeviceDefineStore')\r\n@observer\r\nclass AddModal extends Component{\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      value:'',\r\n      radio:1,\r\n      showMore : false\r\n    }\r\n    this.store = this.props.DeviceDefineStore;\r\n  }\r\n  render(){\r\n    const { getFieldDecorator } = this.props.form;\r\n    const { status } = this.props;\r\n    const { configVisible,devCurrent,selectType,selectModel,employeeList,customerList} = toJS(this.store);\r\n    return <Modal\r\n      title={`${status === 'query' ? '查看' : status === 'add' ? \"新增\" : '配置'}`}\r\n      visible={configVisible}\r\n      onCancel={this.onClose}\r\n      footer={\r\n        status !== 'query' ? <div>\r\n          <Button onClick={this.onClose}>取消</Button>\r\n          <Button type='primary' onClick={this.onOk}>确定</Button>\r\n        </div> : <Button type='primary' onClick={this.onClose}>关闭</Button>\r\n      }\r\n    >\r\n      <Form>\r\n        <Form.Item {...formItemLayout} label=\"设备类型\">\r\n          {getFieldDecorator('typeId', {\r\n            initialValue: status !== 'add' ? devCurrent.typeId : undefined,\r\n            rules: [{ required: true, message: '请选择设备类型' }]\r\n          })(\r\n            <Select \r\n              placeholder=\"请选择\"\r\n              style={{ width: 250 }} \r\n              disabled={status !== 'add'}\r\n              onChange={this.onSelectType}\r\n            > \r\n              {\r\n                selectType.length > 0 && selectType.map(mas =><Option key={mas.id} value={mas.id}>{mas.typeName}</Option>)\r\n              }\r\n            </Select>\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item {...formItemLayout} label=\"设备型号\">\r\n          {getFieldDecorator('modelId', {\r\n            initialValue: status !== 'add' ? devCurrent.modelId : undefined,\r\n            rules: [{ required: true, message: '请选择设备型号' }]\r\n          })(\r\n            <Select \r\n              style={{width:250}}\r\n              placeholder=\"请选择\"\r\n              disabled={status !== 'add'} \r\n            > \r\n              {\r\n                selectModel.length > 0 && selectModel.map(mas =><Option key={mas.id} value={mas.id}>{mas.modelName}</Option>)\r\n              }\r\n            </Select>\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item {...formItemLayout} label=\"设备名称\">\r\n          {getFieldDecorator('deviceName', {\r\n            initialValue:status !== 'add' ? devCurrent.deviceName : undefined,\r\n            rules: [\r\n              {\r\n                required: true,\r\n                message: '请填写设备名称',\r\n              },\r\n            ],\r\n          })(\r\n            <Input disabled={status !== 'add'} placeholder='请输入' style={{width:'250px'}} />\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item {...formItemLayout} label=\"设备编号\">\r\n          {getFieldDecorator('deviceCode', {\r\n            initialValue:status !== 'add' ? devCurrent.deviceCode : undefined,\r\n            rules: [\r\n              {\r\n                required: true,\r\n                message: '请填写设备编号',\r\n              },\r\n            ],\r\n          })(\r\n            <Input disabled={status !== 'add'} placeholder='请输入' style={{width:'250px'}} />\r\n          )}\r\n        </Form.Item>\r\n        \r\n        <Form.Item {...formItemLayout} label=\"合作伙伴\">\r\n          {getFieldDecorator('customerId', {\r\n            initialValue:status !== 'add' ? devCurrent.customerId : undefined,\r\n            rules: [\r\n              {\r\n                required: true,\r\n                message: '请选择合作伙伴',\r\n              },\r\n            ],\r\n          })(\r\n            <Select \r\n              placeholder=\"请选择\"\r\n              style={{ width: 250 }} \r\n            > \r\n              {\r\n                customerList.length>0 && customerList.map(mas =><Option key={mas.id} value={mas.id}>{mas.customerName}</Option>)\r\n              }\r\n            </Select>\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item {...formItemLayout} label=\"安装位置\">\r\n          {getFieldDecorator('address', {\r\n            initialValue:status !== 'add' ? devCurrent.address : undefined,\r\n            \r\n          })(\r\n            <Input disabled={status === 'query'} placeholder='请输入' style={{width:'250px'}} />\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item {...formItemLayout} label=\"点检人员\">\r\n          {getFieldDecorator('checkId', {\r\n            initialValue:status !== 'add' ? devCurrent.checkId : undefined,\r\n          })(\r\n            <Select \r\n              showSearch\r\n              optionFilterProp='children'\r\n              placeholder=\"请选择\"\r\n              style={{ width: 200 }} \r\n            > \r\n              {\r\n                employeeList.length > 0 && employeeList.map(mas =><Option key={mas.id} value={mas.id}>{mas.name}</Option>)\r\n              }\r\n            </Select>\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item {...formItemLayout} label=\"巡检人员\">\r\n          {getFieldDecorator('inspectionId', {\r\n            initialValue:status !== 'add' ? devCurrent.inspectionId : undefined,\r\n          })(\r\n            <Select \r\n              showSearch\r\n              optionFilterProp='children'\r\n              placeholder=\"请选择\"\r\n              style={{ width: 200 }} \r\n            > \r\n              {\r\n                employeeList.length > 0 && employeeList.map(mas =><Option key={mas.id} value={mas.id}>{mas.name}</Option>)\r\n              }\r\n            </Select>\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item {...formItemLayout} label=\"维修人员\">\r\n          {getFieldDecorator('repairId', {\r\n            initialValue:status !== 'add' ? devCurrent.repairId : undefined,\r\n          })(\r\n            <Select \r\n              showSearch\r\n              optionFilterProp='children'\r\n              placeholder=\"请选择\"\r\n              style={{ width: 200 }} \r\n            > \r\n              {\r\n                employeeList.length > 0 && employeeList.map(mas =><Option key={mas.id} value={mas.id}>{mas.name}</Option>)\r\n              }\r\n            </Select>\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item {...formItemLayout} label=\"保养人员\">\r\n          {getFieldDecorator('maintainId', {\r\n            initialValue:status !== 'add' ? devCurrent.maintainId : undefined,\r\n          })(\r\n            <Select \r\n              showSearch\r\n              optionFilterProp='children'\r\n              placeholder=\"请选择\"\r\n              style={{ width: 200 }} \r\n            > \r\n              {\r\n                employeeList.length > 0 && employeeList.map(mas =><Option key={mas.id} value={mas.id}>{mas.name}</Option>)\r\n              }\r\n            </Select>\r\n          )}\r\n        </Form.Item>\r\n      </Form>\r\n    </Modal>\r\n  }\r\n  \r\n  \r\n  onOk = ()=>{\r\n    this.props.form.validateFieldsAndScroll((err, values) => {\r\n      if (!err) {\r\n        let params = {\r\n          ...values,\r\n          // deviceTime:values.deviceTime.format('YYYY-MM-DD HH:MM:SS')\r\n        }\r\n        if(this.store.configStatus === 'edit'){\r\n          params.id = this.store.devCurrent.id\r\n        }\r\n        this.store.saveDevice(params)\r\n        this.onClose();\r\n      }\r\n    });\r\n  }\r\n  onSelectType = (value)=>{\r\n    this.store.getSelectModel({typeId:value})\r\n  }\r\n  onClose=()=>{this.store.configVisible = false}\r\n  componentDidMount(){\r\n    this.store.getUsersByRoles()\r\n    this.store.getCustomerList()\r\n    this.store.getSelectType()\r\n  }\r\n  componentWillUnmount(){\r\n    this.store.devCurrent = {}\r\n    \r\n  }\r\n}\r\nconst WrappedDynamicRule = Form.create({})(AddModal);\r\nexport default WrappedDynamicRule;"]},"metadata":{},"sourceType":"module"}