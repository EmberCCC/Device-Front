{"ast":null,"code":"import \"antd/lib/radio/style\";\nimport _Radio from \"antd/lib/radio\";\nimport \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nimport \"antd/lib/select/style\";\nimport _Select from \"antd/lib/select\";\nimport \"antd/lib/message/style\";\nimport _message from \"antd/lib/message\";\nimport _objectSpread from \"F:\\\\documents\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"F:\\\\documents\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\documents\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"F:\\\\documents\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"F:\\\\documents\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"F:\\\\documents\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\n\nvar _dec,\n    _class,\n    _temp,\n    _jsxFileName = \"F:\\\\documents\\\\bl-device-manage\\\\src\\\\layouts\\\\SystemManager\\\\DepartmentManager\\\\DepartmentDialog.js\";\n\nimport React, { Component } from 'react';\nimport { inject, observer } from 'mobx-react';\nimport { toJS } from 'mobx';\nimport { Form } from '@ant-design/compatible';\nimport '@ant-design/compatible/assets/index.css';\nimport GlobalModal from 'Components/GlobalModal';\nvar Department = (_dec = inject('SystemStore'), _dec(_class = observer(_class = (_temp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Department, _Component);\n\n  function Department() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Department);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Department)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n      var _this$props$SystemSto = _this.props.SystemStore,\n          getDeptData = _this$props$SystemSto.getDeptData,\n          modalChange = _this$props$SystemSto.modalChange,\n          addNew = _this$props$SystemSto.addNew,\n          formData = _this$props$SystemSto.formData,\n          isReview = _this$props$SystemSto.isReview,\n          columnsType = _this$props$SystemSto.columnsType,\n          addNewCustomer = _this$props$SystemSto.addNewCustomer;\n\n      _this.props.form.validateFields(function (err, values) {\n        if (!err) {\n          if (columnsType === '1') {\n            if (formData.id) {\n              values.parentId = values.parentId === '总部门' ? 0 : values.parentId;\n              addNew(0, _objectSpread({}, formData, values)).then(function (res) {\n                getDeptData(columnsType);\n\n                _message.success('更新成功');\n\n                modalChange(0);\n              });\n            } else {\n              values.parentId = values.parentId === '总部门' ? 0 : values.parentId;\n              addNew(1, values).then(function (res) {\n                getDeptData(columnsType);\n\n                _message.success('添加成功');\n\n                modalChange(0);\n              });\n            }\n          } else {\n            if (isReview) {\n              _this.props.SystemStore.isReview = false;\n              modalChange(0);\n              return;\n            }\n\n            if (formData.id) {\n              addNewCustomer(0, _objectSpread({}, formData, values)).then(function (res) {\n                getDeptData(columnsType);\n\n                _message.success('更新成功');\n\n                modalChange(0);\n              });\n            } else {\n              addNewCustomer(1, _objectSpread({}, values)).then(function (res) {\n                getDeptData(columnsType);\n\n                _message.success('添加成功');\n\n                modalChange(0);\n              });\n            }\n          }\n        }\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Department, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props$SystemSto2 = this.props.SystemStore,\n          modalVisible = _this$props$SystemSto2.modalVisible,\n          formData = _this$props$SystemSto2.formData,\n          columnsType = _this$props$SystemSto2.columnsType,\n          arr = _this$props$SystemSto2.arr,\n          isReview = _this$props$SystemSto2.isReview;\n      var formLabelCol = {\n        span: 4\n      };\n      var formWrapperCol = {\n        span: 18\n      };\n      var getFieldDecorator = this.props.form.getFieldDecorator;\n      var Option = _Select.Option;\n      console.log(arr);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 18\n        },\n        __self: this\n      }, modalVisible && React.createElement(GlobalModal, {\n        title: JSON.stringify(formData) === '{}' ? '新增' : '编辑',\n        visible: modalVisible,\n        width: '50%',\n        onOk: this.handleSubmit,\n        onCancel: function onCancel(e) {\n          return _this2.props.SystemStore.modalChange(0);\n        },\n        children: React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 27\n          },\n          __self: this\n        }, React.createElement(Form, {\n          onSubmit: this.handleSubmit,\n          layout: \"horizontal\",\n          labelCol: formLabelCol,\n          wrapperCol: formWrapperCol,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 28\n          },\n          __self: this\n        }, columnsType === '1' ? React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 29\n          },\n          __self: this\n        }, React.createElement(Form.Item, {\n          label: \"\\u4E0A\\u7EA7\\u90E8\\u95E8\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 30\n          },\n          __self: this\n        }, getFieldDecorator('parentId', {\n          initialValue: formData.parentId || '总部门'\n        })(React.createElement(_Select, {\n          disabled: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 34\n          },\n          __self: this\n        }, arr.map(function (item) {\n          return React.createElement(Option, {\n            value: item.id,\n            key: item.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 35\n            },\n            __self: this\n          }, item.name);\n        })))), React.createElement(Form.Item, {\n          label: \"\\u90E8\\u95E8\\u540D\\u79F0\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        }, getFieldDecorator('name', {\n          rules: [{\n            required: true,\n            message: '请输入部门名称'\n          }],\n          initialValue: formData.name || ''\n        })(React.createElement(_Input, {\n          placeholder: \"\\u8BF7\\u8F93\\u5165\\u90E8\\u95E8\\u540D\\u79F0\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        }))), React.createElement(Form.Item, {\n          label: \"\\u72B6\\u6001\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        }, getFieldDecorator('delFlag', {\n          rules: [{\n            required: false,\n            message: '请选择状态'\n          }],\n          initialValue: formData.delFlag || 0\n        })(React.createElement(_Radio.Group, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, React.createElement(_Radio, {\n          value: 1,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }, \"\\u542F\\u7528\"), React.createElement(_Radio, {\n          value: 0,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        }, \"\\u7981\\u7528\"))))) : React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, React.createElement(Form.Item, {\n          label: \"\\u5408\\u4F5C\\u4F19\\u4F34\\u7F16\\u7801\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, getFieldDecorator('customerCode', {\n          rules: [{\n            required: true,\n            message: '请输入合作伙伴编码'\n          }],\n          initialValue: formData.customerCode || ''\n        })(React.createElement(_Input, {\n          placeholder: \"\\u8BF7\\u8F93\\u5165\\u5408\\u4F5C\\u4F19\\u4F34\\u7F16\\u7801\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }))), React.createElement(Form.Item, {\n          label: \"\\u5408\\u4F5C\\u4F19\\u4F34\\u540D\\u79F0\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, getFieldDecorator('customerName', {\n          rules: [{\n            required: true,\n            message: '请输入合作伙伴名称'\n          }],\n          initialValue: formData.customerName || ''\n        })(React.createElement(_Input, {\n          readOnly: isReview,\n          placeholder: \"\\u8BF7\\u8F93\\u5165\\u5408\\u4F5C\\u4F19\\u4F34\\u540D\\u79F0\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }))), React.createElement(Form.Item, {\n          label: \"\\u8054\\u7CFB\\u4EBA\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, getFieldDecorator('customerContacts', {\n          rules: [{\n            required: true,\n            message: '请输入联系人'\n          }],\n          initialValue: formData.customerContacts || ''\n        })(React.createElement(_Input, {\n          readOnly: isReview,\n          placeholder: \"\\u8BF7\\u8F93\\u5165\\u8054\\u7CFB\\u4EBA\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }))), React.createElement(Form.Item, {\n          label: \"\\u8054\\u7CFB\\u4EBA\\u804C\\u52A1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }, getFieldDecorator('contactPost', {\n          rules: [{\n            required: false,\n            message: '请输入联系人职务'\n          }],\n          initialValue: formData.contactPost || ''\n        })(React.createElement(_Input, {\n          readOnly: isReview,\n          placeholder: \"\\u8BF7\\u8F93\\u5165\\u8054\\u7CFB\\u4EBA\\u804C\\u52A1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }))), React.createElement(Form.Item, {\n          label: \"\\u8054\\u7CFB\\u65B9\\u5F0F\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, getFieldDecorator('customerPhone', {\n          rules: [{\n            required: false,\n            message: '请输入联系方式'\n          }],\n          initialValue: formData.customerPhone || ''\n        })(React.createElement(_Input, {\n          readOnly: isReview,\n          placeholder: \"\\u8BF7\\u8F93\\u5165\\u8054\\u7CFB\\u65B9\\u5F0F\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }))), React.createElement(Form.Item, {\n          label: \"\\u8054\\u7CFB\\u90AE\\u4EF6\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        }, getFieldDecorator('customerEmails', {\n          rules: [{\n            required: false,\n            message: '请输入联系邮件'\n          }],\n          initialValue: formData.customerEmails || ''\n        })(React.createElement(_Input, {\n          readOnly: isReview,\n          placeholder: \"\\u8BF7\\u8F93\\u5165\\u8054\\u7CFB\\u90AE\\u4EF6\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        }))), React.createElement(Form.Item, {\n          label: \"\\u5730\\u5740\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, getFieldDecorator('customerAddress', {\n          rules: [{\n            required: false,\n            message: '请输入地址'\n          }],\n          initialValue: formData.customerAddress || ''\n        })(React.createElement(_Input, {\n          readOnly: isReview,\n          placeholder: \"\\u8BF7\\u8F93\\u5165\\u5730\\u5740\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        }))), React.createElement(Form.Item, {\n          label: \"\\u5907\\u6CE8\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        }, getFieldDecorator('description', {\n          rules: [{\n            required: false,\n            message: '请输入备注'\n          }],\n          initialValue: formData.description || ''\n        })(React.createElement(_Input, {\n          readOnly: isReview,\n          placeholder: \"\\u5907\\u6CE8\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }))), React.createElement(Form.Item, {\n          label: \"\\u72B6\\u6001\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }, getFieldDecorator('customerStatus', {\n          rules: [{\n            required: false,\n            message: '请选择状态'\n          }],\n          initialValue: formData.customerStatus || 0\n        })(React.createElement(_Radio.Group, {\n          disabled: isReview,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128\n          },\n          __self: this\n        }, React.createElement(_Radio, {\n          value: 1,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        }, \"\\u542F\\u7528\"), React.createElement(_Radio, {\n          value: 0,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }, \"\\u7981\\u7528\"))))))),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20\n        },\n        __self: this\n      }));\n    } //提交表单\n\n  }]);\n\n  return Department;\n}(Component), _temp)) || _class) || _class);\nvar DepartmentForm = Form.create({\n  name: 'define'\n})(Department);\nexport default DepartmentForm;","map":{"version":3,"sources":["F:\\documents\\bl-device-manage\\src\\layouts\\SystemManager\\DepartmentManager\\DepartmentDialog.js"],"names":["React","Component","inject","observer","toJS","Form","GlobalModal","Department","handleSubmit","e","preventDefault","props","SystemStore","getDeptData","modalChange","addNew","formData","isReview","columnsType","addNewCustomer","form","validateFields","err","values","id","parentId","then","res","success","modalVisible","arr","formLabelCol","span","formWrapperCol","getFieldDecorator","Option","console","log","JSON","stringify","initialValue","map","item","name","rules","required","message","delFlag","customerCode","customerName","customerContacts","contactPost","customerPhone","customerEmails","customerAddress","description","customerStatus","DepartmentForm","create"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { inject, observer } from 'mobx-react';\r\nimport { toJS } from 'mobx';\r\nimport { Form } from '@ant-design/compatible';\r\nimport '@ant-design/compatible/assets/index.css';\r\nimport { message, Input, Radio, Select } from 'antd';\r\nimport GlobalModal from 'Components/GlobalModal';\r\n@inject('SystemStore')\r\n@observer\r\nclass Department extends Component {\r\n    render() {\r\n        const { modalVisible, formData, columnsType, arr, isReview } = this.props.SystemStore\r\n        const formLabelCol = { span: 4 }\r\n        const formWrapperCol = { span: 18 }\r\n        const { getFieldDecorator } = this.props.form;\r\n        const { Option } = Select\r\n        console.log(arr)\r\n        return <div>\r\n            {\r\n                modalVisible && <GlobalModal\r\n                    title={JSON.stringify(formData) === '{}' ? '新增' : '编辑'}\r\n                    visible={modalVisible}\r\n                    width={'50%'}\r\n                    onOk={this.handleSubmit}\r\n                    onCancel={e => this.props.SystemStore.modalChange(0)}\r\n                    children={\r\n                        <div>\r\n                            <Form onSubmit={this.handleSubmit} layout='horizontal' labelCol={formLabelCol} wrapperCol={formWrapperCol}>\r\n                                {columnsType === '1' ? <div>\r\n                                    <Form.Item label=\"上级部门\">\r\n                                        {getFieldDecorator('parentId', {\r\n                                            initialValue: formData.parentId || '总部门'\r\n                                        })(\r\n                                            <Select disabled>\r\n                                                {arr.map(item => (<Option value={item.id} key={item.id}>{item.name}</Option>))}\r\n                                            </Select>\r\n                                        )}\r\n                                    </Form.Item>\r\n                                    <Form.Item label=\"部门名称\">\r\n                                        {getFieldDecorator('name', {\r\n                                            rules: [{ required: true, message: '请输入部门名称' }],\r\n                                            initialValue: formData.name || ''\r\n                                        })(\r\n                                            <Input placeholder=\"请输入部门名称\" />\r\n                                        )}\r\n                                    </Form.Item>\r\n                                    <Form.Item label=\"状态\">\r\n                                        {getFieldDecorator('delFlag', {\r\n                                            rules: [{ required: false, message: '请选择状态' }],\r\n                                            initialValue: formData.delFlag || 0\r\n                                        })(\r\n                                            <Radio.Group>\r\n                                                <Radio value={1}>启用</Radio>\r\n                                                <Radio value={0}>禁用</Radio>\r\n                                            </Radio.Group>\r\n                                        )}\r\n                                    </Form.Item>\r\n                                </div> : <div>\r\n                                        {<Form.Item label=\"合作伙伴编码\">\r\n                                            {getFieldDecorator('customerCode', {\r\n                                                rules: [{ required: true, message: '请输入合作伙伴编码' }],\r\n                                                initialValue: formData.customerCode || ''\r\n                                            })(\r\n                                                <Input placeholder=\"请输入合作伙伴编码\" />\r\n                                            )}\r\n                                        </Form.Item>}\r\n                                        <Form.Item label=\"合作伙伴名称\">\r\n                                            {getFieldDecorator('customerName', {\r\n                                                rules: [{ required: true, message: '请输入合作伙伴名称' }],\r\n                                                initialValue: formData.customerName || ''\r\n                                            })(\r\n                                                <Input readOnly={isReview} placeholder=\"请输入合作伙伴名称\" />\r\n                                            )}\r\n                                        </Form.Item>\r\n                                        <Form.Item label=\"联系人\">\r\n                                            {getFieldDecorator('customerContacts', {\r\n                                                rules: [{ required: true, message: '请输入联系人' }],\r\n                                                initialValue: formData.customerContacts || ''\r\n                                            })(\r\n                                                <Input readOnly={isReview} placeholder=\"请输入联系人\" />\r\n                                            )}\r\n                                        </Form.Item>\r\n                                        <Form.Item label=\"联系人职务\">\r\n                                            {getFieldDecorator('contactPost', {\r\n                                                rules: [{ required: false, message: '请输入联系人职务' }],\r\n                                                initialValue: formData.contactPost || ''\r\n                                            })(\r\n                                                <Input readOnly={isReview} placeholder=\"请输入联系人职务\" />\r\n                                            )}\r\n                                        </Form.Item>\r\n                                        <Form.Item label=\"联系方式\">\r\n                                            {getFieldDecorator('customerPhone', {\r\n                                                rules: [{ required: false, message: '请输入联系方式' }],\r\n                                                initialValue: formData.customerPhone || ''\r\n                                            })(\r\n                                                <Input readOnly={isReview} placeholder=\"请输入联系方式\" />\r\n                                            )}\r\n                                        </Form.Item>\r\n                                        <Form.Item label=\"联系邮件\">\r\n                                            {getFieldDecorator('customerEmails', {\r\n                                                rules: [{ required: false, message: '请输入联系邮件' }],\r\n                                                initialValue: formData.customerEmails || ''\r\n                                            })(\r\n                                                <Input readOnly={isReview} placeholder=\"请输入联系邮件\" />\r\n                                            )}\r\n                                        </Form.Item>\r\n                                        <Form.Item label=\"地址\">\r\n                                            {getFieldDecorator('customerAddress', {\r\n                                                rules: [{ required: false, message: '请输入地址' }],\r\n                                                initialValue: formData.customerAddress || ''\r\n                                            })(\r\n                                                <Input readOnly={isReview} placeholder=\"请输入地址\" />\r\n                                            )}\r\n                                        </Form.Item>\r\n                                        <Form.Item label=\"备注\">\r\n                                            {getFieldDecorator('description', {\r\n                                                rules: [{ required: false, message: '请输入备注' }],\r\n                                                initialValue: formData.description || ''\r\n                                            })(\r\n                                                <Input readOnly={isReview} placeholder=\"备注\" />\r\n                                            )}\r\n                                        </Form.Item>\r\n                                        <Form.Item label=\"状态\">\r\n                                            {getFieldDecorator('customerStatus', {\r\n                                                rules: [{ required: false, message: '请选择状态' }],\r\n                                                initialValue: formData.customerStatus || 0\r\n                                            })(\r\n                                                <Radio.Group disabled={isReview}>\r\n                                                    <Radio value={1}>启用</Radio>\r\n                                                    <Radio value={0}>禁用</Radio>\r\n                                                </Radio.Group>\r\n                                            )}\r\n                                        </Form.Item>\r\n                                    </div>\r\n                                }\r\n                            </Form>\r\n                        </div>\r\n                    }\r\n                />\r\n            }\r\n        </div>;\r\n    }\r\n    //提交表单\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n        const { getDeptData, modalChange, addNew, formData, isReview, columnsType, addNewCustomer } = this.props.SystemStore\r\n        this.props.form.validateFields((err, values) => {\r\n            if (!err) {\r\n                if (columnsType === '1') {\r\n                    if (formData.id) {\r\n                        values.parentId = values.parentId === '总部门' ? 0 : values.parentId\r\n                        addNew(0, { ...formData, ...values }).then(res => {\r\n                            getDeptData(columnsType)\r\n                            message.success('更新成功')\r\n                            modalChange(0)\r\n                        })\r\n                    } else {\r\n                        values.parentId = values.parentId === '总部门' ? 0 : values.parentId\r\n                        addNew(1, values).then(res => {\r\n                            getDeptData(columnsType)\r\n                            message.success('添加成功')\r\n                            modalChange(0)\r\n                        })\r\n                    }\r\n                } else {\r\n                    if (isReview) {\r\n                        this.props.SystemStore.isReview = false\r\n                        modalChange(0)\r\n                        return\r\n                    }\r\n                    if (formData.id) {\r\n                        addNewCustomer(0, { ...formData, ...values }).then(res => {\r\n                            getDeptData(columnsType)\r\n                            message.success('更新成功')\r\n                            modalChange(0)\r\n                        })\r\n                    } else {\r\n                        addNewCustomer(1, { ...values }).then(res => {\r\n                            getDeptData(columnsType)\r\n                            message.success('添加成功')\r\n                            modalChange(0)\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    };\r\n}\r\nconst DepartmentForm = Form.create({ name: 'define' })(Department);\r\nexport default DepartmentForm;"]},"metadata":{},"sourceType":"module"}