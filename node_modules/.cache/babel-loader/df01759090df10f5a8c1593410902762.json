{"ast":null,"code":"import _defineProperty from \"D:\\\\GGdownload\\\\\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport \"antd/lib/table/style\";\nimport _Table from \"antd/lib/table\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/select/style\";\nimport _Select from \"antd/lib/select\";\nimport \"antd/lib/tabs/style\";\nimport _Tabs from \"antd/lib/tabs\";\nimport _classCallCheck from \"D:\\\\GGdownload\\\\\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\GGdownload\\\\\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\GGdownload\\\\\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\GGdownload\\\\\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\GGdownload\\\\\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\n\nvar _dec,\n    _class,\n    _temp,\n    _jsxFileName = \"D:\\\\GGdownload\\\\\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF\\\\bl-device-manage\\\\src\\\\layouts\\\\SparepartsManage\\\\StockWarning\\\\index.js\";\n\n/*\n * @Author: your name\n * @Date: 2021-11-02 14:29:58\n * @LastEditTime: 2022-02-10 19:24:17\n * @LastEditors: your name\n * @Description: 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\n * @FilePath: \\bl-device-manage\\src\\layouts\\SparepartsManage\\StockWarning\\index.js\n */\nimport React, { Component } from 'react';\nimport { inject, observer } from 'mobx-react';\nimport TableLayout from 'Components/TableLayout';\nimport { toJS } from 'mobx';\nvar DepartmentTable = (_dec = inject('SparepartsStore'), _dec(_class = observer(_class = (_temp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(DepartmentTable, _Component);\n\n  function DepartmentTable() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, DepartmentTable);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(DepartmentTable)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.pageChange = function (e) {\n      _this.props.SparepartsStore.PageInfo = e;\n      _this.props.SparepartsStore.PageInfo.pageIndex = e.current;\n      var _this$props$Sparepart = _this.props.SparepartsStore,\n          getData = _this$props$Sparepart.getData,\n          PageInfo = _this$props$Sparepart.PageInfo,\n          id = _this$props$Sparepart.id,\n          getAllSpare = _this$props$Sparepart.getAllSpare;\n      getData(3, {\n        pageIndex: PageInfo.pageIndex,\n        pageSize: PageInfo.pageSize,\n        id: id\n      });\n    };\n\n    _this.changeSpa = function (e) {\n      _this.props.SparepartsStore.id = e;\n    };\n\n    _this.onSearchData = function () {\n      var _this$props$Sparepart2 = _this.props.SparepartsStore,\n          getData = _this$props$Sparepart2.getData,\n          PageInfo = _this$props$Sparepart2.PageInfo,\n          id = _this$props$Sparepart2.id;\n      getData(3, {\n        id: id,\n        pageIndex: PageInfo.pageIndex,\n        pageSize: PageInfo.pageSize\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(DepartmentTable, [{\n    key: \"render\",\n    value: function render() {\n      var _React$createElement;\n\n      var _toJS = toJS(this.props.SparepartsStore),\n          tableData = _toJS.tableData,\n          PageInfo = _toJS.PageInfo,\n          isLoading = _toJS.isLoading,\n          columnsType = _toJS.columnsType,\n          spareList = _toJS.spareList;\n\n      var TabPane = _Tabs.TabPane;\n      var Option = _Select.Option;\n      console.log(PageInfo); //定义表头\n\n      var columns = [{\n        title: '备件名称',\n        dataIndex: 'name',\n        key: 'name'\n      }, {\n        title: '备件编号',\n        dataIndex: 'model',\n        key: 'model'\n      }, {\n        title: '库存预警值',\n        dataIndex: 'warnMax',\n        key: 'warnMax',\n        render: function render(text, record) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 41\n            },\n            __self: this\n          }, record.warnMin ? record.warnMin : 0, \" - \", record.warnMax ? record.warnMax : '∞');\n        }\n      }, {\n        title: '当前剩余库存',\n        dataIndex: 'stock',\n        key: 'stock'\n      }];\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(_Tabs, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(TabPane, {\n        tab: React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"iconfont icon-inventorywarning icon-spacing\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }), \"\\u5E93\\u5B58\\u9884\\u8B66\"),\n        key: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"tab-content-bg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(_Select, {\n        showSearch: true,\n        allowClear: true,\n        style: {\n          width: 250\n        },\n        optionFilterProp: \"children\",\n        placeholder: \"\\u8BF7\\u9009\\u62E9\\u5907\\u4EF6\",\n        onChange: this.changeSpa,\n        filterOption: function filterOption(input, option) {\n          return option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, spareList.map(function (item) {\n        return React.createElement(Option, {\n          key: item.id,\n          value: item.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, item.spareName);\n      })), React.createElement(_Button, {\n        type: \"primary\",\n        style: {\n          marginLeft: 10\n        },\n        onClick: this.onSearchData,\n        className: \"btn-border-purple\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"\\u67E5\\u8BE2\"), React.createElement(_Table, (_React$createElement = {\n        style: {\n          marginTop: 10\n        },\n        size: \"middle\",\n        rowKey: \"id\",\n        loading: isLoading,\n        onChange: this.pageChange,\n        columns: columns,\n        dataSource: tableData,\n        pagination: PageInfo\n      }, _defineProperty(_React$createElement, \"onChange\", this.pageChange), _defineProperty(_React$createElement, \"__source\", {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      }), _defineProperty(_React$createElement, \"__self\", this), _React$createElement))));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props$Sparepart3 = this.props.SparepartsStore,\n          getData = _this$props$Sparepart3.getData,\n          PageInfo = _this$props$Sparepart3.PageInfo,\n          id = _this$props$Sparepart3.id,\n          getAllSpare = _this$props$Sparepart3.getAllSpare;\n      getData(3, {\n        pageIndex: PageInfo.pageIndex,\n        pageSize: PageInfo.pageSize,\n        id: id\n      });\n      getAllSpare();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.props.SparepartsStore.clearData();\n    }\n  }]);\n\n  return DepartmentTable;\n}(Component), _temp)) || _class) || _class);\nexport default DepartmentTable;","map":{"version":3,"sources":["D:\\GGdownload\\设备运维前端\\bl-device-manage\\src\\layouts\\SparepartsManage\\StockWarning\\index.js"],"names":["React","Component","inject","observer","TableLayout","toJS","DepartmentTable","pageChange","e","props","SparepartsStore","PageInfo","pageIndex","current","getData","id","getAllSpare","pageSize","changeSpa","onSearchData","tableData","isLoading","columnsType","spareList","TabPane","Option","console","log","columns","title","dataIndex","key","render","text","record","warnMin","warnMax","width","input","option","children","toLowerCase","indexOf","map","item","spareName","marginLeft","marginTop","clearData"],"mappings":"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","sourcesContent":["/*\n * @Author: your name\n * @Date: 2021-11-02 14:29:58\n * @LastEditTime: 2022-02-10 19:24:17\n * @LastEditors: your name\n * @Description: 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\n * @FilePath: \\bl-device-manage\\src\\layouts\\SparepartsManage\\StockWarning\\index.js\n */\nimport React, { Component } from 'react';\nimport { inject, observer } from 'mobx-react';\nimport { Table, Select, Button, Badge, Tabs } from 'antd';\nimport TableLayout from 'Components/TableLayout'\nimport { toJS } from 'mobx';\n\n\n@inject('SparepartsStore')\n@observer\nclass DepartmentTable extends Component {\n    render() {\n        const { tableData, PageInfo, isLoading, columnsType, spareList } = toJS(this.props.SparepartsStore)\n        const { TabPane } = Tabs;\n        const { Option } = Select;\n    console.log(PageInfo)\n        //定义表头\n        const columns = [\n            {\n                title: '备件名称',\n                dataIndex: 'name',\n                key: 'name',\n            },\n            {\n                title: '备件编号',\n                dataIndex: 'model',\n                key: 'model',\n            },\n            {\n                title: '库存预警值',\n                dataIndex: 'warnMax',\n                key: 'warnMax',\n                render: (text, record) => (\n                    <div>{record.warnMin ? record.warnMin : 0} - {record.warnMax ? record.warnMax : '∞'}</div>\n                )\n            },\n            {\n                title: '当前剩余库存',\n                dataIndex: 'stock',\n                key: 'stock',\n            }\n        ];\n        return <div /*style={{ marginTop: 20 }}*/>\n            <Tabs>\n                <TabPane tab={<div><i className=\"iconfont icon-inventorywarning icon-spacing\"></i>库存预警</div>} key=\"1\" />\n            </Tabs>\n            <div className=\"tab-content-bg\">\n                <Select\n                    showSearch\n                    allowClear\n                    style={{ width: 250 }}\n                    optionFilterProp=\"children\"\n                    placeholder='请选择备件'\n                    onChange={this.changeSpa}\n                    filterOption={(input, option) =>\n                        option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                    } >\n                    {spareList.map(item => <Option key={item.id} value={item.id}>{item.spareName}</Option>)}\n                </Select><Button type=\"primary\" style={{ marginLeft: 10 }} onClick={this.onSearchData}  className=\"btn-border-purple\">查询</Button>\n                <Table style={{ marginTop: 10 }} size='middle' rowKey=\"id\" loading={isLoading} onChange={this.pageChange} columns={columns} dataSource={tableData} pagination={PageInfo} onChange={this.pageChange}/>\n            </div>\n        </div>;\n    }\n    pageChange=(e)=>{\n        this.props.SparepartsStore.PageInfo=e\n        this.props.SparepartsStore.PageInfo.pageIndex=e.current\n        const { getData, PageInfo, id, getAllSpare } = this.props.SparepartsStore\n        getData(3, { pageIndex: PageInfo.pageIndex, pageSize: PageInfo.pageSize, id })\n    }\n    changeSpa = (e) => {\n        this.props.SparepartsStore.id = e\n    }\n    onSearchData = () => {\n\n        const { getData, PageInfo, id } = this.props.SparepartsStore\n        getData(3, { id, pageIndex: PageInfo.pageIndex, pageSize: PageInfo.pageSize })\n    }\n    componentDidMount() {\n        const { getData, PageInfo, id, getAllSpare } = this.props.SparepartsStore\n        getData(3, { pageIndex: PageInfo.pageIndex, pageSize: PageInfo.pageSize, id })\n        getAllSpare()\n    }\n    componentWillUnmount() {\n        this.props.SparepartsStore.clearData()\n    }\n}\nexport default DepartmentTable;"]},"metadata":{},"sourceType":"module"}