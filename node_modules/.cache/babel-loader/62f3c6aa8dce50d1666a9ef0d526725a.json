{"ast":null,"code":"/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect } from 'react';\nimport { getValueByPath } from './utils';\n\nvar Watcher = function Watcher(_ref) {\n  var watchKey = _ref.watchKey,\n      watch = _ref.watch,\n      formData = _ref.formData,\n      firstMount = _ref.firstMount;\n  var value = getValueByPath(formData, watchKey);\n  var watchObj = watch[watchKey];\n  useEffect(function () {\n    var runWatcher = function runWatcher() {\n      if (typeof watchObj === 'function') {\n        try {\n          watchObj(value);\n        } catch (error) {\n          console.log(\"\".concat(watchKey, \"\\u5BF9\\u5E94\\u7684watch\\u51FD\\u6570\\u6267\\u884C\\u62A5\\u9519\\uFF1A\"), error);\n        }\n      } else if (watchObj && typeof watchObj.handler === 'function') {\n        try {\n          watchObj.handler(value);\n        } catch (error) {\n          console.log(\"\".concat(watchKey, \"\\u5BF9\\u5E94\\u7684watch\\u51FD\\u6570\\u6267\\u884C\\u62A5\\u9519\\uFF1A\"), error);\n        }\n      }\n    };\n\n    if (firstMount) {\n      var immediate = watchObj && watchObj.immediate;\n\n      if (immediate) {\n        runWatcher();\n      }\n    } else {\n      runWatcher();\n    }\n  }, [JSON.stringify(value), firstMount]);\n  return null;\n};\n\nexport default Watcher;","map":null,"metadata":{},"sourceType":"module"}