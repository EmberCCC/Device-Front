{"ast":null,"code":"import _classCallCheck from \"F:\\\\documents\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\documents\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"F:\\\\documents\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"F:\\\\documents\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"F:\\\\documents\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\n\nvar _dec,\n    _class,\n    _temp,\n    _jsxFileName = \"F:\\\\documents\\\\bl-device-manage\\\\src\\\\layouts\\\\ZCloudDevice\\\\DeviceMaintain\\\\index.js\";\n\nimport React, { Component } from 'react';\nimport { inject, observer } from 'mobx-react';\nimport { Tabs } from 'components/BLComps';\nimport { initSearchQuery } from 'utils/dataTools';\nimport MaintainPage from './MaintainPage';\nimport RepairPage from './RepairPage';\nimport { withRouter } from 'react-router-dom';\nvar TypeList = [{\n  tab: '点检配置',\n  key: 1\n}, {\n  tab: '保养配置',\n  key: 2\n}];\nvar DeviceMaintain = (_dec = inject('ZCloudDeviceStore'), withRouter(_class = _dec(_class = observer(_class = (_temp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(DeviceMaintain, _Component);\n\n  function DeviceMaintain() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, DeviceMaintain);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(DeviceMaintain)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      tab: 1\n    };\n\n    _this.handleTabs = function (key) {\n      _this.props.history.push('/iotstudio?tab=' + key);\n\n      _this.setState({\n        tab: parseFloat(key)\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(DeviceMaintain, [{\n    key: \"render\",\n    value: function render() {\n      var tab = this.state.tab;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21\n        },\n        __self: this\n      }, React.createElement(Tabs, {\n        activeKey: tab.toString(),\n        onChange: this.handleTabs,\n        size: \"small\",\n        type: \"card\",\n        dataSource: TypeList,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22\n        },\n        __self: this\n      }), tab === 1 && React.createElement(RepairPage, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }), tab === 2 && React.createElement(MaintainPage, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.props.ZCloudDeviceStore.getDevice();\n      this.query = this.props.location.search ? initSearchQuery(this.props.location.search) : {\n        tab: '1'\n      };\n      this.setState({\n        tab: parseFloat(this.query.tab)\n      }, function () {\n        _this2.props.history.push('/iotstudio?tab=' + _this2.state.tab);\n      });\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var query = initSearchQuery(nextProps.location.search);\n\n      if (query.tab !== this.query.tab) {\n        nextProps.ZCloudDeviceStore.deviceType = nextProps.ZCloudDeviceStore.deviceList.length > 0 ? nextProps.ZCloudDeviceStore.deviceList[0].typeName : '';\n      }\n    }\n  }]);\n\n  return DeviceMaintain;\n}(Component), _temp)) || _class) || _class) || _class);\nexport default DeviceMaintain;","map":{"version":3,"sources":["F:\\documents\\bl-device-manage\\src\\layouts\\ZCloudDevice\\DeviceMaintain\\index.js"],"names":["React","Component","inject","observer","Tabs","initSearchQuery","MaintainPage","RepairPage","withRouter","TypeList","tab","key","DeviceMaintain","state","handleTabs","props","history","push","setState","parseFloat","toString","ZCloudDeviceStore","getDevice","query","location","search","nextProps","deviceType","deviceList","length","typeName"],"mappings":";;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,MAAT,EAAiBC,QAAjB,QAAiC,YAAjC;AACA,SAASC,IAAT,QAAqB,oBAArB;AACA,SAASC,eAAT,QAAgC,iBAAhC;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,IAAMC,QAAQ,GAAG,CAChB;AAAEC,EAAAA,GAAG,EAAC,MAAN;AAAcC,EAAAA,GAAG,EAAC;AAAlB,CADgB,EAEhB;AAAED,EAAAA,GAAG,EAAC,MAAN;AAAcC,EAAAA,GAAG,EAAC;AAAlB,CAFgB,CAAjB;IAOMC,c,WAFLV,MAAM,CAAC,mBAAD,C,EADNM,U,wBAEAL,Q;;;;;;;;;;;;;;;;;UAEAU,K,GAAQ;AACPH,MAAAA,GAAG,EAAG;AADC,K;;UAqBRI,U,GAAa,UAAAH,GAAG,EAAI;AACnB,YAAKI,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,oBAAkBN,GAA1C;;AACA,YAAKO,QAAL,CAAc;AACbR,QAAAA,GAAG,EAACS,UAAU,CAACR,GAAD;AADD,OAAd;AAGA,K;;;;;;;6BAvBO;AAAA,UACCD,GADD,GACS,KAAKG,KADd,CACCH,GADD;AAEP,aAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACN,oBAAC,IAAD;AACC,QAAA,SAAS,EAAEA,GAAG,CAACU,QAAJ,EADZ;AAEC,QAAA,QAAQ,EAAE,KAAKN,UAFhB;AAGC,QAAA,IAAI,EAAC,OAHN;AAIC,QAAA,IAAI,EAAC,MAJN;AAKC,QAAA,UAAU,EAAEL,QALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADM,EAYJC,GAAG,KAAK,CAAR,IAAa,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAZT,EAaJA,GAAG,KAAK,CAAR,IAAa,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAbT,CAAP;AAeA;;;wCAOkB;AAAA;;AAClB,WAAKK,KAAL,CAAWM,iBAAX,CAA6BC,SAA7B;AACA,WAAKC,KAAL,GAAa,KAAKR,KAAL,CAAWS,QAAX,CAAoBC,MAApB,GAA6BpB,eAAe,CAAC,KAAKU,KAAL,CAAWS,QAAX,CAAoBC,MAArB,CAA5C,GAA2E;AAAEf,QAAAA,GAAG,EAAG;AAAR,OAAxF;AACA,WAAKQ,QAAL,CAAc;AACbR,QAAAA,GAAG,EAACS,UAAU,CAAC,KAAKI,KAAL,CAAWb,GAAZ;AADD,OAAd,EAEE,YAAI;AACL,QAAA,MAAI,CAACK,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,oBAAkB,MAAI,CAACJ,KAAL,CAAWH,GAArD;AACA,OAJD;AAKA;;;8CACyBgB,S,EAAU;AACnC,UAAIH,KAAK,GAAGlB,eAAe,CAACqB,SAAS,CAACF,QAAV,CAAmBC,MAApB,CAA3B;;AACA,UAAGF,KAAK,CAACb,GAAN,KAAc,KAAKa,KAAL,CAAWb,GAA5B,EAAgC;AAC/BgB,QAAAA,SAAS,CAACL,iBAAV,CAA4BM,UAA5B,GAAyCD,SAAS,CAACL,iBAAV,CAA4BO,UAA5B,CAAuCC,MAAvC,GAAgD,CAAhD,GAAoDH,SAAS,CAACL,iBAAV,CAA4BO,UAA5B,CAAuC,CAAvC,EAA0CE,QAA9F,GAAyG,EAAlJ;AACA;AACD;;;;EA1C2B7B,S;AA4C7B,eAAeW,cAAf","sourcesContent":["import React, { Component } from 'react';\nimport { inject, observer } from 'mobx-react';\nimport { Tabs } from 'components/BLComps';\nimport { initSearchQuery } from 'utils/dataTools';\nimport MaintainPage from './MaintainPage'\nimport RepairPage from './RepairPage'\nimport { withRouter } from 'react-router-dom'\nconst TypeList = [\n\t{ tab:'点检配置', key:1 },\n\t{ tab:'保养配置', key:2 },\n]\n@withRouter\n@inject('ZCloudDeviceStore')\n@observer\nclass DeviceMaintain extends Component {\n\tstate = {\n\t\ttab : 1\n\t}\n\trender(){\n\t\tconst { tab } = this.state;\n\t\treturn <div>\n\t\t\t<Tabs \n\t\t\t\tactiveKey={tab.toString()} \n\t\t\t\tonChange={this.handleTabs}\n\t\t\t\tsize='small'\n\t\t\t\ttype=\"card\"\n\t\t\t\tdataSource={TypeList}\n\t\t\t/>\n\t\t\t\t{/* {\n\t\t\t\t\tTypeList.map(tab => <TabPane {...tab}></TabPane>)\n\t\t\t\t} */}\n\t\t\n\t\t\t{ tab === 1 && <RepairPage/> }\n\t\t\t{ tab === 2 && <MaintainPage /> }\n\t\t</div>\n\t}\n\thandleTabs = key => {\n\t\tthis.props.history.push('/iotstudio?tab='+key)\n\t\tthis.setState({\n\t\t\ttab:parseFloat(key)\n\t\t})\n\t};\n\tcomponentDidMount(){\n\t\tthis.props.ZCloudDeviceStore.getDevice();\n\t\tthis.query = this.props.location.search ? initSearchQuery(this.props.location.search) : { tab : '1'};\n\t\tthis.setState({\n\t\t\ttab:parseFloat(this.query.tab)\n\t\t},()=>{\n\t\t\tthis.props.history.push('/iotstudio?tab='+this.state.tab)\n\t\t})\n\t}\n\tcomponentWillReceiveProps(nextProps){\n\t\tlet query = initSearchQuery(nextProps.location.search)\n\t\tif(query.tab !== this.query.tab){\n\t\t\tnextProps.ZCloudDeviceStore.deviceType = nextProps.ZCloudDeviceStore.deviceList.length > 0 ? nextProps.ZCloudDeviceStore.deviceList[0].typeName : ''\n\t\t}\n\t}\n}\nexport default DeviceMaintain;\n"]},"metadata":{},"sourceType":"module"}