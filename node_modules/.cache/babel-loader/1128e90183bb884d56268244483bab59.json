{"ast":null,"code":"import \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport _slicedToArray from \"F:\\\\documents\\\\bl-device-manage-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"F:\\\\documents\\\\bl-device-manage-test\\\\src\\\\layouts\\\\FormLayout\\\\index.js\";\n\n/*\r\n * @Author: EmberCCC 1810888456@qq.com\r\n * @Date: 2022-07-02 03:21:54\r\n * @LastEditors: EmberCCC 1810888456@qq.com\r\n * @LastEditTime: 2022-07-05 12:39:57\r\n * @FilePath: \\bl-device-manage-test\\src\\layouts\\FormLayout\\index.js\r\n * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n */\nimport React, { useEffect, useState } from 'react';\nimport FormRender, { useForm } from 'form-render';\nimport { inject, observer } from 'mobx-react';\nimport { toJS } from 'mobx';\nimport { restore } from 'layouts/FormEdit/changeTool';\n\nvar onFinish = function onFinish(formData) {\n  console.log(formData);\n};\n\nvar FormLayout = observer(function (_ref) {\n  var HomeStore = _ref.HomeStore,\n      FormStore = _ref.FormStore;\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      schema = _useState2[0],\n      setSchema = _useState2[1];\n\n  var form = useForm();\n  useEffect(function () {\n    FormStore.getFormField({\n      formId: HomeStore.firstFormId\n    }).then(function () {\n      setSchema(restore(toJS(FormStore.formField)));\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FormRender, {\n    schema: schema,\n    form: form,\n    onFinish: onFinish,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }), /*#__PURE__*/React.createElement(_Button, {\n    onClick: form.submit,\n    type: \"primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, \"\\u63D0\\u4EA4\"));\n});\nexport default inject(function (stores) {\n  return {\n    HomeStore: stores.HomeStore,\n    FormStore: stores.FormStore\n  };\n})(FormLayout);","map":{"version":3,"names":["React","useEffect","useState","FormRender","useForm","inject","observer","toJS","restore","onFinish","formData","console","log","FormLayout","HomeStore","FormStore","schema","setSchema","form","getFormField","formId","firstFormId","then","formField","submit","stores"],"sources":["F:/documents/bl-device-manage-test/src/layouts/FormLayout/index.js"],"sourcesContent":["/*\r\n * @Author: EmberCCC 1810888456@qq.com\r\n * @Date: 2022-07-02 03:21:54\r\n * @LastEditors: EmberCCC 1810888456@qq.com\r\n * @LastEditTime: 2022-07-05 12:39:57\r\n * @FilePath: \\bl-device-manage-test\\src\\layouts\\FormLayout\\index.js\r\n * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n */\r\nimport React, { useEffect, useState } from 'react';\r\nimport FormRender, { useForm } from 'form-render';\r\nimport { Button } from 'antd';\r\nimport { inject, observer } from 'mobx-react';\r\nimport { toJS } from 'mobx';\r\nimport { restore } from 'layouts/FormEdit/changeTool';\r\n\r\nconst onFinish = (formData) => {\r\n  console.log(formData);\r\n}\r\nconst FormLayout = observer(({ HomeStore, FormStore }) => {\r\n  const [schema,setSchema] = useState({});\r\n  const form = useForm();\r\n  useEffect(() => {\r\n    FormStore.getFormField({ formId: HomeStore.firstFormId }).then(() => {\r\n      setSchema(restore(toJS(FormStore.formField)))\r\n    });\r\n  },[])\r\n  return (\r\n    <>\r\n      <FormRender schema={schema} form={form} onFinish={onFinish} />\r\n      <Button onClick={form.submit} type=\"primary\">提交</Button>\r\n    </>\r\n  );\r\n});\r\n\r\nexport default inject((stores) => ({ HomeStore: stores.HomeStore, FormStore: stores.FormStore }))(FormLayout);"],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,UAAP,IAAqBC,OAArB,QAAoC,aAApC;AAEA,SAASC,MAAT,EAAiBC,QAAjB,QAAiC,YAAjC;AACA,SAASC,IAAT,QAAqB,MAArB;AACA,SAASC,OAAT,QAAwB,6BAAxB;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,QAAD,EAAc;EAC7BC,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACD,CAFD;;AAGA,IAAMG,UAAU,GAAGP,QAAQ,CAAC,gBAA8B;EAAA,IAA3BQ,SAA2B,QAA3BA,SAA2B;EAAA,IAAhBC,SAAgB,QAAhBA,SAAgB;;EACxD,gBAA2Bb,QAAQ,CAAC,EAAD,CAAnC;EAAA;EAAA,IAAOc,MAAP;EAAA,IAAcC,SAAd;;EACA,IAAMC,IAAI,GAAGd,OAAO,EAApB;EACAH,SAAS,CAAC,YAAM;IACdc,SAAS,CAACI,YAAV,CAAuB;MAAEC,MAAM,EAAEN,SAAS,CAACO;IAApB,CAAvB,EAA0DC,IAA1D,CAA+D,YAAM;MACnEL,SAAS,CAACT,OAAO,CAACD,IAAI,CAACQ,SAAS,CAACQ,SAAX,CAAL,CAAR,CAAT;IACD,CAFD;EAGD,CAJQ,EAIP,EAJO,CAAT;EAKA,oBACE,uDACE,oBAAC,UAAD;IAAY,MAAM,EAAEP,MAApB;IAA4B,IAAI,EAAEE,IAAlC;IAAwC,QAAQ,EAAET,QAAlD;IAAA;MAAA;MAAA;IAAA;IAAA;EAAA,EADF,eAEE;IAAQ,OAAO,EAAES,IAAI,CAACM,MAAtB;IAA8B,IAAI,EAAC,SAAnC;IAAA;MAAA;MAAA;IAAA;IAAA;EAAA,kBAFF,CADF;AAMD,CAd0B,CAA3B;AAgBA,eAAenB,MAAM,CAAC,UAACoB,MAAD;EAAA,OAAa;IAAEX,SAAS,EAAEW,MAAM,CAACX,SAApB;IAA+BC,SAAS,EAAEU,MAAM,CAACV;EAAjD,CAAb;AAAA,CAAD,CAAN,CAAmFF,UAAnF,CAAf"},"metadata":{},"sourceType":"module"}