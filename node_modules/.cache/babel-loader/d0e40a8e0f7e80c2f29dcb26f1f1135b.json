{"ast":null,"code":"import \"antd/lib/table/style\";\nimport _Table from \"antd/lib/table\";\nimport _objectSpread from \"F:\\\\documents\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport \"antd/lib/divider/style\";\nimport _Divider from \"antd/lib/divider\";\nimport \"antd/lib/badge/style\";\nimport _Badge from \"antd/lib/badge\";\nimport \"antd/lib/message/style\";\nimport _message from \"antd/lib/message\";\nimport \"antd/lib/modal/style\";\nimport _Modal from \"antd/lib/modal\";\nimport _classCallCheck from \"F:\\\\documents\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\documents\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"F:\\\\documents\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"F:\\\\documents\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"F:\\\\documents\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\n\nvar _dec,\n    _class,\n    _temp,\n    _jsxFileName = \"F:\\\\documents\\\\bl-device-manage\\\\src\\\\layouts\\\\SystemManager\\\\DepartmentManager\\\\DepartmentTable.js\";\n\nimport React, { Component } from 'react';\nimport { inject, observer } from 'mobx-react';\nimport { toJS } from 'mobx';\nvar DepartmentTable = (_dec = inject('SystemStore'), _dec(_class = observer(_class = (_temp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(DepartmentTable, _Component);\n\n  function DepartmentTable() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, DepartmentTable);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(DepartmentTable)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.delete = function (record) {\n      var _this$props$SystemSto = _this.props.SystemStore,\n          deleteCol = _this$props$SystemSto.deleteCol,\n          getDeptData = _this$props$SystemSto.getDeptData,\n          columnsType = _this$props$SystemSto.columnsType,\n          deleteCus = _this$props$SystemSto.deleteCus;\n\n      _Modal.confirm({\n        title: '提示',\n        content: '是否确认删除该条数据？',\n        okText: '确认',\n        cancelText: '取消',\n        onOk: function onOk() {\n          if (columnsType === '1') {\n            deleteCol({\n              id: record.id\n            }).then(function (res) {\n              _message.success('删除成功');\n\n              getDeptData(columnsType);\n            });\n          } else {\n            deleteCus({\n              id: record.id\n            }).then(function (res) {\n              _message.success('删除成功');\n\n              getDeptData(columnsType);\n            });\n          }\n        }\n      });\n    };\n\n    _this.addLower = function (record) {\n      var obj = {\n        parentId: record.id,\n        delFlag: 1\n      };\n\n      _this.props.SystemStore.modalChange(1, obj);\n    };\n\n    _this.columns = function () {\n      console.log(_this.props.SystemStore.columnsType);\n\n      if (_this.props.SystemStore.columnsType === '1') {\n        return [{\n          title: '部门名称',\n          dataIndex: 'name',\n          key: 'name'\n        }, {\n          title: '状态',\n          dataIndex: 'delFlag',\n          key: 'delFlag',\n          render: function render(text, record) {\n            return React.createElement(\"div\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 62\n              },\n              __self: this\n            }, text ? React.createElement(_Badge, {\n              status: \"success\",\n              text: \"\\u6B63\\u5E38\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 63\n              },\n              __self: this\n            }) : React.createElement(_Badge, {\n              status: \"error\",\n              text: \"\\u7981\\u7528\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 64\n              },\n              __self: this\n            }));\n          }\n        }, {\n          title: '操作',\n          key: 'x',\n          align: 'right',\n          render: function render(text, record, index) {\n            return React.createElement(\"span\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 73\n              },\n              __self: this\n            }, React.createElement(\"a\", {\n              onClick: function onClick(e) {\n                return _this.props.SystemStore.modalChange(1, record);\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 74\n              },\n              __self: this\n            }, \"\\u7F16\\u8F91\"), React.createElement(_Divider, {\n              type: \"vertical\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 75\n              },\n              __self: this\n            }), React.createElement(\"a\", {\n              onClick: function onClick(e) {\n                return _this.addLower(record);\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 76\n              },\n              __self: this\n            }, \"\\u589E\\u52A0\\u4E0B\\u7EA7\"), React.createElement(_Divider, {\n              type: \"vertical\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 77\n              },\n              __self: this\n            }), React.createElement(\"a\", {\n              onClick: function onClick(e) {\n                return _this.changeStatus(index, record);\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 78\n              },\n              __self: this\n            }, record.delFlag ? '禁用' : '启用'), React.createElement(_Divider, {\n              type: \"vertical\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 79\n              },\n              __self: this\n            }), React.createElement(\"a\", {\n              onClick: function onClick(e) {\n                return _this.delete(record);\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 80\n              },\n              __self: this\n            }, \"\\u5220\\u9664\"));\n          }\n        }];\n      } else {\n        return [// {\n        //     title: '合作伙伴编码',\n        //     dataIndex: 'customerCode',\n        //     key: 'customerCode',\n        // },\n        {\n          title: '合作伙伴名称',\n          dataIndex: 'customerName',\n          key: 'customerName'\n        }, {\n          title: '地址',\n          dataIndex: 'customerAddress',\n          key: 'customerAddress',\n          render: function render(text) {\n            return React.createElement(\"div\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 103\n              },\n              __self: this\n            }, text ? text : '-');\n          }\n        }, {\n          title: '联系人',\n          dataIndex: 'customerContacts',\n          key: 'customerContacts',\n          render: function render(text) {\n            return React.createElement(\"div\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 111\n              },\n              __self: this\n            }, text ? text : '-');\n          }\n        }, // {\n        //     title: '联系人职务',\n        //     dataIndex: 'contactPost',\n        //     key: 'contactPost',\n        //     render: (text) => (\n        //         <div>{text ? text : '-'}</div>\n        //     )\n        // },\n        {\n          title: '联系方式',\n          dataIndex: 'customerPhone',\n          key: 'customerPhone',\n          render: function render(text) {\n            return React.createElement(\"div\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 127\n              },\n              __self: this\n            }, text ? text : '-');\n          }\n        }, // {\n        //     title: '邮箱',\n        //     dataIndex: 'customerEmails',\n        //     key: 'customerEmails',\n        //     render: (text) => (\n        //         <div>{text ? text : '-'}</div>\n        //     )\n        // },\n        // {\n        //     title: '备注',\n        //     dataIndex: 'description',\n        //     key: 'description',\n        // },\n        {\n          title: '状态',\n          dataIndex: 'customerStatus',\n          key: 'customerStatus',\n          render: function render(text, record) {\n            return React.createElement(\"div\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 148\n              },\n              __self: this\n            }, text ? React.createElement(_Badge, {\n              status: \"success\",\n              text: \"\\u542F\\u7528\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 149\n              },\n              __self: this\n            }) : React.createElement(_Badge, {\n              status: \"error\",\n              text: \"\\u7981\\u7528\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 150\n              },\n              __self: this\n            }));\n          }\n        }, {\n          title: '操作',\n          key: 'x',\n          align: 'right',\n          render: function render(text, record) {\n            return React.createElement(\"span\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 159\n              },\n              __self: this\n            }, React.createElement(\"a\", {\n              onClick: function onClick(e) {\n                return _this.reviewDetail(record);\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 160\n              },\n              __self: this\n            }, \"\\u8BE6\\u60C5\"), React.createElement(_Divider, {\n              type: \"vertical\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 161\n              },\n              __self: this\n            }), React.createElement(\"a\", {\n              onClick: function onClick(e) {\n                return _this.props.SystemStore.modalChange(1, record);\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 162\n              },\n              __self: this\n            }, \"\\u7F16\\u8F91\"), React.createElement(_Divider, {\n              type: \"vertical\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 163\n              },\n              __self: this\n            }), React.createElement(\"a\", {\n              onClick: function onClick(e) {\n                return _this.delete(record);\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 164\n              },\n              __self: this\n            }, \"\\u5220\\u9664\"));\n          }\n        }];\n      }\n    };\n\n    _this.reviewDetail = function (record) {\n      _this.props.SystemStore.isReview = true;\n\n      _this.props.SystemStore.modalChange(1, record);\n    };\n\n    _this.changeStatus = function (index, record) {\n      _this.props.SystemStore.addNew(0, _objectSpread({}, record, {\n        delFlag: record.delFlag ? 0 : 1\n      })).then(function (res) {\n        if (res) {\n          _message.success(record.delFlag ? '禁用成功' : '启用成功');\n\n          var _this$props$SystemSto2 = _this.props.SystemStore,\n              getDeptData = _this$props$SystemSto2.getDeptData,\n              columnsType = _this$props$SystemSto2.columnsType,\n              customerName = _this$props$SystemSto2.customerName;\n          getDeptData(columnsType, {\n            customerName: customerName\n          });\n        }\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(DepartmentTable, [{\n    key: \"render\",\n    value: function render() {\n      var _toJS = toJS(this.props.SystemStore),\n          tableData = _toJS.tableData,\n          isLoading = _toJS.isLoading;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 12\n        },\n        __self: this\n      }, React.createElement(_Table, {\n        rowKey: \"id\",\n        size: \"middle\",\n        autoExpandParent: false,\n        loading: isLoading,\n        columns: this.columns(),\n        dataSource: tableData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 13\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var getDeptData = this.props.SystemStore.getDeptData;\n      getDeptData('1');\n    }\n  }]);\n\n  return DepartmentTable;\n}(Component), _temp)) || _class) || _class);\nexport default DepartmentTable;","map":{"version":3,"sources":["F:\\documents\\bl-device-manage\\src\\layouts\\SystemManager\\DepartmentManager\\DepartmentTable.js"],"names":["React","Component","inject","observer","toJS","DepartmentTable","delete","record","props","SystemStore","deleteCol","getDeptData","columnsType","deleteCus","confirm","title","content","okText","cancelText","onOk","id","then","res","success","addLower","obj","parentId","delFlag","modalChange","columns","console","log","dataIndex","key","render","text","align","index","e","changeStatus","reviewDetail","isReview","addNew","customerName","tableData","isLoading"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { inject, observer } from 'mobx-react';\nimport { Divider, Modal, message, Badge, Table } from 'antd';\nimport { toJS } from 'mobx';\n\n\n@inject('SystemStore')\n@observer\nclass DepartmentTable extends Component {\n    render() {\n        const { tableData, isLoading } = toJS(this.props.SystemStore)\n        return <div>\n            <Table rowKey=\"id\" size='middle' autoExpandParent={false} loading={isLoading} columns={this.columns()} dataSource={tableData} />\n        </div>;\n    }\n    delete = (record) => {\n        const { deleteCol, getDeptData, columnsType, deleteCus } = this.props.SystemStore\n        Modal.confirm({\n            title: '提示',\n            content: '是否确认删除该条数据？',\n            okText: '确认',\n            cancelText: '取消',\n            onOk: () => {\n                if (columnsType === '1') {\n                    deleteCol({ id: record.id }).then(res => {\n                        message.success('删除成功')\n                        getDeptData(columnsType)\n                    })\n                } else {\n                    deleteCus({ id: record.id }).then(res => {\n                        message.success('删除成功')\n                        getDeptData(columnsType)\n                    })\n                }\n\n            },\n        });\n\n    }\n    addLower = (record) => {\n        let obj = { parentId: record.id, delFlag: 1 }\n        this.props.SystemStore.modalChange(1, obj)\n    }\n    componentDidMount() {\n        const { getDeptData } = this.props.SystemStore\n        getDeptData('1')\n    }\n    columns = () => {\n        console.log(this.props.SystemStore.columnsType)\n        if (this.props.SystemStore.columnsType === '1') {\n            return [\n                {\n                    title: '部门名称',\n                    dataIndex: 'name',\n                    key: 'name',\n                },\n                {\n                    title: '状态',\n                    dataIndex: 'delFlag',\n                    key: 'delFlag',\n                    render: (text, record) => (\n                        <div>\n                            {text ? <Badge status=\"success\" text=\"正常\" />\n                                : <Badge status=\"error\" text=\"禁用\" />}\n                        </div>\n                    )\n                },\n                {\n                    title: '操作',\n                    key: 'x',\n                    align: 'right',\n                    render: (text, record, index) => (\n                        <span>\n                            <a onClick={e => this.props.SystemStore.modalChange(1, record)}>编辑</a>\n                            <Divider type=\"vertical\" />\n                            <a onClick={e => this.addLower(record)}>增加下级</a>\n                            <Divider type=\"vertical\" />\n                            <a onClick={e => this.changeStatus(index, record)}>{record.delFlag ? '禁用' : '启用'}</a>\n                            <Divider type=\"vertical\" />\n                            <a onClick={e => this.delete(record)}>删除</a>\n                        </span>\n                    )\n\n                }\n            ]\n        } else {\n            return [\n                // {\n                //     title: '合作伙伴编码',\n                //     dataIndex: 'customerCode',\n                //     key: 'customerCode',\n                // },\n                {\n                    title: '合作伙伴名称',\n                    dataIndex: 'customerName',\n                    key: 'customerName',\n                },\n                {\n                    title: '地址',\n                    dataIndex: 'customerAddress',\n                    key: 'customerAddress',\n                    render: (text) => (\n                        <div>{text ? text : '-'}</div>\n                    )\n                },\n                {\n                    title: '联系人',\n                    dataIndex: 'customerContacts',\n                    key: 'customerContacts',\n                    render: (text) => (\n                        <div>{text ? text : '-'}</div>\n                    )\n                },\n                // {\n                //     title: '联系人职务',\n                //     dataIndex: 'contactPost',\n                //     key: 'contactPost',\n                //     render: (text) => (\n                //         <div>{text ? text : '-'}</div>\n                //     )\n                // },\n                {\n                    title: '联系方式',\n                    dataIndex: 'customerPhone',\n                    key: 'customerPhone',\n                    render: (text) => (\n                        <div>{text ? text : '-'}</div>\n                    )\n                },\n                // {\n                //     title: '邮箱',\n                //     dataIndex: 'customerEmails',\n                //     key: 'customerEmails',\n                //     render: (text) => (\n                //         <div>{text ? text : '-'}</div>\n                //     )\n                // },\n                // {\n                //     title: '备注',\n                //     dataIndex: 'description',\n                //     key: 'description',\n                // },\n                {\n                    title: '状态',\n                    dataIndex: 'customerStatus',\n                    key: 'customerStatus',\n                    render: (text, record) => (\n                        <div>\n                            {text ? <Badge status=\"success\" text=\"启用\" />\n                                : <Badge status=\"error\" text=\"禁用\" />}\n                        </div>\n                    )\n                },\n                {\n                    title: '操作',\n                    key: 'x',\n                    align: 'right',\n                    render: (text, record) => (\n                        <span>\n                            <a onClick={e => this.reviewDetail(record)}>详情</a>\n                            <Divider type=\"vertical\" />\n                            <a onClick={e => this.props.SystemStore.modalChange(1, record)}>编辑</a>\n                            <Divider type=\"vertical\" />\n                            <a onClick={e => this.delete(record)}>删除</a>\n                        </span>\n                    )\n                }\n            ]\n        }\n    }\n    reviewDetail = (record) => {\n        this.props.SystemStore.isReview = true\n        this.props.SystemStore.modalChange(1, record)\n    }\n    changeStatus = (index, record) => {\n        this.props.SystemStore.addNew(0, { ...record, delFlag: record.delFlag ? 0 : 1 }).then(res => {\n            if (res) {\n                message.success(record.delFlag ? '禁用成功' : '启用成功')\n                const { getDeptData, columnsType, customerName } = this.props.SystemStore\n                getDeptData(columnsType, { customerName })\n            }\n        })\n    }\n}\nexport default DepartmentTable;"]},"metadata":{},"sourceType":"module"}