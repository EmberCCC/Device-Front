{"ast":null,"code":"import \"antd/lib/modal/style\";\nimport _Modal from \"antd/lib/modal\";\nimport \"antd/lib/checkbox/style\";\nimport _Checkbox from \"antd/lib/checkbox\";\nimport \"antd/lib/divider/style\";\nimport _Divider from \"antd/lib/divider\";\nimport \"antd/lib/switch/style\";\nimport _Switch from \"antd/lib/switch\";\nimport \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nimport \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/message/style\";\nimport _message from \"antd/lib/message\";\nimport _defineProperty from \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport \"antd/lib/select/style\";\nimport _Select from \"antd/lib/select\";\n\nvar _dec,\n    _class,\n    _temp,\n    _jsxFileName = \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/src/layouts/BasicManage/MaintainPage/cell/EditPage.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n/**\n * extendFormColumns 目标对象：即当前的新增或编辑内容 输入类型之后的 children 内容\n *    因此对应操作children内部的level 1:即输入类型之后children的层级，不包括子的部分\n */\nimport React from 'react';\n// import { isEmpty } from 'lodash';\nimport { toJS } from 'mobx';\nimport { setFormColumns, handleServerSubmit } from './methods';\nimport { inject, observer } from 'mobx-react';\nimport { DraggableArea } from 'react-draggable-tags';\nimport { server_list } from './configs';\nvar Option = _Select.Option;\nvar formItemLayout = {\n  labelCol: {\n    span: 4\n  },\n  wrapperCol: {\n    span: 20\n  }\n};\nvar EditPage = (_dec = inject('DeviceMaintainStore'), _dec(_class = observer(_class = (_temp = /*#__PURE__*/function (_React$Component) {\n  _inherits(EditPage, _React$Component);\n\n  var _super = _createSuper(EditPage);\n\n  function EditPage(props) {\n    var _this;\n\n    _classCallCheck(this, EditPage);\n\n    _this = _super.call(this, props);\n\n    _this.changeSortTag = function (_ref, tags) {\n      var level = _ref.level,\n          parentId = _ref.parentId;\n\n      if (level === 1) {\n        _this.state.extendFormColumns = tags;\n      } else if (level === 2) {\n        _this.state.extendFormColumns.map(function (ext) {\n          if (ext.id === parentId) {\n            Object.assign(ext, {\n              children: tags\n            });\n          }\n        });\n      }\n\n      _this.setState({});\n    };\n\n    _this.onAddItem = function () {\n      if (_this.store.status === 'query') return;\n      var extendsCol = _this.state.extendFormColumns;\n      extendsCol.unshift({\n        id: extendsCol.length + 1,\n        label: '-选项',\n        key: 'strValue',\n        // maintainType:this.props.maintainType\n        level: 1,\n        cascades: false,\n        must: false,\n        mustValue: '',\n        children: []\n      });\n\n      _this.setState({\n        extendFormColumns: extendsCol\n      });\n    };\n\n    _this.handleType = function (value) {\n      // 修改主体的输入类型\n      _this.setState({\n        contentType: value,\n        extendFormColumns: []\n      });\n    };\n\n    _this.handleIsMust = function (e) {\n      //修改主体项的必填选择\n      _this.setState({\n        isMust: e.target.checked\n      });\n    };\n\n    _this.handleItemContent = function (_ref2, e) {\n      var id = _ref2.id,\n          level = _ref2.level,\n          parentId = _ref2.parentId,\n          key = _ref2.key,\n          strId = _ref2.strId;\n\n      _this.handleExtendChange({\n        id: id,\n        level: level,\n        parentId: parentId,\n        key: key,\n        value: key === 'contentType' ? e : e.target.value,\n        strId: strId\n      });\n    };\n\n    _this.handleItemMust = function (_ref3, e) {\n      var id = _ref3.id,\n          level = _ref3.level,\n          parentId = _ref3.parentId,\n          key = _ref3.key;\n\n      _this.handleExtendChange({\n        id: id,\n        level: level,\n        parentId: parentId,\n        key: key,\n        value: key === 'must' ? e.target.checked : e.target.value\n      });\n    };\n\n    _this.handleItemSwitch = function (_ref4, checked) {\n      var id = _ref4.id,\n          level = _ref4.level,\n          parentId = _ref4.parentId;\n\n      _this.handleExtendChange({\n        id: id,\n        level: level,\n        parentId: parentId,\n        key: 'cascades',\n        value: checked\n      });\n    };\n\n    _this.handleItemProperty = function (_ref5) {\n      var id = _ref5.id,\n          level = _ref5.level,\n          type = _ref5.type,\n          parentId = _ref5.parentId,\n          strId = _ref5.strId;\n      if (_this.store.status === 'query') return;\n\n      if (level === 1) {\n        _this.state.extendFormColumns.map(function (lv1) {\n          if (lv1.id === id) {\n            if (type === 'add') {\n              lv1.children.push({\n                id: lv1.children.length + 1,\n                parentId: id,\n                must: false,\n                mustValue: '',\n                content: '',\n                contentType: 0,\n                level: 2,\n                minValue: '',\n                maxValue: '',\n                strValue: [{\n                  id: 1,\n                  value: '',\n                  parentId: lv1.children.length + 1,\n                  level: 2\n                }]\n              });\n            } else if (type === 'delete') {\n              lv1.children.pop();\n              lv1.children.map(function (lv2, idx) {\n                Object.assign(lv2, {\n                  id: idx\n                });\n              });\n            }\n          }\n        });\n      } else if (level === 2) {\n        _this.state.extendFormColumns.map(function (lv1) {\n          if (lv1.id === parentId) {\n            lv1.children.map(function (lv2) {\n              if (lv2.id === id) {\n                if (type === 'add') {\n                  lv2.strValue.push({\n                    id: lv2.strValue.length + 1,\n                    value: '',\n                    parentId: lv2.id,\n                    level: 2\n                  });\n                } else if (type === 'delete') {\n                  var delIndex = -1;\n                  delIndex = lv2.strValue.findIndex(function (item) {\n                    return item.id === strId;\n                  });\n\n                  if (delIndex >= 0) {\n                    lv2.strValue.splice(delIndex, 1);\n                  }\n\n                  lv2.strValue.map(function (str, index) {\n                    Object.assign(str, {\n                      id: index\n                    });\n                  });\n                }\n              }\n            });\n          }\n        });\n      }\n\n      _this.setState({});\n    };\n\n    _this.handleExtendChange = function (_ref6) {\n      var id = _ref6.id,\n          level = _ref6.level,\n          key = _ref6.key,\n          value = _ref6.value,\n          parentId = _ref6.parentId,\n          strId = _ref6.strId;\n      var extList = _this.state.extendFormColumns;\n\n      if (level === 1) {\n        extList.map(function (lv1) {\n          if (lv1.id === id) {\n            Object.assign(lv1, _defineProperty({}, key, value));\n\n            if (key === 'cascades') {\n              // 判断一级及联添加children条件出来\n              var children = [{\n                id: 1,\n                parentId: id,\n                must: false,\n                mustValue: '',\n                content: '',\n                contentType: 0,\n                level: 2\n              }];\n              Object.assign(lv1, {\n                children: children\n              });\n            }\n          }\n        });\n      } else if (level === 2) {\n        extList.map(function (lv1) {\n          if (lv1.id === parentId) {\n            lv1.children.map(function (lv2) {\n              if (lv2.id === id) {\n                Object.assign(lv2, _defineProperty({}, key, value));\n\n                if (key === 'contentType') {\n                  Object.assign(lv2, {\n                    strValue: [{\n                      id: 1,\n                      value: '',\n                      parentId: lv1.id,\n                      level: 2\n                    }],\n                    minValue: '',\n                    maxValue: ''\n                  });\n                }\n\n                if (key === 'multiStrValue') {\n                  lv2.strValue.map(function (str) {\n                    if (str.id === strId) {\n                      Object.assign(str, {\n                        value: value\n                      });\n                    }\n                  });\n                }\n              }\n            });\n          }\n        });\n      }\n\n      _this.setState({\n        extendFormColumns: extList\n      });\n    };\n\n    _this.onDelItem = function () {\n      if (_this.store.status === 'query') return;\n      var extendsCol = _this.state.extendFormColumns;\n      extendsCol.pop();\n\n      _this.setState({\n        extendFormColumns: extendsCol\n      });\n    };\n\n    _this.handleDataValue = function (type, e) {\n      _this.setState(_defineProperty({}, type, e.target.value));\n    };\n\n    _this.handleSubmit = function () {\n      var _this$store = _this.store,\n          status = _this$store.status,\n          currentMainServer = _this$store.currentMainServer,\n          maintainType = _this$store.maintainType;\n      var extendFormColumns = _this.state.extendFormColumns;\n      /* 使用方法添加参数： */\n\n      try {\n        _this.props.form.validateFieldsAndScroll(function (err, values) {\n          if (!err) {\n            var result = handleServerSubmit({\n              values: values,\n              extendFormColumns: extendFormColumns,\n              status: status,\n              currentMain: currentMainServer,\n              maintainType: maintainType,\n              stateValue: _this.state\n            });\n\n            if (result.success) {\n              _this.store.save(result.params, 'server');\n\n              _this.handleVisible();\n            } else {\n              _message.warn(result.message);\n            }\n          }\n        });\n      } catch (e) {\n        console.log(e);\n      }\n    };\n\n    _this.handleVisible = function () {\n      _this.store.editVisible = !_this.store.editVisible;\n    };\n\n    _this.store = _this.props.DeviceMaintainStore;\n    _this.state = {\n      contentType: false,\n      maxValue: '',\n      minValue: '',\n      isMust: false,\n      extendFormColumns: []\n    };\n    return _this;\n  }\n\n  _createClass(EditPage, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$store2 = this.store,\n          status = _this$store2.status,\n          currentMainServer = _this$store2.currentMainServer;\n      var _this$state = this.state,\n          contentType = _this$state.contentType,\n          minValue = _this$state.minValue,\n          maxValue = _this$state.maxValue,\n          isMust = _this$state.isMust,\n          extendFormColumns = _this$state.extendFormColumns;\n      var title = this.props.title;\n      var getFieldDecorator = this.props.form.getFieldDecorator;\n      var currentMain = currentMainServer;\n      var columns = setFormColumns({\n        status: status,\n        currentMain: currentMain,\n        contentLabel: title + '内容',\n        contentType: contentType,\n        minValue: minValue,\n        maxValue: maxValue,\n        isMust: isMust,\n        handleIsMust: this.handleIsMust,\n        handleType: this.handleType,\n        onAddItem: this.onAddItem,\n        onDelItem: this.onDelItem,\n        handleDataValue: this.handleDataValue\n      });\n      return /*#__PURE__*/React.createElement(_Modal, {\n        title: status === 'add' ? \"\\u65B0\\u589E\".concat(title, \"\\u9879\") : status === 'edit' ? \"\\u7F16\\u8F91\".concat(title, \"\\u9879\") : \"\\u67E5\\u770B\".concat(title, \"\\u9879\"),\n        visible: this.store.editVisible,\n        width: 820,\n        onCancel: this.handleVisible,\n        footer: status === 'query' ? /*#__PURE__*/React.createElement(_Button, {\n          onClick: this.handleVisible,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 27\n          }\n        }, \"\\u5173\\u95ED\") : /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 78\n          }\n        }, /*#__PURE__*/React.createElement(_Button, {\n          onClick: this.handleVisible,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 7\n          }\n        }, \"\\u53D6\\u6D88\"), /*#__PURE__*/React.createElement(_Button, {\n          type: \"primary\",\n          onClick: this.handleSubmit,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 7\n          }\n        }, \"\\u786E\\u5B9A\")),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 4\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          mHeight: '600px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 5\n        }\n      }, columns && columns.map(function (item, i) {\n        return !item.displayNone && /*#__PURE__*/React.createElement(_Form.Item, Object.assign({}, formItemLayout, {\n          label: item.label,\n          key: item.key\n        }, item, {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 10\n          }\n        }), item.getFieldDecorator ? getFieldDecorator(\"\".concat(item.key), _objectSpread({}, item.getFieldDecorator))(item.value) : item.value);\n      }), extendFormColumns && extendFormColumns.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"Simple-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(DraggableArea, {\n        isList: true,\n        tags: extendFormColumns,\n        onChange: this.changeSortTag.bind(this, {\n          level: 1\n        }),\n        render: function render(_ref7) {\n          var tag = _ref7.tag,\n              index = _ref7.index;\n          var lv1 = tag;\n          return /*#__PURE__*/React.createElement(_Form.Item, {\n            labelCol: {\n              span: 2\n            },\n            wrapperCol: {\n              span: 22\n            },\n            label: lv1.label,\n            key: index,\n            className: \"row\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 11\n            }\n          }, /*#__PURE__*/React.createElement(_Input, {\n            disabled: status === 'query',\n            value: lv1.content,\n            placeholder: \"\\u8BF7\\u8F93\\u5165\",\n            style: {\n              width: '200px'\n            },\n            onChange: _this2.handleItemContent.bind(_this2, {\n              id: lv1.id,\n              level: 1,\n              key: 'content'\n            }),\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 12\n            }\n          }), /*#__PURE__*/React.createElement(\"span\", {\n            className: \"type_switch_icon\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 12\n            }\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 13\n            }\n          }, \"\\u7EA7\\u8054\"), /*#__PURE__*/React.createElement(_Switch, {\n            disabled: status === 'query',\n            checkedChildren: \"\\u5F00\",\n            unCheckedChildren: \"\\u5173\",\n            onChange: _this2.handleItemSwitch.bind(_this2, {\n              id: lv1.id,\n              level: 1\n            }),\n            checked: lv1.cascades,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 13\n            }\n          })), lv1.cascades && /*#__PURE__*/React.createElement(\"span\", {\n            style: {\n              color: '#6236FF',\n              cursor: 'pointer',\n              marginLeft: '20px'\n            },\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            onClick: _this2.handleItemProperty.bind(_this2, {\n              id: lv1.id,\n              level: lv1.level,\n              type: 'add'\n            }),\n            disabled: status === 'query',\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 14\n            }\n          }, \"\\u65B0\\u589E\\u5B57\\u6BB5\"), lv1.children.length > 1 && [/*#__PURE__*/React.createElement(_Divider, {\n            type: \"vertical\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 43\n            }\n          }), /*#__PURE__*/React.createElement(\"span\", {\n            onClick: _this2.handleItemProperty.bind(_this2, {\n              id: lv1.id,\n              level: lv1.level,\n              type: 'delete'\n            }),\n            disabled: status === 'query',\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 14\n            }\n          }, \"\\u5220\\u9664\\u5B57\\u6BB5\")]), lv1.cascades && /*#__PURE__*/React.createElement(\"div\", {\n            className: \"Simple-1\",\n            style: {\n              borderStyle: 'dashed'\n            },\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(DraggableArea, {\n            isList: true,\n            tags: lv1.children,\n            onChange: _this2.changeSortTag.bind(_this2, {\n              level: 2,\n              parentId: lv1.id\n            }),\n            render: function render(_ref8) {\n              var tag = _ref8.tag,\n                  index = _ref8.index;\n              var lv2 = tag;\n              return /*#__PURE__*/React.createElement(\"ul\", {\n                className: \"case_children_lv1 row\",\n                key: index,\n                __self: _this2,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 17\n                }\n              }, /*#__PURE__*/React.createElement(\"li\", {\n                __self: _this2,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 18\n                }\n              }, /*#__PURE__*/React.createElement(\"div\", {\n                __self: _this2,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 19\n                }\n              }, /*#__PURE__*/React.createElement(_Input, {\n                disabled: status === 'query',\n                className: \"case_children_lv1_input\",\n                placeholder: \"\\u8BF7\\u8F93\\u5165\\u5B57\\u6BB5\\u8BF4\\u660E\",\n                value: lv2.content || undefined,\n                style: {\n                  width: 200\n                },\n                onChange: _this2.handleItemContent.bind(_this2, {\n                  id: lv2.id,\n                  parentId: lv2.parentId,\n                  level: lv2.level,\n                  key: 'content'\n                }),\n                __self: _this2,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 20\n                }\n              }), /*#__PURE__*/React.createElement(_Select, {\n                disabled: status === 'query',\n                className: \"case_children_lv1_select\",\n                style: {\n                  width: 200,\n                  marginLeft: '20px'\n                },\n                placeholder: \"\\u8BF7\\u9009\\u62E9\\u63CF\\u8FF0\\u7C7B\\u578B\",\n                value: lv2.contentType || undefined,\n                onChange: _this2.handleItemContent.bind(_this2, {\n                  id: lv2.id,\n                  parentId: lv2.parentId,\n                  level: lv2.level,\n                  key: 'contentType'\n                }),\n                __self: _this2,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 20\n                }\n              }, server_list.map(function (server) {\n                return /*#__PURE__*/React.createElement(Option, {\n                  key: server.id,\n                  value: server.id,\n                  __self: _this2,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 250,\n                    columnNumber: 22\n                  }\n                }, server.name);\n              })), /*#__PURE__*/React.createElement(_Checkbox, {\n                disabled: status === 'query',\n                checked: lv2.must,\n                style: {\n                  marginLeft: '20px'\n                },\n                onChange: _this2.handleItemMust.bind(_this2, {\n                  id: lv2.id,\n                  parentId: lv2.parentId,\n                  level: lv2.level,\n                  key: 'must'\n                }),\n                __self: _this2,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 20\n                }\n              }, \"\\u5FC5\\u586B\"), lv2.contentType === 1 && /*#__PURE__*/React.createElement(\"ul\", {\n                className: \"case_children_lv1_rangNumber\",\n                __self: _this2,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 21\n                }\n              }, /*#__PURE__*/React.createElement(\"li\", {\n                __self: _this2,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 298,\n                  columnNumber: 22\n                }\n              }, \"\\u8BF7\\u8F93\\u5165\\u6570\\u636E\\u533A\\u95F4\"), /*#__PURE__*/React.createElement(\"li\", {\n                __self: _this2,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 22\n                }\n              }, /*#__PURE__*/React.createElement(\"span\", {\n                __self: _this2,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 23\n                }\n              }, \"\\u6700\\u5C0F\\u503C\\uFF1A\"), /*#__PURE__*/React.createElement(_Input, {\n                disabled: status === 'query',\n                onChange: _this2.handleItemContent.bind(_this2, {\n                  id: lv2.id,\n                  key: 'minValue',\n                  parentId: lv1.id,\n                  level: lv2.level\n                }),\n                value: lv2.minValue || undefined,\n                style: {\n                  width: 200,\n                  marginLeft: '10px'\n                },\n                placeholder: \"\\u8BF7\\u8F93\\u5165\\u6700\\u5C0F\\u503C\",\n                __self: _this2,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 23\n                }\n              })), /*#__PURE__*/React.createElement(\"li\", {\n                __self: _this2,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 22\n                }\n              }, /*#__PURE__*/React.createElement(\"span\", {\n                __self: _this2,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 23\n                }\n              }, \"\\u6700\\u5927\\u503C\\uFF1A\"), /*#__PURE__*/React.createElement(_Input, {\n                disabled: status === 'query',\n                onChange: _this2.handleItemContent.bind(_this2, {\n                  id: lv2.id,\n                  key: 'maxValue',\n                  parentId: lv1.id,\n                  level: lv2.level\n                }),\n                value: lv2.maxValue || undefined,\n                style: {\n                  width: 200,\n                  marginLeft: '10px'\n                },\n                placeholder: \"\\u8BF7\\u8F93\\u5165\\u6700\\u5927\\u503C\",\n                __self: _this2,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 322,\n                  columnNumber: 23\n                }\n              }))), [2, 3, 8, 9].includes(lv2.contentType) && lv2.strValue.map(function (str, idx) {\n                return /*#__PURE__*/React.createElement(\"div\", {\n                  className: \"case_children_lv1_choiseContent\",\n                  key: idx,\n                  __self: _this2,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 348,\n                    columnNumber: 23\n                  }\n                }, /*#__PURE__*/React.createElement(\"label\", {\n                  __self: _this2,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 352,\n                    columnNumber: 24\n                  }\n                }, \"-\\u9009\\u9879\\uFF1A\"), /*#__PURE__*/React.createElement(_Input, {\n                  style: {\n                    width: 200,\n                    marginLeft: '10px'\n                  },\n                  disabled: status === 'query',\n                  value: str.value || undefined,\n                  placeholder: \"\\u8BF7\\u8F93\\u5165\\u9009\\u9879\",\n                  onChange: _this2.handleItemContent.bind(_this2, {\n                    strId: str.id,\n                    parentId: lv1.id,\n                    id: lv2.id,\n                    key: 'multiStrValue',\n                    level: str.level\n                  }),\n                  __self: _this2,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 353,\n                    columnNumber: 24\n                  }\n                }), /*#__PURE__*/React.createElement(\"span\", {\n                  className: \"choise_operate\",\n                  __self: _this2,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 372,\n                    columnNumber: 24\n                  }\n                }, idx === lv2.strValue.length - 1 && [/*#__PURE__*/React.createElement(\"span\", {\n                  onClick: _this2.handleItemProperty.bind(_this2, {\n                    id: lv2.id,\n                    parentId: lv2.parentId,\n                    level: str.level,\n                    type: 'add',\n                    strId: str.id\n                  }),\n                  __self: _this2,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 375,\n                    columnNumber: 27\n                  }\n                }, \"\\u65B0\\u589E\\u9009\\u9879\"), idx !== 0 && /*#__PURE__*/React.createElement(_Divider, {\n                  type: \"vertical\",\n                  __self: _this2,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 390,\n                    columnNumber: 28\n                  }\n                })], lv2.strValue.length > 1 && /*#__PURE__*/React.createElement(\"span\", {\n                  onClick: _this2.handleItemProperty.bind(_this2, {\n                    id: lv2.id,\n                    parentId: lv2.parentId,\n                    level: str.level,\n                    type: 'delete',\n                    strId: str.id\n                  }),\n                  __self: _this2,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 394,\n                    columnNumber: 26\n                  }\n                }, \"\\u5220\\u9664\\u9009\\u9879\")));\n              }))));\n            },\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 14\n            }\n          })));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 8\n        }\n      }))));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _toJS = toJS(this.store),\n          currentMainServer = _toJS.currentMainServer;\n\n      var currentMain = currentMainServer;\n\n      if (this.store.status === 'add') {\n        this.setState({\n          contentType: false,\n          extendFormColumns: []\n        });\n      } else {\n        var data = [];\n\n        if (currentMain.contentType === 1) {\n          this.state.minValue = currentMain.items.filter(function (item) {\n            return item.configDetailDO.sort === 1;\n          })[0].configDetailDO.item;\n          this.state.maxValue = currentMain.items.filter(function (item) {\n            return item.configDetailDO.sort === 2;\n          })[0].configDetailDO.item;\n        } else if ([2, 3].includes(currentMain.contentType)) {\n          currentMain.items.map(function (item) {\n            var current = _objectSpread({}, item.configDetailDO, {\n              key: 'strValue',\n              label: '-选项',\n              level: 1,\n              content: item.configDetailDO.item,\n              children: []\n            });\n            /* 存在级联 */\n\n\n            if (item.configDetailDO.cascades) {\n              /* 一级 */\n              var level1 = [];\n              item.configVOs.map(function (config) {\n                if (config.contentType === 1) {\n                  var maxValue = config.items.filter(function (max) {\n                    return max.configDetailDO.sort === 2;\n                  })[0].configDetailDO.item;\n                  var minValue = config.items.filter(function (max) {\n                    return max.configDetailDO.sort === 1;\n                  })[0].configDetailDO.item;\n                  level1.push({\n                    content: config.content,\n                    contentType: 1,\n                    id: config.id,\n                    level: 2,\n                    maxValue: maxValue,\n                    minValue: minValue,\n                    must: false,\n                    parentId: item.configDetailDO.id\n                  });\n                } else if (config.contentType === 2 || config.contentType === 3) {\n                  var level2 = {\n                    content: config.content,\n                    contentType: config.contentType,\n                    id: config.id,\n                    level: 2,\n                    must: false,\n                    parentId: item.configDetailDO.id,\n                    multiStrValue: '',\n                    strValue: []\n                  };\n                  config.items.map(function (d) {\n                    level2.strValue.push({\n                      id: config.id,\n                      level: 2,\n                      parentId: item.configDetailDO.id,\n                      value: d.configDetailDO.item\n                    });\n                  });\n                  level1.push(level2);\n                } else {\n                  level1.push({\n                    content: config.content,\n                    contentType: config.contentType,\n                    id: config.id,\n                    level: 2,\n                    must: false,\n                    parentId: item.configDetailDO.id\n                  });\n                }\n              });\n              current.children = level1;\n            }\n\n            data.push(current);\n          });\n        }\n\n        this.setState({\n          contentType: currentMain.contentType,\n          extendFormColumns: data\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.setState({\n        contentType: false,\n        maxValue: '',\n        minValue: '',\n        isMust: false,\n        extendFormColumns: []\n      });\n    }\n  }]);\n\n  return EditPage;\n}(React.Component), _temp)) || _class) || _class);\n\nvar WrapperEditPage = _Form.create({})(EditPage);\n\nexport default WrapperEditPage;","map":{"version":3,"sources":["/Users/shoen/Desktop/设备运维前端/bl-device-manage/src/layouts/BasicManage/MaintainPage/cell/EditPage.js"],"names":["React","toJS","setFormColumns","handleServerSubmit","inject","observer","DraggableArea","server_list","Option","formItemLayout","labelCol","span","wrapperCol","EditPage","props","changeSortTag","tags","level","parentId","state","extendFormColumns","map","ext","id","Object","assign","children","setState","onAddItem","store","status","extendsCol","unshift","length","label","key","cascades","must","mustValue","handleType","value","contentType","handleIsMust","e","isMust","target","checked","handleItemContent","strId","handleExtendChange","handleItemMust","handleItemSwitch","handleItemProperty","type","lv1","push","content","minValue","maxValue","strValue","pop","lv2","idx","delIndex","findIndex","item","splice","str","index","extList","onDelItem","handleDataValue","handleSubmit","currentMainServer","maintainType","form","validateFieldsAndScroll","err","values","result","currentMain","stateValue","success","save","params","handleVisible","warn","message","console","log","editVisible","DeviceMaintainStore","title","getFieldDecorator","columns","contentLabel","mHeight","i","displayNone","bind","tag","width","color","cursor","marginLeft","borderStyle","undefined","server","name","includes","data","items","filter","configDetailDO","sort","current","level1","configVOs","config","max","level2","multiStrValue","d","Component","WrapperEditPage","create"],"mappings":"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","sourcesContent":["/**\n * extendFormColumns 目标对象：即当前的新增或编辑内容 输入类型之后的 children 内容\n *    因此对应操作children内部的level 1:即输入类型之后children的层级，不包括子的部分\n */\n\nimport React from 'react';\nimport { Select, Form, Input, Checkbox, Switch, Divider, Modal, message, Button } from 'antd';\n// import { isEmpty } from 'lodash';\nimport { toJS } from 'mobx';\nimport { setFormColumns, handleServerSubmit } from './methods';\nimport { inject, observer } from 'mobx-react';\nimport { DraggableArea } from 'react-draggable-tags';\nimport { server_list } from './configs';\n\nconst { Option } = Select;\nconst formItemLayout = {\n\tlabelCol: { span: 4 },\n\twrapperCol: { span: 20 }\n};\n\n@inject('DeviceMaintainStore')\n@observer\nclass EditPage extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.store = this.props.DeviceMaintainStore;\n\t\tthis.state = {\n\t\t\tcontentType: false,\n\t\t\tmaxValue: '',\n\t\t\tminValue: '',\n\t\t\tisMust: false,\n\t\t\textendFormColumns: []\n\t\t};\n\t}\n\trender() {\n\t\tconst { status, currentMainServer } = this.store;\n\t\tconst {\n\t\t\tcontentType,\n\t\t\tminValue,\n\t\t\tmaxValue,\n\t\t\tisMust,\n\t\t\textendFormColumns\n\t\t} = this.state;\n\t\tconst { title } = this.props;\n\t\tconst { getFieldDecorator } = this.props.form;\n\t\tconst currentMain = currentMainServer;\n\t\tconst columns = setFormColumns({\n\t\t\tstatus,\n\t\t\tcurrentMain,\n\t\t\tcontentLabel: title + '内容',\n\t\t\tcontentType,\n\t\t\tminValue,\n\t\t\tmaxValue,\n\t\t\tisMust,\n\t\t\thandleIsMust: this.handleIsMust,\n\t\t\thandleType: this.handleType,\n\t\t\tonAddItem: this.onAddItem,\n\t\t\tonDelItem: this.onDelItem,\n\t\t\thandleDataValue: this.handleDataValue\n\t\t});\n\t\treturn (\n\t\t\t<Modal\n\t\t\t\ttitle={status === 'add' ? `新增${title}项` : status === 'edit' ? `编辑${title}项` : `查看${title}项`}\n\t\t\t\tvisible={this.store.editVisible}\n\t\t\t\twidth={820}\n\t\t\t\tonCancel={this.handleVisible}\n\t\t\t\tfooter={\n\t\t\t\t\tstatus === 'query' ? <Button onClick={this.handleVisible}>关闭</Button> : <div>\n\t\t\t\t\t\t<Button onClick={this.handleVisible}>取消</Button>\n\t\t\t\t\t\t<Button type='primary' onClick={this.handleSubmit}>确定</Button>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<div style={{ mHeight: '600px' }}>\n\t\t\t\t\t{/* 最外层选项基础 */}\n\t\t\t\t\t{columns &&\n\t\t\t\t\t\tcolumns.map((item, i) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t!item.displayNone && (\n\t\t\t\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\t\t\t\t{...formItemLayout}\n\t\t\t\t\t\t\t\t\t\tlabel={item.label}\n\t\t\t\t\t\t\t\t\t\tkey={item.key}\n\t\t\t\t\t\t\t\t\t\t{...item}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{item.getFieldDecorator\n\t\t\t\t\t\t\t\t\t\t\t? getFieldDecorator(`${item.key}`, {\n\t\t\t\t\t\t\t\t\t\t\t\t...item.getFieldDecorator\n\t\t\t\t\t\t\t\t\t\t\t})(item.value)\n\t\t\t\t\t\t\t\t\t\t\t: item.value}\n\t\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t{/* ------------------子选项的层级部分 */}\n\t\t\t\t\t{extendFormColumns && extendFormColumns.length > 0 && (\n\t\t\t\t\t\t<div className='Simple-1'>\n\t\t\t\t\t\t\t<DraggableArea\n\t\t\t\t\t\t\t\tisList\n\t\t\t\t\t\t\t\ttags={extendFormColumns}\n\t\t\t\t\t\t\t\tonChange={this.changeSortTag.bind(this, { level: 1 })}\n\t\t\t\t\t\t\t\trender={({ tag, index }) => {\n\t\t\t\t\t\t\t\t\tlet lv1 = tag;\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\t\t\t\t\tlabelCol={{ span: 2 }}\n\t\t\t\t\t\t\t\t\t\t\twrapperCol={{ span: 22 }}\n\t\t\t\t\t\t\t\t\t\t\tlabel={lv1.label}\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\tclassName='row'\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={status === 'query'}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={lv1.content}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='请输入'\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: '200px' }}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleItemContent.bind(this, {\n\t\t\t\t\t\t\t\t\t\t\t\t\tid: lv1.id,\n\t\t\t\t\t\t\t\t\t\t\t\t\tlevel: 1,\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey: 'content'\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t{/* -----------------一级子属性附带的条件 */}\n\t\t\t\t\t\t\t\t\t\t\t<span className='type_switch_icon'>\n\t\t\t\t\t\t\t\t\t\t\t\t<span>级联</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<Switch\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={status === 'query'}\n\t\t\t\t\t\t\t\t\t\t\t\t\tcheckedChildren='开'\n\t\t\t\t\t\t\t\t\t\t\t\t\tunCheckedChildren='关'\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleItemSwitch.bind(this, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid: lv1.id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlevel: 1\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={lv1.cascades}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t{/* <Checkbox\n\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={lv1.must}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='case_must_checkbox'\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleItemMust.bind(this, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid: lv1.id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlevel: 1,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey: 'must'\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t必填\n\t\t\t\t\t\t\t\t\t\t\t\t</Checkbox> */}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t{/* {lv1.must && (\n\t\t\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='case_must_input'\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='请输入必填提示文本'\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={lv1.mustValue || undefined}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleItemMust.bind(this, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid: lv1.id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlevel: 1,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey: 'mustValue'\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t)} */}\n\t\t\t\t\t\t\t\t\t\t\t{lv1.cascades && (\n\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: '#6236FF',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmarginLeft: '20px'\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.handleItemProperty.bind(this, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid: lv1.id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlevel: lv1.level,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: 'add'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={status === 'query'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t新增字段\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{lv1.children.length > 1 && [<Divider type='vertical' />,\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.handleItemProperty.bind(this, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid: lv1.id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlevel: lv1.level,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: 'delete'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={status === 'query'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t删除字段\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>]}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t\t\t{/* ---------------选择打开及联后的第一级 children-dataSource */}\n\t\t\t\t\t\t\t\t\t\t\t{lv1.cascades && (\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='Simple-1'\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ borderStyle: 'dashed' }}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DraggableArea\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisList\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttags={lv1.children}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.changeSortTag.bind(this, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlevel: 2,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparentId: lv1.id\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trender={({ tag, index }) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlet lv2 = tag;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ul\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='case_children_lv1 row'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={status === 'query'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='case_children_lv1_input'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='请输入字段说明'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={lv2.content || undefined}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 200 }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleItemContent.bind(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid: lv2.id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparentId: lv2.parentId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlevel: lv2.level,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey: 'content'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={status === 'query'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='case_children_lv1_select'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 200,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmarginLeft: '20px'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='请选择描述类型'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={lv2.contentType || undefined}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleItemContent.bind(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid: lv2.id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparentId: lv2.parentId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlevel: lv2.level,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey: 'contentType'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{server_list.map(server => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={server.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={server.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{server.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={status === 'query'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={lv2.must}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '20px' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleItemMust.bind(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid: lv2.id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparentId: lv2.parentId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlevel: lv2.level,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey: 'must'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t必填\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Checkbox>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* {lv2.must && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 200,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmarginLeft: '10px'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='case_children_lv1_input'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='请输入字段说明'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={lv2.mustValue || undefined}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleItemMust.bind(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid: lv2.id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparentId: lv2.parentId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlevel: lv2.level,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey: 'mustValue'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)} */}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* 获取到二级输入类型为1时 */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{lv2.contentType === 1 && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ul className='case_children_lv1_rangNumber'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>请输入数据区间</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>最小值：</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={status === 'query'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleItemContent.bind(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid: lv2.id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey: 'minValue',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparentId: lv1.id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlevel: lv2.level\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={lv2.minValue || undefined}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 200,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmarginLeft: '10px'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='请输入最小值'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>最大值：</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={status === 'query'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleItemContent.bind(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid: lv2.id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey: 'maxValue',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparentId: lv1.id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlevel: lv2.level\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={lv2.maxValue || undefined}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 200,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmarginLeft: '10px'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='请输入最大值'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* 获取到二级 输入类型为2，3时  选项的操作 */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{[2, 3,8,9].includes(lv2.contentType) &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlv2.strValue.map((str, idx) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='case_children_lv1_choiseContent'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label>-选项：</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 200,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmarginLeft: '10px'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={status === 'query'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={str.value || undefined}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='请输入选项'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleItemContent.bind(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstrId: str.id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparentId: lv1.id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid: lv2.id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey: 'multiStrValue',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlevel: str.level\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className='choise_operate'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{idx ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlv2.strValue.length - 1 && [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.handleItemProperty.bind(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid: lv2.id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparentId: lv2.parentId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlevel: str.level,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: 'add',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstrId: str.id\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t新增选项\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tidx !== 0 && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Divider type='vertical' />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{lv2.strValue.length > 1 && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.handleItemProperty.bind(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid: lv2.id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparentId: lv2.parentId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlevel: str.level,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: 'delete',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstrId: str.id\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t删除选项\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</Modal>\n\t\t);\n\t}\n\tchangeSortTag = ({ level, parentId }, tags) => {\n\t\tif (level === 1) {\n\t\t\tthis.state.extendFormColumns = tags;\n\t\t} else if (level === 2) {\n\t\t\tthis.state.extendFormColumns.map(ext => {\n\t\t\t\tif (ext.id === parentId) {\n\t\t\t\t\tObject.assign(ext, {\n\t\t\t\t\t\tchildren: tags\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tthis.setState({});\n\t};\n\t/* -------------选项型增加功能 */\n\t/* 选择添加第一层的数据结构 */\n\tonAddItem = () => {\n\t\tif (this.store.status === 'query') return;\n\t\tlet extendsCol = this.state.extendFormColumns;\n\t\textendsCol.unshift({\n\t\t\tid: extendsCol.length + 1,\n\t\t\tlabel: '-选项',\n\t\t\tkey: 'strValue',\n\t\t\t// maintainType:this.props.maintainType\n\t\t\tlevel: 1,\n\t\t\tcascades: false,\n\t\t\tmust: false,\n\t\t\tmustValue: '',\n\t\t\tchildren: []\n\t\t});\n\t\tthis.setState({\n\t\t\textendFormColumns: extendsCol\n\t\t});\n\t};\n\n\t/* -------------选择输入类型 */\n\thandleType = value => {\n\t\t// 修改主体的输入类型\n\t\tthis.setState({\n\t\t\tcontentType: value,\n\t\t\textendFormColumns: []\n\t\t});\n\t};\n\thandleIsMust = e => {\n\t\t//修改主体项的必填选择\n\t\tthis.setState({\n\t\t\tisMust: e.target.checked\n\t\t});\n\t};\n\t/* 具体到每一项完成设置 */\n\thandleItemContent = ({ id, level, parentId, key, strId }, e) => {\n\t\tthis.handleExtendChange({\n\t\t\tid,\n\t\t\tlevel,\n\t\t\tparentId,\n\t\t\tkey,\n\t\t\tvalue: key === 'contentType' ? e : e.target.value,\n\t\t\tstrId\n\t\t});\n\t};\n\thandleItemMust = ({ id, level, parentId, key }, e) => {\n\t\tthis.handleExtendChange({\n\t\t\tid,\n\t\t\tlevel,\n\t\t\tparentId,\n\t\t\tkey,\n\t\t\tvalue: key === 'must' ? e.target.checked : e.target.value\n\t\t});\n\t};\n\thandleItemSwitch = ({ id, level, parentId }, checked) => {\n\t\tthis.handleExtendChange({\n\t\t\tid,\n\t\t\tlevel,\n\t\t\tparentId,\n\t\t\tkey: 'cascades',\n\t\t\tvalue: checked\n\t\t});\n\t};\n\t/* 新增或删除 每项子的级联字段 */\n\thandleItemProperty = ({ id, level, type, parentId, strId }) => {\n\t\tif (this.store.status === 'query') return;\n\t\tif (level === 1) {\n\t\t\tthis.state.extendFormColumns.map(lv1 => {\n\t\t\t\tif (lv1.id === id) {\n\t\t\t\t\tif (type === 'add') {\n\t\t\t\t\t\tlv1.children.push({\n\t\t\t\t\t\t\tid: lv1.children.length + 1,\n\t\t\t\t\t\t\tparentId: id,\n\t\t\t\t\t\t\tmust: false,\n\t\t\t\t\t\t\tmustValue: '',\n\t\t\t\t\t\t\tcontent: '',\n\t\t\t\t\t\t\tcontentType: 0,\n\t\t\t\t\t\t\tlevel: 2,\n\t\t\t\t\t\t\tminValue: '',\n\t\t\t\t\t\t\tmaxValue: '',\n\t\t\t\t\t\t\tstrValue: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tid: 1,\n\t\t\t\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t\t\t\t\tparentId: lv1.children.length + 1,\n\t\t\t\t\t\t\t\t\tlevel: 2\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (type === 'delete') {\n\t\t\t\t\t\tlv1.children.pop();\n\t\t\t\t\t\tlv1.children.map((lv2, idx) => {\n\t\t\t\t\t\t\tObject.assign(lv2, {\n\t\t\t\t\t\t\t\tid: idx\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (level === 2) {\n\t\t\tthis.state.extendFormColumns.map(lv1 => {\n\t\t\t\tif (lv1.id === parentId) {\n\t\t\t\t\tlv1.children.map(lv2 => {\n\t\t\t\t\t\tif (lv2.id === id) {\n\t\t\t\t\t\t\tif (type === 'add') {\n\t\t\t\t\t\t\t\tlv2.strValue.push({\n\t\t\t\t\t\t\t\t\tid: lv2.strValue.length + 1,\n\t\t\t\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t\t\t\t\tparentId: lv2.id,\n\t\t\t\t\t\t\t\t\tlevel: 2\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else if (type === 'delete') {\n\t\t\t\t\t\t\t\tlet delIndex = -1;\n\t\t\t\t\t\t\t\tdelIndex = lv2.strValue.findIndex(item => item.id === strId);\n\t\t\t\t\t\t\t\tif (delIndex >= 0) {\n\t\t\t\t\t\t\t\t\tlv2.strValue.splice(delIndex, 1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlv2.strValue.map((str, index) => {\n\t\t\t\t\t\t\t\t\tObject.assign(str, { id: index });\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tthis.setState({});\n\t};\n\t/* 集结整个扩展字段的更新情况 */\n\thandleExtendChange = ({ id, level, key, value, parentId, strId }) => {\n\t\tlet extList = this.state.extendFormColumns;\n\t\tif (level === 1) {\n\t\t\textList.map(lv1 => {\n\t\t\t\tif (lv1.id === id) {\n\t\t\t\t\tObject.assign(lv1, {\n\t\t\t\t\t\t[key]: value\n\t\t\t\t\t});\n\t\t\t\t\tif (key === 'cascades') {\n\t\t\t\t\t\t// 判断一级及联添加children条件出来\n\t\t\t\t\t\tlet children = [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 1,\n\t\t\t\t\t\t\t\tparentId: id,\n\t\t\t\t\t\t\t\tmust: false,\n\t\t\t\t\t\t\t\tmustValue: '',\n\t\t\t\t\t\t\t\tcontent: '',\n\t\t\t\t\t\t\t\tcontentType: 0,\n\t\t\t\t\t\t\t\tlevel: 2\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t];\n\t\t\t\t\t\tObject.assign(lv1, {\n\t\t\t\t\t\t\tchildren\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (level === 2) {\n\t\t\textList.map(lv1 => {\n\t\t\t\tif (lv1.id === parentId) {\n\t\t\t\t\tlv1.children.map(lv2 => {\n\t\t\t\t\t\tif (lv2.id === id) {\n\t\t\t\t\t\t\tObject.assign(lv2, {\n\t\t\t\t\t\t\t\t[key]: value\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif (key === 'contentType') {\n\t\t\t\t\t\t\t\tObject.assign(lv2, {\n\t\t\t\t\t\t\t\t\tstrValue: [{ id: 1, value: '', parentId: lv1.id, level: 2 }],\n\t\t\t\t\t\t\t\t\tminValue: '',\n\t\t\t\t\t\t\t\t\tmaxValue: ''\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (key === 'multiStrValue') {\n\t\t\t\t\t\t\t\tlv2.strValue.map(str => {\n\t\t\t\t\t\t\t\t\tif (str.id === strId) {\n\t\t\t\t\t\t\t\t\t\tObject.assign(str, {\n\t\t\t\t\t\t\t\t\t\t\tvalue: value\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tthis.setState({\n\t\t\textendFormColumns: extList\n\t\t});\n\t};\n\tonDelItem = () => {\n\t\tif (this.store.status === 'query') return;\n\t\tlet extendsCol = this.state.extendFormColumns;\n\t\textendsCol.pop();\n\t\tthis.setState({\n\t\t\textendFormColumns: extendsCol\n\t\t});\n\t};\n\thandleDataValue = (type, e) => {\n\t\tthis.setState({\n\t\t\t[type]: e.target.value\n\t\t});\n\t};\n\thandleSubmit = () => {\n\t\tconst { status, currentMainServer, maintainType } = this.store;\n\t\tconst { extendFormColumns } = this.state;\n\t\t/* 使用方法添加参数： */\n\t\ttry {\n\t\t\tthis.props.form.validateFieldsAndScroll((err, values) => {\n\t\t\t\tif (!err) {\n\t\t\t\t\tlet result = handleServerSubmit({\n\t\t\t\t\t\tvalues, extendFormColumns, status, currentMain: currentMainServer, maintainType, stateValue: this.state\n\t\t\t\t\t})\n\t\t\t\t\tif (result.success) {\n\t\t\t\t\t\tthis.store.save(result.params, 'server')\n\t\t\t\t\t\tthis.handleVisible();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmessage.warn(result.message)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} catch (e) { console.log(e) }\n\t};\n\thandleVisible = () => {\n\t\tthis.store.editVisible = !this.store.editVisible;\n\t};\n\tcomponentDidMount() {\n\t\tconst { currentMainServer } = toJS(this.store);\n\t\tconst currentMain = currentMainServer;\n\t\tif (this.store.status === 'add') {\n\t\t\tthis.setState({\n\t\t\t\tcontentType: false,\n\t\t\t\textendFormColumns: []\n\t\t\t});\n\t\t} else {\n\t\t\tlet data = [];\n\t\t\tif (currentMain.contentType === 1) {\n\t\t\t\tthis.state.minValue = currentMain.items.filter(item => item.configDetailDO.sort === 1)[0].configDetailDO.item\n\t\t\t\tthis.state.maxValue = currentMain.items.filter(item => item.configDetailDO.sort === 2)[0].configDetailDO.item\n\t\t\t} else if ([2, 3].includes(currentMain.contentType)) {\n\t\t\t\tcurrentMain.items.map(item => {\n\t\t\t\t\tlet current = {\n\t\t\t\t\t\t...item.configDetailDO,\n\t\t\t\t\t\tkey: 'strValue',\n\t\t\t\t\t\tlabel: '-选项',\n\t\t\t\t\t\tlevel: 1,\n\t\t\t\t\t\tcontent: item.configDetailDO.item,\n\t\t\t\t\t\tchildren: []\n\t\t\t\t\t}\n\t\t\t\t\t/* 存在级联 */\n\t\t\t\t\tif (item.configDetailDO.cascades) {\n\t\t\t\t\t\t/* 一级 */\n\t\t\t\t\t\tlet level1 = []\n\t\t\t\t\t\titem.configVOs.map(config => {\n\t\t\t\t\t\t\tif (config.contentType === 1) {\n\t\t\t\t\t\t\t\tlet maxValue = config.items.filter(max => max.configDetailDO.sort === 2)[0].configDetailDO.item;\n\t\t\t\t\t\t\t\tlet minValue = config.items.filter(max => max.configDetailDO.sort === 1)[0].configDetailDO.item;\n\t\t\t\t\t\t\t\tlevel1.push({\n\t\t\t\t\t\t\t\t\tcontent: config.content,\n\t\t\t\t\t\t\t\t\tcontentType: 1,\n\t\t\t\t\t\t\t\t\tid: config.id,\n\t\t\t\t\t\t\t\t\tlevel: 2,\n\t\t\t\t\t\t\t\t\tmaxValue,\n\t\t\t\t\t\t\t\t\tminValue,\n\t\t\t\t\t\t\t\t\tmust: false,\n\t\t\t\t\t\t\t\t\tparentId: item.configDetailDO.id,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t} else if (config.contentType === 2 || config.contentType === 3) {\n\t\t\t\t\t\t\t\tlet level2 = {\n\t\t\t\t\t\t\t\t\tcontent: config.content,\n\t\t\t\t\t\t\t\t\tcontentType: config.contentType,\n\t\t\t\t\t\t\t\t\tid: config.id,\n\t\t\t\t\t\t\t\t\tlevel: 2,\n\t\t\t\t\t\t\t\t\tmust: false,\n\t\t\t\t\t\t\t\t\tparentId: item.configDetailDO.id,\n\t\t\t\t\t\t\t\t\tmultiStrValue: '',\n\t\t\t\t\t\t\t\t\tstrValue: []\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tconfig.items.map(d => {\n\t\t\t\t\t\t\t\t\tlevel2.strValue.push({\n\t\t\t\t\t\t\t\t\t\tid: config.id,\n\t\t\t\t\t\t\t\t\t\tlevel: 2,\n\t\t\t\t\t\t\t\t\t\tparentId: item.configDetailDO.id,\n\t\t\t\t\t\t\t\t\t\tvalue: d.configDetailDO.item\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tlevel1.push(level2)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tlevel1.push({\n\t\t\t\t\t\t\t\t\tcontent: config.content,\n\t\t\t\t\t\t\t\t\tcontentType: config.contentType,\n\t\t\t\t\t\t\t\t\tid: config.id,\n\t\t\t\t\t\t\t\t\tlevel: 2,\n\t\t\t\t\t\t\t\t\tmust: false,\n\t\t\t\t\t\t\t\t\tparentId: item.configDetailDO.id,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\tcurrent.children = level1;\n\t\t\t\t\t}\n\t\t\t\t\tdata.push(current)\n\t\t\t\t})\n\t\t\t}\n\t\t\tthis.setState({\n\t\t\t\tcontentType: currentMain.contentType,\n\t\t\t\textendFormColumns: data\n\t\t\t})\n\t\t}\n\t}\n\tcomponentWillUnmount() {\n\t\tthis.setState({\n\t\t\tcontentType: false,\n\t\t\tmaxValue: '',\n\t\t\tminValue: '',\n\t\t\tisMust: false,\n\t\t\textendFormColumns: []\n\t\t});\n\t}\n}\n\nconst WrapperEditPage = Form.create({})(EditPage);\nexport default WrapperEditPage;\n"]},"metadata":{},"sourceType":"module"}