{"ast":null,"code":"import \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport _defineProperty from \"F:\\\\documents\\\\bl-device-manage-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport \"antd/lib/tabs/style\";\nimport _Tabs from \"antd/lib/tabs\";\nimport _slicedToArray from \"F:\\\\documents\\\\bl-device-manage-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"F:\\\\documents\\\\bl-device-manage-test\\\\src\\\\layouts\\\\FormLayout\\\\formData.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\n/*\r\n * @Author: EmberCCC 1810888456@qq.com\r\n * @Date: 2022-07-02 03:21:54\r\n * @LastEditors: EmberCCC 1810888456@qq.com\r\n * @LastEditTime: 2022-07-19 16:00:29\r\n * @FilePath: \\bl-device-manage-test\\src\\layouts\\FormLayout\\index.js\r\n * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n */\nimport React, { useEffect, useState } from 'react';\nimport FormRender, { useForm } from 'form-render';\nimport { inject, observer } from 'mobx-react';\nimport { toJS } from 'mobx';\nimport { restore } from 'layouts/FormEdit/changeTool';\nimport './index.css';\nimport { getCheckArr } from './formUtil';\nimport { Self_divider } from 'layouts/FormEdit/self_item/self_divider';\nvar FormData = observer(function (_ref) {\n  var HomeStore = _ref.HomeStore,\n      FormStore = _ref.FormStore,\n      TableStore = _ref.TableStore;\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      schema = _useState2[0],\n      setSchema = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      data = _useState4[0],\n      setData = _useState4[1];\n\n  var form = useForm();\n  var formList = useForm();\n\n  var onFinish = function onFinish(formData) {\n    var firstFormId = HomeStore.firstFormId;\n    var checkArr = getCheckArr(form.schema);\n    console.log(checkArr);\n    console.log({\n      'formId': firstFormId,\n      'data': formData\n    });\n    console.log({\n      'formId': firstFormId,\n      'data': formData,\n      'dataId': toJS(TableStore.detailData['data']['id'])\n    });\n\n    if (TableStore.formEdit == false) {\n      FormStore.setValue('formCopyVis', false);\n      TableStore.setDataPageModalVis(false);\n\n      if (checkArr.length == 0) {\n        FormStore.submitData({\n          'formId': firstFormId,\n          'data': formData\n        }).then(function () {\n          if (TableStore.model == 'subitAndManage') {\n            TableStore.getAllData({\n              formId: HomeStore.firstFormId\n            }, 'myself');\n          } else {\n            TableStore.getAllData({\n              formId: HomeStore.firstFormId\n            }, 'all');\n          }\n        });\n      } else {\n        FormStore.submitData({\n          'formId': firstFormId,\n          'data': formData,\n          'checkFieldIds': checkArr\n        }).then(function () {\n          if (TableStore.model == 'subitAndManage') {\n            TableStore.getAllData({\n              formId: HomeStore.firstFormId\n            }, 'myself');\n          } else {\n            TableStore.getAllData({\n              formId: HomeStore.firstFormId\n            }, 'all');\n          }\n        });\n      }\n    } else {\n      if (checkArr.length == 0) {\n        FormStore.changeData({\n          'formId': firstFormId,\n          'data': formData,\n          'dataId': toJS(TableStore.detailData['data']['id'])\n        }).then(function () {\n          TableStore.setValue('formEdit', false);\n          TableStore.getOneData({\n            'formId': HomeStore.firstFormId,\n            'dataId': toJS(TableStore.detailData['data']['id'])\n          });\n\n          if (TableStore.model == 'subitAndManage') {\n            TableStore.getAllData({\n              formId: HomeStore.firstFormId\n            }, 'myself');\n          } else {\n            TableStore.getAllData({\n              formId: HomeStore.firstFormId\n            }, 'all');\n          }\n        });\n      } else {\n        FormStore.changeDataCheck({\n          'formId': firstFormId,\n          'data': formData,\n          'dataId': toJS(TableStore.detailData['data']['id']),\n          'checkFieldIds': checkArr\n        }).then(function () {\n          TableStore.setValue('formEdit', false);\n          TableStore.getOneData({\n            'formId': HomeStore.firstFormId,\n            'dataId': toJS(TableStore.detailData['data']['id'])\n          });\n\n          if (TableStore.model == 'subitAndManage') {\n            TableStore.getAllData({\n              formId: HomeStore.firstFormId\n            }, 'myself');\n          } else {\n            TableStore.getAllData({\n              formId: HomeStore.firstFormId\n            }, 'all');\n          }\n        });\n      }\n    }\n\n    form.resetFields();\n  };\n\n  var handleCancel = function handleCancel() {\n    TableStore.setValue('formEdit', false);\n  };\n\n  useEffect(function () {\n    FormStore.getFormField({\n      formId: HomeStore.firstFormId\n    }).then(function () {\n      setSchema(restore(toJS(FormStore.formField), 'submit'));\n      console.log(toJS(FormStore.formField));\n      var formData = JSON.parse(toJS(TableStore.formData)['formData']);\n      formList.setValues(formData);\n      form.setValues(formData);\n    });\n  }, []);\n\n  var getItem = function getItem() {\n    var nArr = [];\n\n    for (var key in schema) {\n      if (Object.hasOwnProperty.call(schema, key)) {\n        var element = schema[key];\n\n        if (key != 'root') {\n          var iObj = {};\n          iObj['name'] = key;\n          iObj['schema'] = element;\n          nArr.push(iObj);\n        }\n      }\n    }\n\n    return nArr.map(function (item, index) {\n      return /*#__PURE__*/React.createElement(_Tabs.TabPane, {\n        tab: item['name'],\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, /*#__PURE__*/React.createElement(FormRender, {\n        schema: item['schema'],\n        widgets: {\n          self_divider: Self_divider\n        },\n        form: formList,\n        style: {\n          overflowY: 'auto'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }));\n    });\n  };\n\n  var handleChange = function handleChange(activeKey) {\n    var tdata = formList.getValues();\n\n    var nData = _objectSpread(_objectSpread({}, data), tdata);\n\n    console.log(tdata);\n    setData(nData);\n    console.log(nData);\n    var iObj = {};\n\n    for (var key in nData) {\n      if (Object.hasOwnProperty.call(nData, key)) {\n        var element = nData[key];\n        iObj[key] = element;\n      }\n    }\n\n    formList.setValues(nData);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form_content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form_main\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, /*#__PURE__*/React.createElement(FormRender, {\n    schema: schema['root'],\n    form: form,\n    onFinish: onFinish,\n    style: {\n      overflowY: 'auto'\n    },\n    widgets: {\n      self_divider: Self_divider\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }), /*#__PURE__*/React.createElement(_Tabs, {\n    onChange: handleChange,\n    tabBarGutter: 20,\n    destroyInactiveTabPane: true,\n    type: \"card\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, getItem())), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form_footer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, /*#__PURE__*/React.createElement(_Button, {\n    onClick: form.submit,\n    type: \"primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, \"\\u63D0\\u4EA4\"), TableStore.formEdit && /*#__PURE__*/React.createElement(_Button, {\n    onClick: handleCancel,\n    style: {\n      marginLeft: '20px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, \"\\u53D6\\u6D88\")));\n});\nexport default inject(function (stores) {\n  return {\n    HomeStore: stores.HomeStore,\n    FormStore: stores.FormStore,\n    TableStore: stores.TableStore\n  };\n})(FormData);","map":{"version":3,"names":["React","useEffect","useState","FormRender","useForm","inject","observer","toJS","restore","getCheckArr","Self_divider","FormData","HomeStore","FormStore","TableStore","schema","setSchema","data","setData","form","formList","onFinish","formData","firstFormId","checkArr","console","log","detailData","formEdit","setValue","setDataPageModalVis","length","submitData","then","model","getAllData","formId","changeData","getOneData","changeDataCheck","resetFields","handleCancel","getFormField","formField","JSON","parse","setValues","getItem","nArr","key","Object","hasOwnProperty","call","element","iObj","push","map","item","index","self_divider","overflowY","handleChange","activeKey","tdata","getValues","nData","submit","marginLeft","stores"],"sources":["F:/documents/bl-device-manage-test/src/layouts/FormLayout/formData.js"],"sourcesContent":["/*\r\n * @Author: EmberCCC 1810888456@qq.com\r\n * @Date: 2022-07-02 03:21:54\r\n * @LastEditors: EmberCCC 1810888456@qq.com\r\n * @LastEditTime: 2022-07-19 16:00:29\r\n * @FilePath: \\bl-device-manage-test\\src\\layouts\\FormLayout\\index.js\r\n * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n */\r\nimport React, { useEffect, useState } from 'react';\r\nimport FormRender, { useForm } from 'form-render';\r\nimport { Button, Tabs } from 'antd';\r\nimport { inject, observer } from 'mobx-react';\r\nimport { toJS } from 'mobx';\r\nimport { restore } from 'layouts/FormEdit/changeTool';\r\nimport './index.css'\r\nimport { getCheckArr } from './formUtil';\r\nimport { Self_divider } from 'layouts/FormEdit/self_item/self_divider';\r\n\r\nconst FormData = observer(({ HomeStore, FormStore, TableStore }) => {\r\n  const [schema, setSchema] = useState({});\r\n  const [data, setData] = useState({});\r\n  const form = useForm();\r\n  const formList = useForm()\r\n  const onFinish = (formData) => {\r\n    const { firstFormId } = HomeStore;\r\n    let checkArr = getCheckArr(form.schema);\r\n    console.log(checkArr);\r\n    console.log({ 'formId': firstFormId, 'data': formData });\r\n    console.log({ 'formId': firstFormId, 'data': formData, 'dataId': toJS(TableStore.detailData['data']['id']) });\r\n    if (TableStore.formEdit == false) {\r\n      FormStore.setValue('formCopyVis', false)\r\n      TableStore.setDataPageModalVis(false);\r\n      if (checkArr.length == 0) {\r\n        FormStore.submitData({ 'formId': firstFormId, 'data': formData }).then(() => {\r\n          if (TableStore.model == 'subitAndManage') {\r\n            TableStore.getAllData({ formId: HomeStore.firstFormId }, 'myself')\r\n          } else {\r\n            TableStore.getAllData({ formId: HomeStore.firstFormId }, 'all')\r\n          }\r\n        })\r\n      } else {\r\n        FormStore.submitData({ 'formId': firstFormId, 'data': formData, 'checkFieldIds': checkArr }).then(() => {\r\n          if (TableStore.model == 'subitAndManage') {\r\n            TableStore.getAllData({ formId: HomeStore.firstFormId }, 'myself')\r\n          } else {\r\n            TableStore.getAllData({ formId: HomeStore.firstFormId }, 'all')\r\n          }\r\n        })\r\n      }\r\n    } else {\r\n      if (checkArr.length == 0) {\r\n        FormStore.changeData({ 'formId': firstFormId, 'data': formData, 'dataId': toJS(TableStore.detailData['data']['id']) }).then(() => {\r\n          TableStore.setValue('formEdit', false);\r\n          TableStore.getOneData({ 'formId': HomeStore.firstFormId, 'dataId': toJS(TableStore.detailData['data']['id']) })\r\n          if (TableStore.model == 'subitAndManage') {\r\n            TableStore.getAllData({ formId: HomeStore.firstFormId }, 'myself')\r\n          } else {\r\n            TableStore.getAllData({ formId: HomeStore.firstFormId }, 'all')\r\n          }\r\n        })\r\n      } else {\r\n        FormStore.changeDataCheck({ 'formId': firstFormId, 'data': formData, 'dataId': toJS(TableStore.detailData['data']['id']), 'checkFieldIds': checkArr }).then(() => {\r\n          TableStore.setValue('formEdit', false);\r\n          TableStore.getOneData({ 'formId': HomeStore.firstFormId, 'dataId': toJS(TableStore.detailData['data']['id']) })\r\n          if (TableStore.model == 'subitAndManage') {\r\n            TableStore.getAllData({ formId: HomeStore.firstFormId }, 'myself')\r\n          } else {\r\n            TableStore.getAllData({ formId: HomeStore.firstFormId }, 'all')\r\n          }\r\n        })\r\n      }\r\n\r\n    }\r\n    form.resetFields();\r\n  }\r\n  const handleCancel = () => {\r\n    TableStore.setValue('formEdit', false);\r\n  }\r\n  useEffect(() => {\r\n    FormStore.getFormField({ formId: HomeStore.firstFormId }).then(() => {\r\n      setSchema(restore(toJS(FormStore.formField), 'submit'))\r\n      console.log(toJS(FormStore.formField));\r\n      const formData = JSON.parse(toJS(TableStore.formData)['formData'])\r\n      formList.setValues(formData);\r\n      form.setValues(formData);\r\n    });\r\n  }, [])\r\n  const getItem = () => {\r\n    let nArr = []\r\n    for (const key in schema) {\r\n      if (Object.hasOwnProperty.call(schema, key)) {\r\n        const element = schema[key];\r\n        if (key != 'root') {\r\n          let iObj = {}\r\n          iObj['name'] = key\r\n          iObj['schema'] = element\r\n          nArr.push(iObj);\r\n        }\r\n      }\r\n    }\r\n    return (\r\n      nArr.map((item, index) => {\r\n        return (\r\n          <Tabs.TabPane tab={item['name']} key={index}>\r\n            <FormRender schema={item['schema']} widgets={{ self_divider: Self_divider }}\r\n              form={formList} style={{ overflowY: 'auto' }} />\r\n          </Tabs.TabPane>\r\n        )\r\n      })\r\n    )\r\n  }\r\n  const handleChange = (activeKey) => {\r\n    let tdata = formList.getValues()\r\n    let nData = { ...data, ...tdata }\r\n    console.log(tdata);\r\n    setData(nData);\r\n    console.log(nData);\r\n    let iObj = {}\r\n    for (const key in nData) {\r\n      if (Object.hasOwnProperty.call(nData, key)) {\r\n        const element = nData[key];\r\n        iObj[key] = element\r\n\r\n      }\r\n    }\r\n    formList.setValues(nData)\r\n  }\r\n  return (\r\n    <div className='form_content'>\r\n      <div className='form_main'>\r\n        <FormRender schema={schema['root']} form={form} onFinish={onFinish} style={{ overflowY: 'auto' }} widgets={{ self_divider: Self_divider }} />\r\n        <Tabs onChange={handleChange} tabBarGutter={20} destroyInactiveTabPane={true} type='card'>\r\n          {\r\n            getItem()\r\n          }\r\n        </Tabs>\r\n      </div>\r\n      <div className='form_footer'>\r\n        <Button onClick={form.submit} type=\"primary\">提交</Button>\r\n        {\r\n          TableStore.formEdit && <Button onClick={handleCancel} style={{ marginLeft: '20px' }}>取消</Button>\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default inject((stores) => ({ HomeStore: stores.HomeStore, FormStore: stores.FormStore, TableStore: stores.TableStore }))(FormData);"],"mappings":"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"},"metadata":{},"sourceType":"module"}