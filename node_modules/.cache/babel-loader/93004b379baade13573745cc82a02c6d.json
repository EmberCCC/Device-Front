{"ast":null,"code":"function _createForOfIteratorHelper(o) { if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) { var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var it, normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(n); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/**\n * @description 项目中复用到的工具方法\n */\nimport { isEmpty } from 'lodash';\n/* 判断数据是否存在 */\n\nexport function isDataExist(res) {\n  var isExist = false;\n\n  if (res) {\n    if (res.data) {\n      if (res.data.data) isExist = true;\n      if (res.data.code.toString() === '0') isExist = true;\n    }\n  }\n\n  return isExist;\n}\n/* 关于解析路径上的query传参 */\n\nexport function initSearchQuery(search) {\n  var data = {};\n  search = search.split('?')[1];\n\n  if (search.indexOf('&') > -1) {\n    search = search.split('&');\n    search.map(function (item) {\n      var per = item.split('=');\n      data[per[0]] = per[1];\n      return item;\n    });\n  } else {\n    search = search.split('=');\n    data[search[0]] = search[1];\n  }\n\n  return data;\n}\n/* 判断当前终端 */\n\nexport function judgeIsMobile(type) {\n  if (type === 'pc') return false;\n  if (type === 'mobile') return true;\n}\n/* 校验当前menu选择 */\n\nexport function checkCurrentMenu(_ref) {\n  var menuObj = _ref.menuObj,\n      actionId = _ref.actionId;\n  var currentMenu = [],\n      crumbsList = [];\n  /* 一级菜单查询 */\n\n  currentMenu = menuObj.filter(function (leaf) {\n    return leaf.id === actionId;\n  });\n\n  try {\n    if (isEmpty(currentMenu)) {\n      /* 二级菜单查询 */\n      var _iterator = _createForOfIteratorHelper(menuObj),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var lv2 = _step.value;\n\n          if (lv2.leafMenuModels.length > 0) {\n            currentMenu = lv2.leafMenuModels.filter(function (leaf) {\n              return leaf.id === actionId;\n            });\n\n            if (!isEmpty(currentMenu)) {\n              crumbsList = crumbsList.concat([{\n                id: lv2.id,\n                name: lv2.name,\n                path: lv2.path\n              }, {\n                id: currentMenu[0].id,\n                name: currentMenu[0].name,\n                path: currentMenu[0].path\n              }]); // finished(currentMenu[0].path);\n\n              return {\n                currentMenu: currentMenu,\n                crumbsList: crumbsList\n              };\n            } else {\n              /* 三级菜单查询 */\n              var _iterator2 = _createForOfIteratorHelper(lv2.leafMenuModels),\n                  _step2;\n\n              try {\n                for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                  var lv3 = _step2.value;\n\n                  if (lv3.leafMenuModels) {\n                    currentMenu = lv3.leafMenuModels.filter(function (leaf) {\n                      return leaf.id === actionId;\n                    });\n\n                    if (!isEmpty(currentMenu)) {\n                      crumbsList.push({\n                        id: currentMenu[0].id,\n                        name: currentMenu[0].name,\n                        path: currentMenu[0].path\n                      });\n                    }\n\n                    return {\n                      currentMenu: currentMenu,\n                      crumbsList: crumbsList\n                    }; // finished(currentMenu[0].path);\n                  }\n                }\n              } catch (err) {\n                _iterator2.e(err);\n              } finally {\n                _iterator2.f();\n              }\n            }\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    } else {\n      crumbsList.push(currentMenu[0]); // finished(currentMenu[0].path);\n\n      return {\n        currentMenu: currentMenu,\n        crumbsList: crumbsList\n      };\n    }\n  } catch (error) {\n    console.log(error);\n  }\n\n  return {\n    currentMenu: currentMenu,\n    crumbsList: crumbsList\n  };\n}\n/* 关于cookie */\n\nexport function getCookie(c_name) {\n  if (document.cookie.length > 0) {\n    var c_start = document.cookie.indexOf(c_name + \"=\");\n\n    if (c_start !== -1) {\n      c_start = c_start + c_name.length + 1;\n      var c_end = document.cookie.indexOf(\";\", c_start);\n      if (c_end === -1) c_end = document.cookie.length;\n      return unescape(document.cookie.substring(c_start, c_end)).replace(/\\\"/g, \"\");\n    }\n  }\n}\nexport function setCookie(name, value, seconds) {\n  seconds = seconds || 0; //seconds有值就直接赋值，没有为0\n\n  var expires = \"\";\n\n  if (seconds !== 0) {\n    //设置cookie生存时间\n    var date = new Date();\n    date.setTime(date.getTime() + seconds * 1000);\n    expires = \"; expires=\" + date.toGMTString();\n  }\n\n  document.cookie = name + \"=\" + escape(value) + expires + \"; path=/\"; //转码并赋值\n}\nexport function clearCookie(name) {\n  setCookie(name, \"\");\n  setCookie('isChecked', false);\n}","map":{"version":3,"sources":["C:/Users/Misaki/Desktop/kda/设备运维前端/bl-device-manage/src/utils/dataTools.js"],"names":["isEmpty","isDataExist","res","isExist","data","code","toString","initSearchQuery","search","split","indexOf","map","item","per","judgeIsMobile","type","checkCurrentMenu","menuObj","actionId","currentMenu","crumbsList","filter","leaf","id","lv2","leafMenuModels","length","concat","name","path","lv3","push","error","console","log","getCookie","c_name","document","cookie","c_start","c_end","unescape","substring","replace","setCookie","value","seconds","expires","date","Date","setTime","getTime","toGMTString","escape","clearCookie"],"mappings":"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","sourcesContent":["/**\n * @description 项目中复用到的工具方法\n */\n\nimport { isEmpty } from 'lodash';\n\n/* 判断数据是否存在 */\nexport function isDataExist(res){\n  let isExist = false;\n  if(res){\n    if(res.data){\n      if(res.data.data)\n        isExist = true;\n      if(res.data.code.toString() === '0')\n        isExist = true; \n    }\n  }\n  return isExist;\n}\n\n/* 关于解析路径上的query传参 */\nexport function initSearchQuery(search){\n  let data = {};\n  search = search.split('?')[1];\n  if(search.indexOf('&') > -1){\n    search = search.split('&');\n    search.map(item=>{\n      let per = item.split('=');\n      data[per[0]] = per[1];\n      return item;\n    });\n  }else{\n    search = search.split('=');\n    data[search[0]] = search[1];\n  }\n  return data;\n}\n\n/* 判断当前终端 */\nexport function judgeIsMobile(type) {\n  if(type === 'pc') return false;\n  if(type === 'mobile') return true;\n}\n\n/* 校验当前menu选择 */\nexport function checkCurrentMenu({\n  menuObj,actionId,\n}){\n  let currentMenu = [],crumbsList = [];\n  /* 一级菜单查询 */\n  currentMenu = menuObj.filter(leaf => leaf.id === actionId);\n  try {\n    if (isEmpty(currentMenu)) {\n      /* 二级菜单查询 */\n      for(let lv2 of menuObj){\n        if( lv2.leafMenuModels.length > 0 ){\n          currentMenu = lv2.leafMenuModels.filter(leaf=>leaf.id === actionId);\n          if(!isEmpty(currentMenu)){\n            crumbsList = crumbsList.concat([{\n              id:lv2.id,name:lv2.name,path:lv2.path\n            },{\n              id:currentMenu[0].id,name:currentMenu[0].name,path:currentMenu[0].path\n            }]);\n            // finished(currentMenu[0].path);\n            return { currentMenu,crumbsList };\n          } else {\n            /* 三级菜单查询 */\n            for (let lv3 of lv2.leafMenuModels){\n              if (lv3.leafMenuModels) {\n                currentMenu = lv3.leafMenuModels.filter(leaf => leaf.id === actionId);\n                if(!isEmpty(currentMenu)){\n                  crumbsList.push({\n                    id:currentMenu[0].id,name:currentMenu[0].name,path:currentMenu[0].path\n                  });\n                }\n                return { currentMenu,crumbsList };\n                // finished(currentMenu[0].path);\n              }\n            }\n          }\n        }\n      }\n    }else{\n      crumbsList.push(currentMenu[0]);\n      // finished(currentMenu[0].path);\n      return { currentMenu,crumbsList };\n    }\n  } catch (error) {\n    console.log(error);\n  }\n  return { currentMenu,crumbsList };\n}\n\n\n/* 关于cookie */\nexport function getCookie(c_name){\n  if (document.cookie.length > 0) {\n    let c_start = document.cookie.indexOf(c_name + \"=\")\n    if (c_start !== -1) {\n        c_start = c_start + c_name.length + 1\n        let c_end = document.cookie.indexOf(\";\", c_start)\n        if (c_end === -1) c_end = document.cookie.length\n        return unescape(document.cookie.substring(c_start, c_end)).replace(/\\\"/g, \"\");\n    }\n  }\n}\nexport function setCookie(name,value,seconds){\n  seconds = seconds || 0;   //seconds有值就直接赋值，没有为0\n  let expires = \"\";\n  if (seconds !== 0) {      //设置cookie生存时间\n    let date = new Date();\n    date.setTime(date.getTime() + (seconds * 1000));\n    expires = \"; expires=\" + date.toGMTString();\n  }\n  document.cookie = name + \"=\" + escape(value) + expires + \"; path=/\";   //转码并赋值\n}\nexport function clearCookie(name){\n  setCookie(name, \"\");\n  setCookie('isChecked',false);\n}\n"]},"metadata":{},"sourceType":"module"}