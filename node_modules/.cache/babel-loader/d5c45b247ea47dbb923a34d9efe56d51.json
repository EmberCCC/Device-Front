{"ast":null,"code":"import \"antd/lib/row/style\";\nimport _Row from \"antd/lib/row\";\nimport \"antd/lib/col/style\";\nimport _Col from \"antd/lib/col\";\nimport \"antd/lib/popover/style\";\nimport _Popover from \"antd/lib/popover\";\nimport _extends from \"D:\\\\GGdownload\\\\\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/extends\";\nimport \"antd/lib/tag/style\";\nimport _Tag from \"antd/lib/tag\";\nimport _initializerDefineProperty from \"D:\\\\GGdownload\\\\\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/initializerDefineProperty\";\nimport _classCallCheck from \"D:\\\\GGdownload\\\\\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"D:\\\\GGdownload\\\\\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\GGdownload\\\\\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"D:\\\\GGdownload\\\\\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _createClass from \"D:\\\\GGdownload\\\\\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"D:\\\\GGdownload\\\\\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _applyDecoratedDescriptor from \"D:\\\\GGdownload\\\\\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/applyDecoratedDescriptor\";\nimport _initializerWarningHelper from \"D:\\\\GGdownload\\\\\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/initializerWarningHelper\";\n\nvar _class,\n    _descriptor,\n    _temp,\n    _jsxFileName = \"D:\\\\GGdownload\\\\\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF\\\\bl-device-manage\\\\src\\\\components\\\\Category\\\\index.js\";\n\n/*\r\n * @Author: zhangliang\r\n * @Date: 2019-05-22 11:10:38\r\n * @Last Modified by: zhangliang\r\n * @Last Modified time: 2019-06-22 10:53:30\r\n * description:\r\n * 1.title:{String}传入的分类名称\r\n * 2.content:{Array}传入所有的标签内容\r\n * 3.onClick:点击标签时所调用的方法,父组件通过接参可以获取到点击的对象\r\n * 4.PopoTitle：气泡内的标题和key,例如PopoTitle = [{ 'title': '仓库名称', \"key\": 'name' }, { 'title': '仓库状态', \"key\": 'status' }]\r\n * 5.PopoVisible:是否显示气泡,默认false\r\n * 6.keyname:需要显示成标签的字段名\r\n * 7.defaultActiveKey:首次渲染需求的\r\n * 具体参考WarehouseManage.js\r\n */\nimport React, { Component } from 'react';\nimport { DownOutlined, UpOutlined } from '@ant-design/icons';\n// import { oberver } from 'mobx-react';\nimport { observable, action } from 'mobx';\nimport { isEmpty } from \"lodash\";\nimport './index.less';\nvar Category = (_class = (_temp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Category, _Component);\n\n  _createClass(Category, [{\n    key: \"changeValue\",\n    value: function changeValue(value) {\n      this.popoValue = value;\n    }\n  }]);\n\n  function Category(props) {\n    var _this;\n\n    _classCallCheck(this, Category);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Category).call(this, props));\n\n    _initializerDefineProperty(_this, \"popoValue\", _descriptor, _assertThisInitialized(_this));\n\n    _this.handleChange = function (tag, checked) {\n      var selectedTags = _this.state.selectedTags;\n\n      if (_this.state.onToggle) {\n        _this.setState({\n          selectedTags: [tag]\n        }, function () {\n          if (_this.props.onClick) {\n            _this.props.onClick(tag);\n          }\n        });\n      } else {\n        var nextSelectedTags = checked ? [tag] : selectedTags.filter(function (t) {\n          return t !== tag;\n        }); //多选\n\n        _this.setState({\n          selectedTags: nextSelectedTags\n        }, function () {\n          // console.log(this.state.selectedTags)\n          if (_this.props.onClick) {\n            _this.props.onClick(tag);\n          }\n        });\n      } // this.selectedTags = [tag]\n\n    };\n\n    _this.handleMove = function (tag, checked) {\n      // console.log(this.state.selectedTags, 11)\n      _this.changeValue(tag);\n\n      _this.setState({\n        popoContent: React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, _this.props.PopoTitle && _this.props.PopoTitle.map(function (item, index) {\n          return (// console.log(item, index, this.state.popoValue[item['key']])\n            React.createElement(\"div\", {\n              key: index,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 69\n              },\n              __self: this\n            }, \" \", item['title'], \": \", _this.popoValue[item['key']])\n          );\n        }))\n      });\n    };\n\n    _this.spreadAll = function () {\n      _this.setState({\n        maskHeight: _this.categoryContent.current.offsetHeight + 'px',\n        isSpread: false\n      });\n    };\n\n    _this.hideAll = function () {\n      _this.setState({\n        maskHeight: '32px',\n        isSpread: true\n      });\n    };\n\n    _this.state = {\n      selectedTags: !isEmpty(_this.props.defaultActiveKey) ? [_this.props.defaultActiveKey] : [],\n      //激活状态的标签\n      maskHeight: \"32px\",\n      //遮罩层高度，用于遮住换行的标签，实现展开收起效果\n      isSpread: true,\n      //切换显示展开和收起\n      popoValue: {},\n      //气泡中的value\n      popoContent: \"\",\n      //气泡中的内容\n      onToggle: _this.props.notoggle || false\n    };\n    return _this;\n  } //选中标签\n\n\n  _createClass(Category, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var CheckableTag = _Tag.CheckableTag;\n      var selectedTags = this.state.selectedTags;\n      var tagsFromServer = this.props.content ? this.props.content : [];\n      var keyName = this.props.keyName ? this.props.keyName : \"\";\n      var PopoVisible = this.props.PopoVisible ? this.props.PopoVisible : false;\n\n      var otherProps = _extends({}, this.props);\n\n      this.categoryContent = React.createRef();\n      return React.createElement(\"div\", {\n        className: \"categoryLayout\",\n        style: {\n          height: this.state.maskHeight,\n          overflow: 'hidden'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(_Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(_Col, {\n        className: \"category-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"category-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, this.props.title, \":\"), React.createElement(\"div\", {\n        className: \"category-content\",\n        ref: this.categoryContent,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \" \", tagsFromServer.map(function (tag, index) {\n        return React.createElement(CheckableTag, Object.assign({\n          className: \"category-tag\"\n        }, otherProps, {\n          key: tag[keyName],\n          checked: selectedTags.indexOf(tag) > -1,\n          onMouseEnter: function onMouseEnter(checked) {\n            return _this2.handleMove(tag, checked);\n          },\n          onChange: function onChange(checked) {\n            return _this2.handleChange(tag, checked);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }), PopoVisible ? React.createElement(_Popover, {\n          content: _this2.state.popoContent,\n          trigger: \"hover\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        }, tag[keyName]) : React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        }, tag[keyName]));\n      })), React.createElement(\"div\", {\n        className: \"category-spread\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, this.state.isSpread && React.createElement(\"span\", {\n        onClick: this.spreadAll,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"\\u5C55\\u5F00\", React.createElement(DownOutlined, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      })), !this.state.isSpread && React.createElement(\"span\", {\n        onClick: this.hideAll,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \"\\u6536\\u8D77\", React.createElement(UpOutlined, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }))))));\n    } //展开\n    // componentDidUpdate(a, b) {\n    //     console.log(a, b)\n    // }\n\n  }]);\n\n  return Category;\n}(Component), _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"popoValue\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return {};\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"changeValue\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"changeValue\"), _class.prototype)), _class);\nexport default Category;","map":{"version":3,"sources":["D:\\GGdownload\\设备运维前端\\bl-device-manage\\src\\components\\Category\\index.js"],"names":["React","Component","DownOutlined","UpOutlined","observable","action","isEmpty","Category","value","popoValue","props","handleChange","tag","checked","selectedTags","state","onToggle","setState","onClick","nextSelectedTags","filter","t","handleMove","changeValue","popoContent","PopoTitle","map","item","index","spreadAll","maskHeight","categoryContent","current","offsetHeight","isSpread","hideAll","defaultActiveKey","notoggle","CheckableTag","tagsFromServer","content","keyName","PopoVisible","otherProps","createRef","height","overflow","title","indexOf"],"mappings":"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","sourcesContent":["/*\r\n * @Author: zhangliang\r\n * @Date: 2019-05-22 11:10:38\r\n * @Last Modified by: zhangliang\r\n * @Last Modified time: 2019-06-22 10:53:30\r\n * description:\r\n * 1.title:{String}传入的分类名称\r\n * 2.content:{Array}传入所有的标签内容\r\n * 3.onClick:点击标签时所调用的方法,父组件通过接参可以获取到点击的对象\r\n * 4.PopoTitle：气泡内的标题和key,例如PopoTitle = [{ 'title': '仓库名称', \"key\": 'name' }, { 'title': '仓库状态', \"key\": 'status' }]\r\n * 5.PopoVisible:是否显示气泡,默认false\r\n * 6.keyname:需要显示成标签的字段名\r\n * 7.defaultActiveKey:首次渲染需求的\r\n * 具体参考WarehouseManage.js\r\n */\r\nimport React, { Component } from 'react';\r\nimport { DownOutlined, UpOutlined } from '@ant-design/icons';\r\nimport { Row, Col, Tag, Popover } from 'antd';\r\n// import { oberver } from 'mobx-react';\r\nimport { observable, action, } from 'mobx';\r\nimport { isEmpty } from \"lodash\";\r\nimport './index.less'\r\nclass Category extends Component {\r\n    @observable popoValue = {};\r\n    @action changeValue(value) {\r\n        this.popoValue = value;\r\n    }\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            selectedTags: !isEmpty(this.props.defaultActiveKey) ? [this.props.defaultActiveKey] : [],//激活状态的标签\r\n            maskHeight: \"32px\",//遮罩层高度，用于遮住换行的标签，实现展开收起效果\r\n            isSpread: true,//切换显示展开和收起\r\n            popoValue: {},//气泡中的value\r\n            popoContent: \"\",//气泡中的内容\r\n            onToggle: this.props.notoggle || false\r\n        }\r\n    }\r\n    //选中标签\r\n    handleChange = (tag, checked) => {\r\n        const { selectedTags } = this.state;\r\n        if (this.state.onToggle) {\r\n            this.setState({ selectedTags: [tag] }, () => {\r\n                if (this.props.onClick) {\r\n                    this.props.onClick(tag)\r\n                }\r\n            });\r\n        } else {\r\n            const nextSelectedTags = checked ? [tag] : selectedTags.filter(t => t !== tag);//多选\r\n            this.setState({ selectedTags: nextSelectedTags }, () => {\r\n                // console.log(this.state.selectedTags)\r\n                if (this.props.onClick) {\r\n                    this.props.onClick(tag)\r\n                }\r\n            });\r\n        }\r\n\r\n        // this.selectedTags = [tag]\r\n\r\n    }\r\n    //滑入标签\r\n    handleMove = (tag, checked) => {\r\n        // console.log(this.state.selectedTags, 11)\r\n        this.changeValue(tag);\r\n        this.setState({\r\n            popoContent: (<div>{\r\n                this.props.PopoTitle && this.props.PopoTitle.map((item, index) => (\r\n                    // console.log(item, index, this.state.popoValue[item['key']])\r\n                    <div key={index}> {item['title']}: {this.popoValue[item['key']]}</div>\r\n                )\r\n                )\r\n            }</div>)\r\n        });\r\n    }\r\n    render() {\r\n        const CheckableTag = Tag.CheckableTag;\r\n        const { selectedTags } = this.state;\r\n        const tagsFromServer = this.props.content ? this.props.content : []\r\n        const keyName = this.props.keyName ? this.props.keyName : \"\"\r\n        const PopoVisible = this.props.PopoVisible ? this.props.PopoVisible : false\r\n        const { ...otherProps } = this.props;\r\n\r\n        this.categoryContent = React.createRef()\r\n        return (\r\n            <div className='categoryLayout' style={{ height: (this.state.maskHeight), overflow: 'hidden' }}>\r\n                <Row>\r\n                    <Col className='category-box'>\r\n                        <div className='category-title'>{this.props.title}:</div>\r\n                        <div className='category-content' ref={this.categoryContent}> {tagsFromServer.map((tag, index) => (\r\n                            <CheckableTag\r\n                                className='category-tag'\r\n                                {...otherProps}\r\n                                key={tag[keyName]}\r\n                                checked={selectedTags.indexOf(tag) > -1}\r\n                                onMouseEnter={checked => this.handleMove(tag, checked)}\r\n                                onChange={checked => this.handleChange(tag, checked)}\r\n                            >\r\n                                {/* {console.log(toJS(selectedTags),selectedTags.indexOf(tag) > -1)} */}\r\n                                {PopoVisible ? <Popover content={this.state.popoContent} trigger=\"hover\">\r\n                                    {tag[keyName]}\r\n                                </Popover> : <span>{tag[keyName]}</span>}\r\n                            </CheckableTag>\r\n                        ))}</div>\r\n                        <div className='category-spread' >\r\n                            {\r\n                                this.state.isSpread && <span onClick={this.spreadAll}>展开<DownOutlined /></span>\r\n                            }\r\n                            {\r\n                                !this.state.isSpread && <span onClick={this.hideAll}>收起<UpOutlined /></span>\r\n                            }\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n        );\r\n    }\r\n    //展开\r\n    spreadAll = () => {\r\n        this.setState({\r\n            maskHeight: this.categoryContent.current.offsetHeight + 'px',\r\n            isSpread: false\r\n        })\r\n    }\r\n    //收起\r\n    hideAll = () => {\r\n        this.setState({\r\n            maskHeight: '32px',\r\n            isSpread: true\r\n        })\r\n    }\r\n    // componentDidUpdate(a, b) {\r\n    //     console.log(a, b)\r\n    // }\r\n}\r\nexport default Category;"]},"metadata":{},"sourceType":"module"}