{"ast":null,"code":"import \"antd/lib/spin/style\";\nimport _Spin from \"antd/lib/spin\";\n\nvar _this = this,\n    _jsxFileName = \"F:\\\\documents\\\\bl-device-manage-test\\\\src\\\\layouts\\\\XTableLayout\\\\index.js\";\n\n/*\r\n * @Author: EmberCCC 1810888456@qq.com\r\n * @Date: 2022-07-06 22:04:09\r\n * @LastEditors: EmberCCC 1810888456@qq.com\r\n * @LastEditTime: 2022-07-06 22:45:22\r\n * @FilePath: \\bl-device-manage-test\\src\\layouts\\XTableLayout\\index.js\r\n * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n */\nimport { toJS } from 'mobx';\nimport { inject, observer } from 'mobx-react';\nimport React, { useEffect } from 'react';\nimport { Search, Table, useTable, withTable } from 'table-render';\nimport stores from 'stores';\nvar XTableLayout = observer(function (_ref) {\n  var TableStore = _ref.TableStore,\n      HomeStore = _ref.HomeStore;\n  var columns = HomeStore.columns,\n      dataSource = HomeStore.dataSource;\n  var isLoading = TableStore.isLoading;\n  useEffect(function () {\n    console.log(toJS(columns));\n    console.log(toJS(dataSource));\n  }, []);\n\n  var searchApi = function searchApi() {\n    return {\n      rows: dataSource,\n      total: dataSource.length\n    };\n  };\n\n  var Layout = isLoading == false ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Search, {\n    api: searchApi,\n    schema: TableStore.schema,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }), /*#__PURE__*/React.createElement(Table, {\n    pagination: {\n      pageSize: 3\n    },\n    columns: columns,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  })) : /*#__PURE__*/React.createElement(_Spin, {\n    spinning: _this.props.TableStore.isLoading,\n    size: \"large\",\n    tip: \"Loading..\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  });\n  return Layout;\n});\nexport default inject(function (stores) {\n  return {\n    TableStore: stores.TableStore,\n    HomeStore: stores.HomeStore\n  };\n})(XTableLayout);","map":{"version":3,"names":["toJS","inject","observer","React","useEffect","Search","Table","useTable","withTable","stores","XTableLayout","TableStore","HomeStore","columns","dataSource","isLoading","console","log","searchApi","rows","total","length","Layout","schema","pageSize","props"],"sources":["F:/documents/bl-device-manage-test/src/layouts/XTableLayout/index.js"],"sourcesContent":["/*\r\n * @Author: EmberCCC 1810888456@qq.com\r\n * @Date: 2022-07-06 22:04:09\r\n * @LastEditors: EmberCCC 1810888456@qq.com\r\n * @LastEditTime: 2022-07-06 22:45:22\r\n * @FilePath: \\bl-device-manage-test\\src\\layouts\\XTableLayout\\index.js\r\n * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n */\r\nimport { toJS } from 'mobx'\r\nimport { inject, observer } from 'mobx-react'\r\nimport React, { useEffect } from 'react'\r\nimport { Search, Table, useTable, withTable } from 'table-render';\r\nimport stores from 'stores'\r\nimport { Spin } from 'antd';\r\n\r\n\r\n\r\nconst XTableLayout = observer(({ TableStore, HomeStore }) => {\r\n    const { columns, dataSource } = HomeStore\r\n    const { isLoading } = TableStore\r\n    useEffect(() => {\r\n        console.log(toJS(columns));\r\n        console.log(toJS(dataSource));\r\n    }, [])\r\n    const searchApi = () => {\r\n        return {\r\n            rows: dataSource,\r\n            total: dataSource.length\r\n        }\r\n    }\r\n    const Layout = (isLoading == false ? <>\r\n        <Search api={searchApi} schema={TableStore.schema} />\r\n        <Table\r\n            pagination={{ pageSize: 3 }}\r\n            columns={columns}\r\n        />\r\n    </> : <Spin spinning={this.props.TableStore.isLoading} size='large' tip='Loading..' />)\r\n    return Layout\r\n})\r\n\r\nexport default inject((stores) => ({ TableStore: stores.TableStore, HomeStore: stores.HomeStore }))(XTableLayout);"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,IAAT,QAAqB,MAArB;AACA,SAASC,MAAT,EAAiBC,QAAjB,QAAiC,YAAjC;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,QAAxB,EAAkCC,SAAlC,QAAmD,cAAnD;AACA,OAAOC,MAAP,MAAmB,QAAnB;AAKA,IAAMC,YAAY,GAAGR,QAAQ,CAAC,gBAA+B;EAAA,IAA5BS,UAA4B,QAA5BA,UAA4B;EAAA,IAAhBC,SAAgB,QAAhBA,SAAgB;EACzD,IAAQC,OAAR,GAAgCD,SAAhC,CAAQC,OAAR;EAAA,IAAiBC,UAAjB,GAAgCF,SAAhC,CAAiBE,UAAjB;EACA,IAAQC,SAAR,GAAsBJ,UAAtB,CAAQI,SAAR;EACAX,SAAS,CAAC,YAAM;IACZY,OAAO,CAACC,GAAR,CAAYjB,IAAI,CAACa,OAAD,CAAhB;IACAG,OAAO,CAACC,GAAR,CAAYjB,IAAI,CAACc,UAAD,CAAhB;EACH,CAHQ,EAGN,EAHM,CAAT;;EAIA,IAAMI,SAAS,GAAG,SAAZA,SAAY,GAAM;IACpB,OAAO;MACHC,IAAI,EAAEL,UADH;MAEHM,KAAK,EAAEN,UAAU,CAACO;IAFf,CAAP;EAIH,CALD;;EAMA,IAAMC,MAAM,GAAIP,SAAS,IAAI,KAAb,gBAAqB,uDACjC,oBAAC,MAAD;IAAQ,GAAG,EAAEG,SAAb;IAAwB,MAAM,EAAEP,UAAU,CAACY,MAA3C;IAAA;MAAA;MAAA;IAAA;IAAA;EAAA,EADiC,eAEjC,oBAAC,KAAD;IACI,UAAU,EAAE;MAAEC,QAAQ,EAAE;IAAZ,CADhB;IAEI,OAAO,EAAEX,OAFb;IAAA;MAAA;MAAA;IAAA;IAAA;EAAA,EAFiC,CAArB,gBAMV;IAAM,QAAQ,EAAE,KAAI,CAACY,KAAL,CAAWd,UAAX,CAAsBI,SAAtC;IAAiD,IAAI,EAAC,OAAtD;IAA8D,GAAG,EAAC,WAAlE;IAAA;MAAA;MAAA;IAAA;IAAA;EAAA,EANN;EAOA,OAAOO,MAAP;AACH,CArB4B,CAA7B;AAuBA,eAAerB,MAAM,CAAC,UAACQ,MAAD;EAAA,OAAa;IAAEE,UAAU,EAAEF,MAAM,CAACE,UAArB;IAAiCC,SAAS,EAAEH,MAAM,CAACG;EAAnD,CAAb;AAAA,CAAD,CAAN,CAAqFF,YAArF,CAAf"},"metadata":{},"sourceType":"module"}