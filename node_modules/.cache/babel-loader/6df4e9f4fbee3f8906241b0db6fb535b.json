{"ast":null,"code":"import \"antd/lib/modal/style\";\nimport _Modal from \"antd/lib/modal\";\nimport _classCallCheck from \"D:\\\\GGdownload\\\\\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\GGdownload\\\\\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\GGdownload\\\\\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\GGdownload\\\\\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\GGdownload\\\\\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\n\nvar _dec,\n    _class,\n    _temp,\n    _jsxFileName = \"D:\\\\GGdownload\\\\\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF\\\\bl-device-manage\\\\src\\\\layouts\\\\BasicManage\\\\DefinePage\\\\DeviceList\\\\QrCanvas.js\";\n\nimport React, { Component } from 'react';\nimport { inject, observer } from 'mobx-react';\nimport { toJS } from 'mobx';\nimport domtoimage from 'dom-to-image';\nimport image from 'assets/bg.png';\n\nvar QRCode = require('qrcode.react');\n\nvar QrCanvas = (_dec = inject('DeviceDefineStore'), _dec(_class = observer(_class = (_temp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(QrCanvas, _Component);\n\n  function QrCanvas(props) {\n    var _this;\n\n    _classCallCheck(this, QrCanvas);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(QrCanvas).call(this, props));\n\n    _this.codeInfo = function () {\n      console.log(_this.props.DeviceDefineStore.sortList, _this.props.DeviceDefineStore.codeInfo, Object.keys(_this.state.codeInfo));\n      var arr = [];\n\n      for (var key in _this.state.codeInfo) {\n        console.log(key);\n\n        switch (key) {\n          case 'deviceName':\n            arr.push(React.createElement(\"p\", {\n              style: {\n                marginBottom: 10\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 63\n              },\n              __self: this\n            }, \"\\u8BBE\\u5907\\u540D\\u79F0\\uFF1A\", _this.state.codeInfo[key]));\n            break;\n\n          case 'deviceCode':\n            arr.push(React.createElement(\"p\", {\n              style: {\n                marginBottom: 10\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 66\n              },\n              __self: this\n            }, \"\\u8BBE\\u5907\\u7F16\\u53F7\\uFF1A\", _this.state.codeInfo[key]));\n            break;\n\n          case 'modelId':\n            arr.push(React.createElement(\"p\", {\n              style: {\n                marginBottom: 10\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 69\n              },\n              __self: this\n            }, \"\\u578B\\u53F7\\uFF1A\", _this.state.codeInfo[key]));\n            break;\n\n          case 'guaranteePeriod':\n            arr.push(React.createElement(\"p\", {\n              style: {\n                marginBottom: 10\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 72\n              },\n              __self: this\n            }, \"\\u4FDD\\u4FEE\\u671F\\uFF1A\", _this.state.codeInfo[key]));\n            break;\n\n          case 'unit':\n            arr.push(React.createElement(\"p\", {\n              style: {\n                marginBottom: 10\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 75\n              },\n              __self: this\n            }, \"\\u8BA1\\u91CF\\u5355\\u4F4D\\uFF1A\", _this.state.codeInfo[key]));\n            break;\n\n          case 'deviceTime':\n            console.log(_this.state.codeInfo);\n            arr.push(React.createElement(\"p\", {\n              style: {\n                marginBottom: 10\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 79\n              },\n              __self: this\n            }, \"\\u521B\\u5EFA\\u65F6\\u95F4\\uFF1A\", _this.state.codeInfo['deviceTime'].split(' ')[0]));\n            break;\n\n          default:\n            break;\n        }\n      }\n\n      console.log(arr, 'arr');\n      return arr;\n    };\n\n    _this.cancelCode = function () {\n      _this.props.DeviceDefineStore.codeChange();\n    };\n\n    _this.clickOk = function () {\n      var node = document.getElementById('my-node'); // var node = `<div id=\"my-node\" style={{ background: 'url(https://assets-boranet.oss-cn-hangzhou.aliyuncs.com/img/bg.png)', backgroundSize: '100%', backgroundRepeat: 'no-repeat', padding: '20px 20px 20px 20px'}}>\n      // <div style={{ textAlign: 'right', color: '#fff', fontSize: 25, letterSpacing: 4 }}>{codeInfo.deviceName}</div>\n      // <div style={{ display: 'flex' }}>\n      //   <div style={{ width: 180, height: 180, padding: 10, background: '#fff' }}>\n      //     <QRCode size={160} value=\"http://facebook.github.io/react/\" />,\n      // </div>\n      //   <div style={{ flex: 1, marginLeft: 20, color: '#fff', fontSize: 24, marginTop: 20, letterSpacing: 2 }}>\n      //     <p style={{ marginTop: 5 }}>设备编码：{codeInfo.deviceCode}</p>\n      //     <p style={{ marginTop: 5 }}>型号：{codeInfo.modelId}</p>\n      //     <p style={{ marginTop: 5 }}>单位：{codeInfo.unit}</p>\n      //   </div>\n      // </div>`\n\n      domtoimage.toPng(node).then(function (dataUrl) {\n        var a = document.createElement(\"a\");\n        var event = new MouseEvent(\"click\");\n        a.download = \"图片\";\n        a.href = dataUrl;\n        a.dispatchEvent(event);\n\n        _this.props.DeviceDefineStore.codeChange();\n      }).catch(function (error) {\n        console.error('oops, something went wrong!', error);\n      });\n    };\n\n    _this.state = {\n      codeInfo: toJS(_this.props.DeviceDefineStore.codeInfo) || {}\n    };\n    return _this;\n  }\n\n  _createClass(QrCanvas, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var codeInfo = this.state.codeInfo;\n\n      var renderModuleCode = function renderModuleCode() {\n        var arr = [React.createElement(\"div\", {\n          style: {\n            width: 180,\n            height: 180,\n            padding: 10,\n            background: '#fff',\n            marginBottom: 20\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 22\n          },\n          __self: this\n        }, React.createElement(QRCode, {\n          size: 160,\n          value: \"http://file.boranet.cn/wx/getInfoByCode?deviceCode=\".concat(codeInfo.deviceCode),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 23\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          style: {\n            flex: 1,\n            marginLeft: 20,\n            color: '#fff',\n            fontSize: 24,\n            marginTop: 0,\n            letterSpacing: 2\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 25\n          },\n          __self: this\n        }, _this2.codeInfo())];\n        return Object.keys(codeInfo).indexOf('right') > -1 ? arr.reverse() : arr;\n      };\n\n      return React.createElement(_Modal, {\n        title: \"\\u94ED\\u724C\",\n        visible: this.props.DeviceDefineStore.codeVisible,\n        width: 700,\n        okText: \"\\u4E0B\\u8F7D\",\n        cancelText: \"\\u53D6\\u6D88\",\n        onOk: this.clickOk,\n        onCancel: function onCancel(e) {\n          return _this2.props.DeviceDefineStore.codeChange();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"my-node\",\n        style: {\n          background: \"url(\".concat(image, \")\"),\n          backgroundSize: '100%',\n          backgroundRepeat: 'no-repeat',\n          padding: '20px 20px 0 40px',\n          borderRadius: '12px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          display: 'flex'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, codeInfo && renderModuleCode()))));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {}\n  }]);\n\n  return QrCanvas;\n}(Component), _temp)) || _class) || _class);\nexport default QrCanvas;","map":{"version":3,"sources":["D:\\GGdownload\\设备运维前端\\bl-device-manage\\src\\layouts\\BasicManage\\DefinePage\\DeviceList\\QrCanvas.js"],"names":["React","Component","inject","observer","toJS","domtoimage","image","QRCode","require","QrCanvas","props","codeInfo","console","log","DeviceDefineStore","sortList","Object","keys","state","arr","key","push","marginBottom","split","cancelCode","codeChange","clickOk","node","document","getElementById","toPng","then","dataUrl","a","createElement","event","MouseEvent","download","href","dispatchEvent","catch","error","renderModuleCode","width","height","padding","background","deviceCode","flex","marginLeft","color","fontSize","marginTop","letterSpacing","indexOf","reverse","codeVisible","e","backgroundSize","backgroundRepeat","borderRadius","display"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Modal } from 'antd';\nimport { inject, observer } from 'mobx-react';\nimport { toJS } from 'mobx';\nimport domtoimage from 'dom-to-image';\nimport image from 'assets/bg.png';\nvar QRCode = require('qrcode.react');\n\n@inject('DeviceDefineStore')\n@observer\nclass QrCanvas extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      codeInfo: toJS(this.props.DeviceDefineStore.codeInfo) || {}\n    }\n  }\n  render() {\n    const { codeInfo } = this.state\n    const renderModuleCode = ()=>{\n      let arr = [\n        <div style={{ width: 180, height: 180, padding: 10, background: '#fff', marginBottom: 20 }}>\n          <QRCode size={160} value={`http://file.boranet.cn/wx/getInfoByCode?deviceCode=${codeInfo.deviceCode}`} />\n        </div>,\n        <div style={{ flex: 1, marginLeft: 20, color: '#fff', fontSize: 24, marginTop: 0, letterSpacing: 2 }}>\n          {this.codeInfo()}\n        </div>\n      ]\n      return Object.keys(codeInfo).indexOf('right') > -1 ? arr.reverse() : arr;\n    }\n    return (\n      <Modal\n        title=\"铭牌\"\n        visible={this.props.DeviceDefineStore.codeVisible}\n        width={700}\n        okText=\"下载\"\n        cancelText=\"取消\"\n        onOk={this.clickOk}\n        onCancel={e => this.props.DeviceDefineStore.codeChange()}\n      >\n      {/* || ${image} */}\n        <div>\n          <div id=\"my-node\" style={{ background: `url(${image})`, backgroundSize: '100%', backgroundRepeat: 'no-repeat', padding: '20px 20px 0 40px', borderRadius: '12px' }}>\n            {/*<div style={{ textAlign: 'right', color: '#fff', fontSize: 25, letterSpacing: 4 }}>{codeInfo.deviceName}</div>*/}\n            <div style={{ display: 'flex' }}>\n              {codeInfo && renderModuleCode()}\n            </div>\n          </div>\n        </div>\n\n      </Modal>\n    );\n  }\n  codeInfo = () => {\n    console.log(this.props.DeviceDefineStore.sortList,\n      this.props.DeviceDefineStore.codeInfo, Object.keys(this.state.codeInfo))\n\n    let arr = []\n    for (let key in this.state.codeInfo) {\n      console.log(key)\n      switch (key) {\n        case 'deviceName':\n          arr.push(<p style={{ marginBottom: 10 }}>设备名称：{this.state.codeInfo[key]}</p>)\n          break;\n        case 'deviceCode':\n          arr.push(<p style={{ marginBottom: 10 }}>设备编号：{this.state.codeInfo[key]}</p>)\n          break;\n        case 'modelId':\n          arr.push(<p style={{ marginBottom: 10 }}>型号：{this.state.codeInfo[key]}</p>)\n          break;\n        case 'guaranteePeriod':\n          arr.push(<p style={{ marginBottom: 10 }}>保修期：{this.state.codeInfo[key]}</p>)\n          break;\n        case 'unit':\n          arr.push(<p style={{ marginBottom: 10 }}>计量单位：{this.state.codeInfo[key]}</p>)\n          break;\n        case 'deviceTime':\n          console.log(this.state.codeInfo)\n          arr.push(<p style={{ marginBottom: 10 }}>创建时间：{this.state.codeInfo['deviceTime'].split(' ')[0]}</p>)\n          break;\n        default:break;\n      }\n\n    }\n    console.log(arr, 'arr')\n    return arr\n  }\n  cancelCode = () => {\n    this.props.DeviceDefineStore.codeChange()\n  }\n  clickOk = () => {\n    var node = document.getElementById('my-node');\n    // var node = `<div id=\"my-node\" style={{ background: 'url(https://assets-boranet.oss-cn-hangzhou.aliyuncs.com/img/bg.png)', backgroundSize: '100%', backgroundRepeat: 'no-repeat', padding: '20px 20px 20px 20px'}}>\n    // <div style={{ textAlign: 'right', color: '#fff', fontSize: 25, letterSpacing: 4 }}>{codeInfo.deviceName}</div>\n    // <div style={{ display: 'flex' }}>\n    //   <div style={{ width: 180, height: 180, padding: 10, background: '#fff' }}>\n    //     <QRCode size={160} value=\"http://facebook.github.io/react/\" />,\n    // </div>\n    //   <div style={{ flex: 1, marginLeft: 20, color: '#fff', fontSize: 24, marginTop: 20, letterSpacing: 2 }}>\n    //     <p style={{ marginTop: 5 }}>设备编码：{codeInfo.deviceCode}</p>\n    //     <p style={{ marginTop: 5 }}>型号：{codeInfo.modelId}</p>\n    //     <p style={{ marginTop: 5 }}>单位：{codeInfo.unit}</p>\n    //   </div>\n    // </div>`\n    domtoimage.toPng(node)\n      .then((dataUrl) => {\n        const a = document.createElement(\"a\");\n        const event = new MouseEvent(\"click\");\n        a.download = \"图片\"\n        a.href = dataUrl;\n        a.dispatchEvent(event);\n        this.props.DeviceDefineStore.codeChange()\n      })\n      .catch(function (error) {\n        console.error('oops, something went wrong!', error);\n      });\n  }\n  componentDidMount() {\n  }\n}\nexport default QrCanvas"]},"metadata":{},"sourceType":"module"}