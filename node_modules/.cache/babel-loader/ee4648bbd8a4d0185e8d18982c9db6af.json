{"ast":null,"code":"import \"antd/lib/table/style\";\nimport _Table from \"antd/lib/table\";\nimport \"antd/lib/modal/style\";\nimport _Modal from \"antd/lib/modal\";\nimport _classCallCheck from \"F:\\\\documents\\\\bl-device-manage-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\documents\\\\bl-device-manage-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"F:\\\\documents\\\\bl-device-manage-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"F:\\\\documents\\\\bl-device-manage-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"F:\\\\documents\\\\bl-device-manage-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\n\nvar _dec,\n    _dec2,\n    _class,\n    _temp,\n    _jsxFileName = \"F:\\\\documents\\\\bl-device-manage-test\\\\src\\\\layouts\\\\BasicManage\\\\ComputerPage\\\\index.js\";\n\n/*\r\n * @Author: your name\r\n * @Date: 2022-04-02 11:12:08\r\n * @LastEditTime: 2022-04-07 11:08:59\r\n * @LastEditors: Please set LastEditors\r\n * @Description: 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n * @FilePath: \\bl-device-manage-test\\src\\layouts\\BasicManage\\ComputerPage\\index.js\r\n */\nimport { inject, observer } from 'mobx-react';\nimport React, { Component } from 'react';\nimport GlobalForm from 'components/GlobalForm';\nimport { MenuObj } from 'constants/configs';\nimport { checkCurrentMenu } from 'utils/dataTools';\nimport { toJS } from 'mobx';\nvar ComputerPage = (_dec = inject('BasicStore'), _dec2 = inject('HomeStore'), _dec(_class = _dec2(_class = observer(_class = (_temp =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ComputerPage, _React$Component);\n\n  function ComputerPage() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ComputerPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ComputerPage)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.getColumns = function () {\n      var columns = _this.props.BasicStore.columns;\n      var operation = {\n        title: '操作',\n        key: 'x',\n        align: 'right',\n        render: function render(text, record) {\n          return React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 45\n            },\n            __self: this\n          }, React.createElement(\"a\", {\n            onClick: function onClick(e) {\n              return _this.delete(record);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 47\n            },\n            __self: this\n          }, \"\\u5220\\u9664\"));\n        }\n      };\n      columns.push(operation);\n      return columns;\n    };\n\n    _this.delete = function (txt) {\n      _Modal.confirm({\n        title: '提示',\n        content: '是否确认删除该条数据',\n        okText: '确认',\n        cancelText: '取消',\n        onOk: function onOk() {\n          console.log(txt.key);\n        },\n        onCancel: function onCancel() {\n          console.log('Cancel');\n        }\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(ComputerPage, [{\n    key: \"render\",\n    value: function render() {\n      var model = this.props.HomeStore.model;\n      var dataSource = this.props.BasicStore.dataSource;\n      var PageInfo = this.props.BasicStore.PageInfo;\n\n      if (model == 'look') {\n        return React.createElement(_Table, {\n          columns: this.getColumns(),\n          dataSource: dataSource,\n          pagination: PageInfo,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 29\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(GlobalForm, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 31\n          },\n          __self: this\n        });\n      }\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var selectedKeys = this.props.HomeStore.selectedKeys;\n      var actionId = selectedKeys[0];\n      var menuObj = toJS(MenuObj.leafMenuModels);\n      var current = checkCurrentMenu({\n        menuObj: menuObj,\n        actionId: actionId\n      });\n      var params = {}; // params.formId = current.currentMenu[0].id.toString();\n\n      params.formId = \"1\";\n      this.props.BasicStore.queryAll(params);\n    }\n  }]);\n\n  return ComputerPage;\n}(React.Component), _temp)) || _class) || _class) || _class);\nexport default ComputerPage;","map":{"version":3,"sources":["F:\\documents\\bl-device-manage-test\\src\\layouts\\BasicManage\\ComputerPage\\index.js"],"names":["inject","observer","React","Component","GlobalForm","MenuObj","checkCurrentMenu","toJS","ComputerPage","getColumns","columns","props","BasicStore","operation","title","key","align","render","text","record","e","delete","push","txt","confirm","content","okText","cancelText","onOk","console","log","onCancel","model","HomeStore","dataSource","PageInfo","selectedKeys","actionId","menuObj","leafMenuModels","current","params","formId","queryAll"],"mappings":";;;;;;;;;;;;;;;;AAAA;;;;;;;;AASA,SAASA,MAAT,EAAiBC,QAAjB,QAAiC,YAAjC;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAOC,UAAP,MAAuB,uBAAvB;AACA,SAASC,OAAT,QAAwB,mBAAxB;AACA,SAASC,gBAAT,QAAiC,iBAAjC;AACA,SAASC,IAAT,QAAqB,MAArB;IAMMC,Y,WAHLR,MAAM,CAAC,YAAD,C,UACNA,MAAM,CAAC,WAAD,C,+BACNC,Q;;;;;;;;;;;;;;;;;;UAiBCQ,U,GAAa,YAAM;AAAA,UACTC,OADS,GACG,MAAKC,KAAL,CAAWC,UADd,CACTF,OADS;AAEjB,UAAMG,SAAS,GAAG;AAChBC,QAAAA,KAAK,EAAE,IADS;AAEhBC,QAAAA,GAAG,EAAE,GAFW;AAGhBC,QAAAA,KAAK,EAAE,OAHS;AAIhBC,QAAAA,MAAM,EAAE,gBAACC,IAAD,EAAOC,MAAP;AAAA,iBACN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAEE;AAAG,YAAA,OAAO,EAAE,iBAAAC,CAAC;AAAA,qBAAI,MAAKC,MAAL,CAAYF,MAAZ,CAAJ;AAAA,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAFF,CADM;AAAA;AAJQ,OAAlB;AAYAT,MAAAA,OAAO,CAACY,IAAR,CAAaT,SAAb;AACA,aAAOH,OAAP;AACD,K;;UACDW,M,GAAS,UAACE,GAAD,EAAQ;AACf,aAAMC,OAAN,CAAc;AACZV,QAAAA,KAAK,EAAE,IADK;AAEZW,QAAAA,OAAO,EAAE,YAFG;AAGZC,QAAAA,MAAM,EAAE,IAHI;AAIZC,QAAAA,UAAU,EAAE,IAJA;AAKZC,QAAAA,IALY,kBAKL;AACLC,UAAAA,OAAO,CAACC,GAAR,CAAYP,GAAG,CAACR,GAAhB;AACD,SAPW;AAQZgB,QAAAA,QARY,sBAQD;AACPF,UAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACH;AAVW,OAAd;AAYD,K;;;;;;;6BA5CQ;AAAA,UACCE,KADD,GACW,KAAKrB,KAAL,CAAWsB,SADtB,CACCD,KADD;AAAA,UAECE,UAFD,GAEgB,KAAKvB,KAAL,CAAWC,UAF3B,CAECsB,UAFD;AAAA,UAGCC,QAHD,GAGc,KAAKxB,KAAL,CAAWC,UAHzB,CAGCuB,QAHD;;AAIP,UAAIH,KAAK,IAAI,MAAb,EAAqB;AACnB,eAAO;AAAO,UAAA,OAAO,EAAE,KAAKvB,UAAL,EAAhB;AAAmC,UAAA,UAAU,EAAEyB,UAA/C;AAA4D,UAAA,UAAU,EAAEC,QAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD,OAFD,MAEO;AACL,eAAO,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AAED;AAGF;;;yCAiCoB;AAAA,UACXC,YADW,GACM,KAAKzB,KAAL,CAAWsB,SADjB,CACXG,YADW;AAEnB,UAAIC,QAAQ,GAAGD,YAAY,CAAC,CAAD,CAA3B;AACA,UAAIE,OAAO,GAAG/B,IAAI,CAACF,OAAO,CAACkC,cAAT,CAAlB;AACA,UAAIC,OAAO,GAAGlC,gBAAgB,CAAC;AAAEgC,QAAAA,OAAO,EAAPA,OAAF;AAAWD,QAAAA,QAAQ,EAARA;AAAX,OAAD,CAA9B;AACA,UAAII,MAAM,GAAG,EAAb,CALmB,CAMnB;;AACAA,MAAAA,MAAM,CAACC,MAAP,GAAgB,GAAhB;AACA,WAAK/B,KAAL,CAAWC,UAAX,CAAsB+B,QAAtB,CAA+BF,MAA/B;AAED;;;;EAzDwBvC,KAAK,CAACC,S;AA4DjC,eAAeK,YAAf","sourcesContent":["/*\r\n * @Author: your name\r\n * @Date: 2022-04-02 11:12:08\r\n * @LastEditTime: 2022-04-07 11:08:59\r\n * @LastEditors: Please set LastEditors\r\n * @Description: 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n * @FilePath: \\bl-device-manage-test\\src\\layouts\\BasicManage\\ComputerPage\\index.js\r\n */\r\n\r\nimport { inject, observer } from 'mobx-react'\r\nimport React, { Component } from 'react'\r\nimport { Table ,Modal} from 'antd'\r\nimport GlobalForm from 'components/GlobalForm';\r\nimport { MenuObj } from 'constants/configs';\r\nimport { checkCurrentMenu } from 'utils/dataTools';\r\nimport { toJS } from 'mobx';\r\n\r\n\r\n@inject('BasicStore')\r\n@inject('HomeStore')\r\n@observer\r\nclass ComputerPage extends React.Component {\r\n\r\n  render() {\r\n    const { model } = this.props.HomeStore;\r\n    const { dataSource } = this.props.BasicStore;\r\n    const { PageInfo } = this.props.BasicStore;\r\n    if (model == 'look') {\r\n      return <Table columns={this.getColumns()} dataSource={dataSource}  pagination={PageInfo}></Table>;\r\n    } else {\r\n      return <GlobalForm />\r\n\r\n    }\r\n\r\n\r\n  }\r\n\r\n  getColumns = () => {\r\n    const { columns } = this.props.BasicStore\r\n    const operation = {\r\n      title: '操作',\r\n      key: 'x',\r\n      align: 'right',\r\n      render: (text, record) => (\r\n        <span>\r\n          {/* <a onClick={e => this.delete(record)}>删除</a> */}\r\n          <a onClick={e => this.delete(record)}>删除</a>\r\n        </span>\r\n      )\r\n\r\n    }\r\n    columns.push(operation)\r\n    return columns\r\n  }\r\n  delete = (txt) =>{\r\n    Modal.confirm({\r\n      title: '提示',\r\n      content: '是否确认删除该条数据',\r\n      okText: '确认',\r\n      cancelText: '取消',\r\n      onOk() {\r\n        console.log(txt.key);\r\n      },\r\n      onCancel() {\r\n          console.log('Cancel');\r\n      },\r\n  });\r\n  }\r\n  componentWillMount() {\r\n    const { selectedKeys } = this.props.HomeStore;\r\n    let actionId = selectedKeys[0];\r\n    let menuObj = toJS(MenuObj.leafMenuModels);\r\n    let current = checkCurrentMenu({ menuObj, actionId });\r\n    let params = {};\r\n    // params.formId = current.currentMenu[0].id.toString();\r\n    params.formId = \"1\";\r\n    this.props.BasicStore.queryAll(params);\r\n\r\n  }\r\n}\r\n\r\nexport default ComputerPage;\r\n"]},"metadata":{},"sourceType":"module"}