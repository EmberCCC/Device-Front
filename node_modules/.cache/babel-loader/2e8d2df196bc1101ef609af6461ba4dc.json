{"ast":null,"code":"import \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\nimport _defineProperty from \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/src/components/GlobalList/index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n/**\n * @author zyn on 0611\n * @description 覆盖list页面 包括 Tab + Checked-Tag + List\n * @param {Object} tabs - tab选择 - 包括数据源dataSource、事件处理\n * @param {Object} Table - table选择 - 包括数据源dataSource、事件处理\n * @param {Object} CheckedTag - checked-tag 选择 - 包括数据源dataSource、事件处理\n * @param {Object} Modal - 弹窗 - 包含：\n *    isForm {Boolean} - 判断是否children需要判断对应的\n */\nimport React from 'react';\nimport Tabs from './Tabs';\nimport Table from './Table';\nimport CheckedTag from './CheckedTag';\nimport GlobalModal from '../GlobalModal';\nimport './index.less';\nimport { isEmpty } from 'lodash';\n\n/* 默认form表单布局 */\nvar formItemLayout = {\n  labelCol: {\n    span: 6\n  },\n  wrapperCol: {\n    span: 18\n  }\n};\n\nvar GlobalList = /*#__PURE__*/function (_React$Component) {\n  _inherits(GlobalList, _React$Component);\n\n  var _super = _createSuper(GlobalList);\n\n  function GlobalList() {\n    var _this;\n\n    _classCallCheck(this, GlobalList);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _this.onSubmit = function () {\n      if (_this.props.modal.isForm) {\n        _this.props.form.validateFieldsAndScroll(function (err, values) {\n          if (!err) {\n            _this.props.modal.onOk(values);\n          }\n        });\n      } else {\n        _this.props.modal.onOk();\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(GlobalList, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          tabs = _this$props.tabs,\n          checkedTag = _this$props.checkedTag,\n          table = _this$props.table,\n          modal = _this$props.modal;\n      var getFieldDecorator = this.props.form.getFieldDecorator;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"global-list-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 12\n        }\n      }, !isEmpty(tabs) && /*#__PURE__*/React.createElement(Tabs, Object.assign({}, tabs, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 26\n        }\n      })), !isEmpty(checkedTag) && /*#__PURE__*/React.createElement(CheckedTag, Object.assign({}, checkedTag, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 32\n        }\n      })), /*#__PURE__*/React.createElement(Table, Object.assign({}, table, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 7\n        }\n      })), !isEmpty(modal) && modal.visible && /*#__PURE__*/React.createElement(GlobalModal, Object.assign({}, modal, {\n        onOk: this.onSubmit,\n        children: modal.isForm ? /*#__PURE__*/React.createElement(React.Fragment, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 15\n          }\n        }, modal.formColumns && modal.formColumns.map(function (item, i) {\n          return !item.displayNone && /*#__PURE__*/React.createElement(_Form.Item, Object.assign({}, modal.formItemLayout || formItemLayout, {\n            label: item.label,\n            key: item.key\n          }, item, {\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 49\n            }\n          }), item.getFieldDecorator ? getFieldDecorator(\"\".concat(item.key), _objectSpread({}, item.getFieldDecorator))(item.value) : item.value);\n        }),\n        /* 扩展formitem - 用于页面需求罗列的选项框 */\n        modal.extendFormColumns && modal.extendFormColumns.length > 0 && modal.extendFormColumns.map(function (item) {\n          return /*#__PURE__*/React.createElement(_Form.Item, Object.assign({}, modal.formItemLayout || formItemLayout, {\n            label: \"\".concat(item.label),\n            key: item.id,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 28\n            }\n          }), getFieldDecorator(\"\".concat(item.key, \"-\").concat(item.id), _objectSpread({\n            rules: [{\n              required: true\n            }]\n          }, item.getFieldDecorator))(item.value), item.extChild && item.extChild);\n        }), modal.otherContent && modal.otherContent) : modal.children,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 45\n        }\n      })));\n    }\n  }]);\n\n  return GlobalList;\n}(React.Component);\n\nvar WrapperList = _Form.create({})(GlobalList);\n\nexport default WrapperList;","map":{"version":3,"sources":["/Users/shoen/Desktop/设备运维前端/bl-device-manage/src/components/GlobalList/index.js"],"names":["React","Tabs","Table","CheckedTag","GlobalModal","isEmpty","formItemLayout","labelCol","span","wrapperCol","GlobalList","onSubmit","props","modal","isForm","form","validateFieldsAndScroll","err","values","onOk","tabs","checkedTag","table","getFieldDecorator","visible","formColumns","map","item","i","displayNone","label","key","value","extendFormColumns","length","id","rules","required","extChild","otherContent","children","Component","WrapperList","create"],"mappings":"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","sourcesContent":["/**\n * @author zyn on 0611\n * @description 覆盖list页面 包括 Tab + Checked-Tag + List\n * @param {Object} tabs - tab选择 - 包括数据源dataSource、事件处理\n * @param {Object} Table - table选择 - 包括数据源dataSource、事件处理\n * @param {Object} CheckedTag - checked-tag 选择 - 包括数据源dataSource、事件处理\n * @param {Object} Modal - 弹窗 - 包含：\n *    isForm {Boolean} - 判断是否children需要判断对应的\n */\nimport React from 'react'\nimport Tabs from './Tabs'\nimport Table from './Table'\nimport CheckedTag from './CheckedTag'\nimport GlobalModal from '../GlobalModal'\nimport './index.less'\nimport { isEmpty } from 'lodash'\nimport { Form } from 'antd'\n\n/* 默认form表单布局 */\nconst formItemLayout = {\n  labelCol: { span: 6 },\n  wrapperCol: { span: 18 },\n};\nclass GlobalList extends React.Component {\n  render() {\n    const { tabs, checkedTag, table, modal, } = this.props\n    const { getFieldDecorator } = this.props.form\n    return <div className='global-list-container'\n    >\n      {!isEmpty(tabs) && <Tabs\n        {...tabs}\n      />}\n      {!isEmpty(checkedTag) && <CheckedTag\n        {...checkedTag}\n      />}\n      <Table\n        {...table}\n      />\n      {\n        !isEmpty(modal) && modal.visible && <GlobalModal\n          {...modal}\n          onOk={this.onSubmit}\n          children={\n            modal.isForm ?\n              <React.Fragment>\n                {\n                  modal.formColumns && modal.formColumns.map((item, i) => {\n                    return !item.displayNone && <Form.Item {...(modal.formItemLayout || formItemLayout)}\n                      label={item.label}\n                      key={item.key}\n                      {...item}\n                    >\n                      {item.getFieldDecorator ? getFieldDecorator(`${item.key}`, {\n                        ...item.getFieldDecorator\n                      })(\n                        item.value\n                      ) : item.value}\n                    </Form.Item>\n                  })\n                }\n                {\n                  /* 扩展formitem - 用于页面需求罗列的选项框 */\n                  modal.extendFormColumns && modal.extendFormColumns.length > 0 && modal.extendFormColumns.map(item => {\n                    return <Form.Item {...(modal.formItemLayout || formItemLayout)}\n                      label={`${item.label}`}\n                      key={item.id}\n                    >\n                      {getFieldDecorator(`${item.key}-${item.id}`, {\n                        rules: [\n                          {\n                            required: true,\n                          }\n                        ],\n                        ...item.getFieldDecorator\n                      })(\n                        item.value\n                      )}\n                      {item.extChild && item.extChild}\n                    </Form.Item>\n                  })\n                }\n                {\n                  modal.otherContent && modal.otherContent\n                }\n              </React.Fragment>\n              : modal.children\n          }\n        />\n      }\n    </div>\n  }\n  onSubmit = () => {\n    if (this.props.modal.isForm) {\n      this.props.form.validateFieldsAndScroll((err, values) => {\n        if (!err) {\n          this.props.modal.onOk(values)\n        }\n      });\n    } else {\n      this.props.modal.onOk()\n    }\n  }\n}\n\nconst WrapperList = Form.create({})(GlobalList)\nexport default WrapperList;"]},"metadata":{},"sourceType":"module"}