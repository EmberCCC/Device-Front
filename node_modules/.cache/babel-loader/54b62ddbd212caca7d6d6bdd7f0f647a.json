{"ast":null,"code":"import \"antd/lib/checkbox/style\";\nimport _Checkbox from \"antd/lib/checkbox\";\nimport \"antd/lib/radio/style\";\nimport _Radio from \"antd/lib/radio\";\nimport \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\nimport \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nimport \"antd/lib/select/style\";\nimport _Select from \"antd/lib/select\";\nimport \"antd/lib/message/style\";\nimport _message from \"antd/lib/message\";\nimport _defineProperty from \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nvar _dec,\n    _class,\n    _temp,\n    _jsxFileName = \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/src/layouts/SparepartsManage/SpareDefinePage/SparepartsDialog.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport { inject, observer } from 'mobx-react';\nimport { toJS } from 'mobx';\nimport GlobalModal from 'Components/GlobalModal';\nvar SparepartsDialog = (_dec = inject('SparepartsStore'), _dec(_class = observer(_class = (_temp = /*#__PURE__*/function (_Component) {\n  _inherits(SparepartsDialog, _Component);\n\n  var _super = _createSuper(SparepartsDialog);\n\n  function SparepartsDialog(props) {\n    var _this;\n\n    _classCallCheck(this, SparepartsDialog);\n\n    _this = _super.call(this, props);\n\n    _this.setValue = function (e, type) {\n      if (type) {\n        _this.props.SparepartsStore.formData.warnMax = e.target.value;\n      } else {\n        _this.props.SparepartsStore.formData.warnMin = e.target.value;\n      }\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n      var _this$props$Sparepart = _this.props.SparepartsStore,\n          getData = _this$props$Sparepart.getData,\n          modalChange = _this$props$Sparepart.modalChange,\n          addNewType = _this$props$Sparepart.addNewType,\n          modalType = _this$props$Sparepart.modalType,\n          addNewSpa = _this$props$Sparepart.addNewSpa,\n          formData = _this$props$Sparepart.formData,\n          PageInfo = _this$props$Sparepart.PageInfo,\n          columnsType = _this$props$Sparepart.columnsType,\n          typeName = _this$props$Sparepart.typeName,\n          spareName = _this$props$Sparepart.spareName;\n\n      _this.props.form.validateFields(function (err, values) {\n        if (!err) {\n          if (columnsType === '1') {\n            //新增类型\n            addNewType(_objectSpread({}, formData, {}, values)).then(function (res) {\n              _message.success('保存成功');\n\n              modalChange(0);\n              getData(1, {\n                typeName: typeName,\n                pageIndex: PageInfo.pageIndex,\n                pageSize: PageInfo.pageSize\n              });\n            });\n          } else {\n            if (modalType === 2) {\n              modalChange(0);\n            } else {\n              // 新增备件\n              console.log(values);\n              values.deviceModelId = values.deviceModelId.join(',');\n              addNewSpa(_objectSpread({}, formData, {}, values)).then(function (res) {\n                _message.success('保存成功');\n\n                modalChange(0);\n                getData(2, {\n                  spareName: spareName,\n                  pageIndex: PageInfo.pageIndex,\n                  pageSize: PageInfo.pageSize\n                });\n              });\n            }\n          }\n        }\n      });\n    };\n\n    _this.state = {};\n    return _this;\n  }\n\n  _createClass(SparepartsDialog, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props$Sparepart2 = this.props.SparepartsStore,\n          modalVisible = _this$props$Sparepart2.modalVisible,\n          formData = _this$props$Sparepart2.formData,\n          modalType = _this$props$Sparepart2.modalType,\n          devTypeList = _this$props$Sparepart2.devTypeList,\n          columnsType = _this$props$Sparepart2.columnsType,\n          typeList = _this$props$Sparepart2.typeList;\n      var formLabelCol = {\n        span: 6\n      };\n      var formWrapperCol = {\n        span: 18\n      };\n      var Option = _Select.Option;\n      var getFieldDecorator = this.props.form.getFieldDecorator;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 19,\n          columnNumber: 16\n        }\n      }, modalVisible && /*#__PURE__*/React.createElement(GlobalModal, {\n        title: modalType === 2 ? '详情' : modalType === 1 ? '编辑' : '新增',\n        visible: modalVisible,\n        onOk: this.handleSubmit,\n        onCancel: function onCancel(e) {\n          return _this2.props.SparepartsStore.modalChange(0);\n        },\n        children: /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 27,\n            columnNumber: 25\n          }\n        }, columnsType === '1' ? /*#__PURE__*/React.createElement(_Form, {\n          onSubmit: this.handleSubmit,\n          layout: \"horizontal\",\n          labelCol: formLabelCol,\n          wrapperCol: formWrapperCol,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 28,\n            columnNumber: 52\n          }\n        }, /*#__PURE__*/React.createElement(_Form.Item, {\n          label: \"\\u5907\\u4EF6\\u7C7B\\u578B\\u540D\\u79F0\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 29,\n            columnNumber: 33\n          }\n        }, getFieldDecorator('typeName', {\n          rules: [{\n            required: true,\n            message: '请输入备件类型名称'\n          }],\n          initialValue: formData.typeName || ''\n        })( /*#__PURE__*/React.createElement(_Input, {\n          readOnly: modalType === 2,\n          placeholder: \"\\u8BF7\\u8F93\\u5165\\u5907\\u4EF6\\u7C7B\\u578B\\u540D\\u79F0\",\n          style: {\n            width: 300\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 41\n          }\n        }))), /*#__PURE__*/React.createElement(_Form.Item, {\n          label: \"\\u72B6\\u6001\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 33\n          }\n        }, getFieldDecorator('typeStatus', {\n          rules: [{\n            required: true,\n            message: '请选择状态'\n          }],\n          initialValue: formData.typeStatus || 0\n        })( /*#__PURE__*/React.createElement(_Radio.Group, {\n          disabled: modalType === 2,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(_Radio, {\n          value: 1,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 45\n          }\n        }, \"\\u542F\\u7528\"), /*#__PURE__*/React.createElement(_Radio, {\n          value: 0,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 45\n          }\n        }, \"\\u7981\\u7528\"))))) : /*#__PURE__*/React.createElement(_Form, {\n          onSubmit: this.handleSubmit,\n          layout: \"horizontal\",\n          labelCol: formLabelCol,\n          wrapperCol: formWrapperCol,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 39\n          }\n        }, /*#__PURE__*/React.createElement(_Form.Item, {\n          label: \"\\u5907\\u4EF6\\u540D\\u79F0\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 37\n          }\n        }, getFieldDecorator('spareName', {\n          rules: [{\n            required: true,\n            message: '请输入备件类型名称'\n          }],\n          initialValue: formData.spareName || ''\n        })( /*#__PURE__*/React.createElement(_Input, {\n          readOnly: modalType === 2,\n          placeholder: \"\\u8BF7\\u8F93\\u5165\\u5907\\u4EF6\\u7C7B\\u578B\\u540D\\u79F0\",\n          style: {\n            width: 300\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 45\n          }\n        }))), /*#__PURE__*/React.createElement(_Form.Item, {\n          label: \"\\u5907\\u4EF6\\u7F16\\u53F7\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 37\n          }\n        }, getFieldDecorator('model', {\n          rules: [{\n            required: true,\n            message: '请输入备件编号'\n          }],\n          initialValue: formData.model || ''\n        })( /*#__PURE__*/React.createElement(_Input, {\n          readOnly: modalType === 2,\n          placeholder: \"\\u8BF7\\u8F93\\u5165\\u5907\\u4EF6\\u7F16\\u53F7\",\n          style: {\n            width: 300\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 45\n          }\n        }))), /*#__PURE__*/React.createElement(_Form.Item, {\n          label: \"\\u5907\\u4EF6\\u7C7B\\u578B\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 37\n          }\n        }, getFieldDecorator('spareTypeId', {\n          rules: [{\n            required: true,\n            message: '请输入备件类型名称'\n          }],\n          initialValue: formData.spareTypeId || ''\n        })( /*#__PURE__*/React.createElement(_Select, {\n          disabled: modalType === 2,\n          placeholder: \"\\u8BF7\\u8F93\\u5165\\u5907\\u4EF6\\u7C7B\\u578B\\u540D\\u79F0\",\n          style: {\n            width: 300\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 45\n          }\n        }, typeList.map(function (item) {\n          return /*#__PURE__*/React.createElement(Option, {\n            value: item.id,\n            key: item.id,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 72\n            }\n          }, item.typeName);\n        })))), /*#__PURE__*/React.createElement(_Form.Item, {\n          label: \"\\u5173\\u8054\\u8BBE\\u5907\\u578B\\u53F7\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 37\n          }\n        }, getFieldDecorator('deviceModelId', {\n          rules: [{\n            required: false,\n            message: '请选择关联设备'\n          }],\n          initialValue: formData.deviceModelId ? formData.deviceModelId.split(',') : ''\n        })( /*#__PURE__*/React.createElement(_Checkbox.Group, {\n          disabled: modalType === 2,\n          options: devTypeList,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 45\n          }\n        }))), /*#__PURE__*/React.createElement(_Form.Item, {\n          label: \"\\u5E93\\u5B58\\u9884\\u8B66\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 37\n          }\n        }, getFieldDecorator('warnMax', {\n          rules: [{\n            required: false,\n            message: '请输入库存预警'\n          }]\n        })( /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 45\n          }\n        }, /*#__PURE__*/React.createElement(_Input, {\n          readOnly: modalType === 2,\n          placeholder: \"\\u6700\\u5C0F\\u9884\\u8B66\\u503C\",\n          value: formData.warnMin,\n          style: {\n            width: 145\n          },\n          onChange: function onChange(e) {\n            return _this2.setValue(e, 0);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 49\n          }\n        }), \"--\", /*#__PURE__*/React.createElement(_Input, {\n          readOnly: modalType === 2,\n          placeholder: \"\\u6700\\u5927\\u9884\\u8B66\\u503C\",\n          value: formData.warnMax,\n          style: {\n            width: 145\n          },\n          onChange: function onChange(e) {\n            return _this2.setValue(e, 1);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 37\n          }\n        })))), /*#__PURE__*/React.createElement(_Form.Item, {\n          label: \"\\u4ED3\\u50A8\\u4F4D\\u7F6E\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 37\n          }\n        }, getFieldDecorator('address', {\n          rules: [{\n            required: false,\n            message: '请输入仓储位置'\n          }],\n          initialValue: formData.address || ''\n        })( /*#__PURE__*/React.createElement(_Input, {\n          readOnly: modalType === 2,\n          placeholder: \"\\u8BF7\\u8F93\\u5165\\u4ED3\\u50A8\\u4F4D\\u7F6E\",\n          style: {\n            width: 300\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 45\n          }\n        }))), /*#__PURE__*/React.createElement(_Form.Item, {\n          label: \"\\u4F9B\\u5E94\\u5546\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 37\n          }\n        }, getFieldDecorator('supplier', {\n          rules: [{\n            required: false,\n            message: '请输入供应商'\n          }],\n          initialValue: formData.supplier || ''\n        })( /*#__PURE__*/React.createElement(_Input, {\n          readOnly: modalType === 2,\n          placeholder: \"\\u8BF7\\u8F93\\u5165\\u4F9B\\u5E94\\u5546\",\n          style: {\n            width: 300\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 45\n          }\n        }))), /*#__PURE__*/React.createElement(_Form.Item, {\n          label: \"\\u4F9B\\u8D27\\u5468\\u671F(\\u6708)\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 37\n          }\n        }, getFieldDecorator('period', {\n          rules: [{\n            required: false,\n            message: '请输入供货周期(月)'\n          }],\n          initialValue: formData.period || ''\n        })( /*#__PURE__*/React.createElement(_Input, {\n          readOnly: modalType === 2,\n          placeholder: \"\\u8BF7\\u8F93\\u5165\\u5907\\u4EF6\\u7C7B\\u578B\\u540D\\u79F0\",\n          style: {\n            width: 300\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 45\n          }\n        }))), /*#__PURE__*/React.createElement(_Form.Item, {\n          label: \"\\u8054\\u7CFB\\u7535\\u8BDD\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 37\n          }\n        }, getFieldDecorator('phone', {\n          rules: [{\n            required: false,\n            message: '请输入联系电话'\n          }],\n          initialValue: formData.phone || ''\n        })( /*#__PURE__*/React.createElement(_Input, {\n          readOnly: modalType === 2,\n          placeholder: \"\\u8BF7\\u8F93\\u5165\\u8054\\u7CFB\\u7535\\u8BDD\",\n          style: {\n            width: 300\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 45\n          }\n        }))))),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 33\n        }\n      }));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {// this.props.SparepartsStore.getProList()\n    }\n  }]);\n\n  return SparepartsDialog;\n}(Component), _temp)) || _class) || _class);\n\nvar SparepartsDialogForm = _Form.create({\n  name: 'define'\n})(SparepartsDialog);\n\nexport default SparepartsDialogForm;","map":{"version":3,"sources":["/Users/shoen/Desktop/设备运维前端/bl-device-manage/src/layouts/SparepartsManage/SpareDefinePage/SparepartsDialog.js"],"names":["React","Component","inject","observer","toJS","GlobalModal","SparepartsDialog","props","setValue","e","type","SparepartsStore","formData","warnMax","target","value","warnMin","handleSubmit","preventDefault","getData","modalChange","addNewType","modalType","addNewSpa","PageInfo","columnsType","typeName","spareName","form","validateFields","err","values","then","res","success","pageIndex","pageSize","console","log","deviceModelId","join","state","modalVisible","devTypeList","typeList","formLabelCol","span","formWrapperCol","Option","getFieldDecorator","rules","required","message","initialValue","width","typeStatus","model","spareTypeId","map","item","id","split","address","supplier","period","phone","SparepartsDialogForm","create","name"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { inject, observer } from 'mobx-react';\nimport { toJS } from 'mobx';\nimport { message, Form, Input, Select, Radio, Checkbox } from 'antd';\nimport GlobalModal from 'Components/GlobalModal';\n@inject('SparepartsStore')\n@observer\nclass SparepartsDialog extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {}\n    }\n    render() {\n        const { modalVisible, formData, modalType, devTypeList, columnsType, typeList } = this.props.SparepartsStore\n        const formLabelCol = { span: 6 }\n        const formWrapperCol = { span: 18 }\n        const { Option } = Select\n        const { getFieldDecorator } = this.props.form;\n        return <div>\n            {\n                modalVisible && <GlobalModal\n                    title={modalType === 2 ? '详情' : modalType === 1 ? '编辑' : '新增'}\n                    visible={modalVisible}\n                    onOk={this.handleSubmit}\n                    onCancel={e => this.props.SparepartsStore.modalChange(0)}\n                    children={\n                        <div>\n                            {columnsType === '1' ? <Form onSubmit={this.handleSubmit} layout='horizontal' labelCol={formLabelCol} wrapperCol={formWrapperCol}>\n                                <Form.Item label=\"备件类型名称\">\n                                    {getFieldDecorator('typeName', {\n                                        rules: [{ required: true, message: '请输入备件类型名称' }],\n                                        initialValue: formData.typeName || ''\n                                    })(\n                                        <Input readOnly={modalType === 2} placeholder=\"请输入备件类型名称\" style={{ width: 300 }} />\n                                    )}\n                                </Form.Item>\n                                <Form.Item label=\"状态\">\n                                    {getFieldDecorator('typeStatus', {\n                                        rules: [{ required: true, message: '请选择状态' }],\n                                        initialValue: formData.typeStatus || 0\n                                    })(\n                                        <Radio.Group disabled={modalType === 2}>\n                                            <Radio value={1}>启用</Radio>\n                                            <Radio value={0}>禁用</Radio>\n                                        </Radio.Group>\n                                    )}\n                                </Form.Item>\n                            </Form> : <Form onSubmit={this.handleSubmit} layout='horizontal' labelCol={formLabelCol} wrapperCol={formWrapperCol}>\n                                    <Form.Item label=\"备件名称\">\n                                        {getFieldDecorator('spareName', {\n                                            rules: [{ required: true, message: '请输入备件类型名称' }],\n                                            initialValue: formData.spareName || ''\n                                        })(\n                                            <Input readOnly={modalType === 2} placeholder=\"请输入备件类型名称\" style={{ width: 300 }} />\n                                        )}\n                                    </Form.Item>\n                                    <Form.Item label=\"备件编号\">\n                                        {getFieldDecorator('model', {\n                                            rules: [{ required: true, message: '请输入备件编号' }],\n                                            initialValue: formData.model || ''\n                                        })(\n                                            <Input readOnly={modalType === 2} placeholder=\"请输入备件编号\" style={{ width: 300 }} />\n                                        )}\n                                    </Form.Item>\n                                    <Form.Item label=\"备件类型\">\n                                        {getFieldDecorator('spareTypeId', {\n                                            rules: [{ required: true, message: '请输入备件类型名称' }],\n                                            initialValue: formData.spareTypeId || ''\n                                        })(\n                                            <Select disabled={modalType === 2} placeholder=\"请输入备件类型名称\" style={{ width: 300 }} >\n                                                {typeList.map(item => (<Option value={item.id} key={item.id}>{item.typeName}</Option>))}\n                                            </Select>\n                                        )}\n                                    </Form.Item>\n                                    <Form.Item label=\"关联设备型号\">\n                                        {getFieldDecorator('deviceModelId', {\n                                            rules: [{ required: false, message: '请选择关联设备' }],\n                                            initialValue: formData.deviceModelId ? formData.deviceModelId.split(',') : ''\n                                        })(\n                                            <Checkbox.Group disabled={modalType === 2} options={devTypeList} />\n                                        )}\n                                    </Form.Item>\n                                    <Form.Item label=\"库存预警\">\n                                        {getFieldDecorator('warnMax', {\n                                            rules: [{ required: false, message: '请输入库存预警' }],\n                                        })(\n                                            <div >\n                                                <Input readOnly={modalType === 2} placeholder=\"最小预警值\" value={formData.warnMin} style={{ width: 145 }} onChange={e => this.setValue(e, 0)} />\n                                                --\n                                    <Input readOnly={modalType === 2} placeholder=\"最大预警值\" value={formData.warnMax} style={{ width: 145 }} onChange={e => this.setValue(e, 1)} />\n                                            </div>\n\n                                        )}\n                                    </Form.Item>\n                                    <Form.Item label=\"仓储位置\">\n                                        {getFieldDecorator('address', {\n                                            rules: [{ required: false, message: '请输入仓储位置' }],\n                                            initialValue: formData.address || ''\n                                        })(\n                                            <Input readOnly={modalType === 2} placeholder=\"请输入仓储位置\" style={{ width: 300 }} />\n                                        )}\n                                    </Form.Item>\n                                    <Form.Item label=\"供应商\">\n                                        {getFieldDecorator('supplier', {\n                                            rules: [{ required: false, message: '请输入供应商' }],\n                                            initialValue: formData.supplier || ''\n                                        })(\n                                            <Input readOnly={modalType === 2} placeholder=\"请输入供应商\" style={{ width: 300 }} />\n                                        )}\n                                    </Form.Item>\n                                    <Form.Item label=\"供货周期(月)\">\n                                        {getFieldDecorator('period', {\n                                            rules: [{ required: false, message: '请输入供货周期(月)' }],\n                                            initialValue: formData.period || ''\n                                        })(\n                                            <Input readOnly={modalType === 2} placeholder=\"请输入备件类型名称\" style={{ width: 300 }} />\n                                        )}\n                                    </Form.Item>\n                                    <Form.Item label=\"联系电话\">\n                                        {getFieldDecorator('phone', {\n                                            rules: [{ required: false, message: '请输入联系电话' }],\n                                            initialValue: formData.phone || ''\n                                        })(\n                                            <Input readOnly={modalType === 2} placeholder=\"请输入联系电话\" style={{ width: 300 }} />\n                                        )}\n                                    </Form.Item>\n                                </Form>}\n                        </div>\n                    }\n                />\n            }\n        </div>;\n    }\n    setValue = (e, type) => {\n        if (type) {\n            this.props.SparepartsStore.formData.warnMax = e.target.value\n        } else {\n            this.props.SparepartsStore.formData.warnMin = e.target.value\n        }\n    }\n    //提交表单\n    handleSubmit = e => {\n        e.preventDefault();\n        const { getData, modalChange, addNewType, modalType, addNewSpa, formData, PageInfo, columnsType, typeName, spareName } = this.props.SparepartsStore\n        this.props.form.validateFields((err, values) => {\n            if (!err) {\n                if (columnsType === '1') {\n                    //新增类型\n                    addNewType({ ...formData, ...values }).then(res => {\n                        message.success('保存成功')\n                        modalChange(0)\n                        getData(1, { typeName, pageIndex: PageInfo.pageIndex, pageSize: PageInfo.pageSize })\n                    })\n                } else {\n                    if (modalType === 2) {\n                        modalChange(0)\n                    } else {\n                        // 新增备件\n                        console.log(values)\n                        values.deviceModelId = values.deviceModelId.join(',')\n                        addNewSpa({ ...formData, ...values }).then(res => {\n                            message.success('保存成功')\n                            modalChange(0)\n                            getData(2, { spareName, pageIndex: PageInfo.pageIndex, pageSize: PageInfo.pageSize })\n                        })\n                    }\n                }\n            }\n        });\n    };\n    componentDidMount() {\n        // this.props.SparepartsStore.getProList()\n    }\n}\nconst SparepartsDialogForm = Form.create({ name: 'define' })(SparepartsDialog);\nexport default SparepartsDialogForm;"]},"metadata":{},"sourceType":"module"}