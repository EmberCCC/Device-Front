{"ast":null,"code":"import \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/row/style\";\nimport _Row from \"antd/lib/row\";\nimport \"antd/lib/col/style\";\nimport _Col from \"antd/lib/col\";\nimport \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nimport _objectSpread from \"F:\\\\documents\\\\bl-device-manage-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _toConsumableArray from \"F:\\\\documents\\\\bl-device-manage-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\nimport _slicedToArray from \"F:\\\\documents\\\\bl-device-manage-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"F:\\\\documents\\\\bl-device-manage-test\\\\src\\\\components\\\\GlobalForm\\\\index.js\";\n\n/*\r\n * @Author: your name\r\n * @Date: 2022-04-05 11:02:45\r\n * @LastEditTime: 2022-04-05 11:24:45\r\n * @LastEditors: Please set LastEditors\r\n * @Description: 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n * @FilePath: \\bl-device-manage-test\\src\\components\\GlobalForm\\index.js\r\n */\nimport React, { useState } from 'react';\n\nfunction GlobalForm() {\n  var _useState = useState([{\n    name: 'zhangsan',\n    mobile: '15011176302'\n  }]),\n      _useState2 = _slicedToArray(_useState, 2),\n      contacts = _useState2[0],\n      setContacts = _useState2[1];\n\n  var formLayout = {\n    labelCol: {\n      span: 8\n    },\n    wrapperCol: {\n      span: 16\n    }\n  };\n\n  var _Form$useForm = _Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var submitForm = function submitForm() {\n    form.validateFields().then(function (values) {\n      console.log(values);\n    });\n  };\n\n  var renderDiffComponents = function renderDiffComponents(item, indexs, ComponentInfo) {\n    switch (item.name) {\n      case 'Divider':\n        return React.createElement(ComponentInfo, Object.assign({\n          key: indexs\n        }, item.attr, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 27\n          },\n          __self: this\n        }));\n\n      case 'Select':\n        return React.createElement(ComponentInfo, {\n          key: indexs,\n          defaultValue: item.attr.defaultValue,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 30\n          },\n          __self: this\n        }, item.attr.options.map(function (subItem) {\n          return React.createElement(Option, {\n            key: subItem.key,\n            value: subItem.value + '',\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 32\n            },\n            __self: this\n          }, subItem.label);\n        }));\n\n      default:\n        return React.createElement(ComponentInfo, Object.assign({\n          key: indexs\n        }, item.attr, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37\n          },\n          __self: this\n        }));\n    }\n  };\n\n  var add = function add() {\n    form.setFieldsValue({\n      \"contacts\": [].concat(_toConsumableArray(contacts), [{\n        name: '',\n        mobile: ''\n      }])\n    });\n    return setContacts([].concat(_toConsumableArray(contacts), [{\n      name: '',\n      mobile: ''\n    }]));\n  };\n\n  var _onChange = function onChange(index, name, event) {\n    var tempArray = _toConsumableArray(contacts);\n\n    if ('name' === name) tempArray[index] = _objectSpread({}, tempArray[index], {\n      name: event.target.value\n    });else tempArray[index] = _objectSpread({}, tempArray[index], {\n      mobile: event.target.value\n    });\n    return setContacts(tempArray);\n  };\n\n  var contactsItems = contacts.map(function (item, index) {\n    return React.createElement(_Row, {\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(_Col, {\n      span: 10,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(_Form.Item, {\n      label: \"name\",\n      name: ['contacts', index, 'name'],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(_Input, {\n      onChange: function onChange(event) {\n        return _onChange(index, 'name', event);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }))), React.createElement(_Col, {\n      span: 10,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(_Form.Item, {\n      label: \"mobile\",\n      name: ['contacts', index, 'mobile'],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(_Input, {\n      onChange: function onChange(event) {\n        return _onChange(index, 'mobile', event);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }))));\n  });\n  return React.createElement(_Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(_Col, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(_Form, {\n    name: \"user_form\",\n    form: form,\n    layout: 'horizontal',\n    onFinish: submitForm,\n    initialValues: {\n      contacts: contacts\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(_Form.Item, {\n    label: \"username\",\n    name: \"username\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(_Input, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  })), React.createElement(_Form.Item, {\n    label: \"contacts\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, contactsItems), React.createElement(_Form.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(_Button, {\n    type: \"primary\",\n    onClick: add,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, \"+\")), React.createElement(_Form.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(_Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \"submit\")))));\n}\n\nexport default GlobalForm;","map":{"version":3,"sources":["F:\\documents\\bl-device-manage-test\\src\\components\\GlobalForm\\index.js"],"names":["React","useState","GlobalForm","name","mobile","contacts","setContacts","formLayout","labelCol","span","wrapperCol","useForm","form","submitForm","validateFields","then","values","console","log","renderDiffComponents","item","indexs","ComponentInfo","attr","defaultValue","options","map","subItem","key","value","label","add","setFieldsValue","onChange","index","event","tempArray","target","contactsItems"],"mappings":"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","sourcesContent":["/*\r\n * @Author: your name\r\n * @Date: 2022-04-05 11:02:45\r\n * @LastEditTime: 2022-04-05 11:24:45\r\n * @LastEditors: Please set LastEditors\r\n * @Description: 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n * @FilePath: \\bl-device-manage-test\\src\\components\\GlobalForm\\index.js\r\n */\r\n\r\nimport React, { useState } from 'react'\r\nimport { Form, Input, Button, Row, Col } from 'antd'\r\n\r\nfunction GlobalForm() {\r\n    const [contacts, setContacts] = useState([{ name: 'zhangsan', mobile: '15011176302' }])\r\n    const formLayout = { labelCol: { span: 8 }, wrapperCol: { span: 16 } }\r\n    const [form] = Form.useForm()\r\n    const submitForm = () => {\r\n        form.validateFields()\r\n            .then(values => {\r\n                console.log(values);\r\n            })\r\n    }\r\n\r\n    const renderDiffComponents = (item, indexs, ComponentInfo) => {\r\n        switch (item.name) {\r\n            case 'Divider':\r\n                return <ComponentInfo key={indexs} {...item.attr}></ComponentInfo>\r\n            case 'Select':\r\n                return (\r\n                    <ComponentInfo key={indexs} defaultValue={item.attr.defaultValue}>\r\n                        {\r\n                            item.attr.options.map(subItem => <Option key={subItem.key} value={subItem.value + ''}>{subItem.label}</Option>)\r\n                        }\r\n                    </ComponentInfo>\r\n                )\r\n            default:\r\n                return <ComponentInfo key={indexs} {...item.attr} />\r\n        }\r\n    }\r\n\r\n    const add = () => {\r\n        form.setFieldsValue({ \"contacts\": [...contacts, { name: '', mobile: '' }] })\r\n        return setContacts([...contacts, { name: '', mobile: '' }])\r\n    }\r\n\r\n\r\n\r\n    const onChange = (index, name, event) => {\r\n        let tempArray = [...contacts];\r\n        if ('name' === name)\r\n            tempArray[index] = { ...tempArray[index], name: event.target.value }\r\n        else\r\n            tempArray[index] = { ...tempArray[index], mobile: event.target.value }\r\n        return setContacts(tempArray)\r\n    }\r\n\r\n    const contactsItems = contacts.map((item, index) => {\r\n        return <Row key={index}>\r\n            <Col span={10}>\r\n                <Form.Item label=\"name\" name={['contacts', index, 'name']}><Input onChange={(event) => onChange(index, 'name', event)} /></Form.Item>\r\n            </Col>\r\n            <Col span={10}>\r\n                <Form.Item label=\"mobile\" name={['contacts', index, 'mobile']} ><Input onChange={(event) => onChange(index, 'mobile', event)} /></Form.Item>\r\n            </Col>\r\n        </Row>\r\n    })\r\n    return <Row>\r\n        <Col>\r\n            <Form name=\"user_form\" form={form} layout={'horizontal'} onFinish={submitForm} initialValues={{ contacts: contacts }}>\r\n                <Form.Item label=\"username\" name=\"username\">\r\n                    <Input />\r\n                </Form.Item>\r\n                <Form.Item label=\"contacts\">\r\n                    {contactsItems}\r\n                </Form.Item>\r\n                <Form.Item><Button type=\"primary\" onClick={add}>+</Button></Form.Item>\r\n                <Form.Item>\r\n                    <Button type=\"primary\" htmlType='submit'>submit</Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </Col>\r\n    </Row>\r\n}\r\nexport default GlobalForm"]},"metadata":{},"sourceType":"module"}