{"ast":null,"code":"import \"antd/lib/timeline/style\";\nimport _Timeline from \"antd/lib/timeline\";\nimport \"antd/lib/icon/style\";\nimport _Icon from \"antd/lib/icon\";\nimport \"antd/lib/row/style\";\nimport _Row from \"antd/lib/row\";\nimport \"antd/lib/col/style\";\nimport _Col from \"antd/lib/col\";\nimport \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\nimport \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport _defineProperty from \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nvar _dec,\n    _class,\n    _temp,\n    _jsxFileName = \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/src/layouts/WorkManage/WorkDaily/index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport { inject, observer } from 'mobx-react';\nimport { workStatus } from 'constants/status_constant';\nimport Table from './Table';\nimport classnames from 'classnames';\nimport './index.less';\nvar formItemLayout = {\n  labelCol: {\n    span: 4\n  },\n  wrapperCol: {\n    span: 12\n  }\n};\nvar WorkDaily = (_dec = inject('WorkStore'), _dec(_class = observer(_class = (_temp = /*#__PURE__*/function (_Component) {\n  _inherits(WorkDaily, _Component);\n\n  var _super = _createSuper(WorkDaily);\n\n  function WorkDaily(props) {\n    var _this;\n\n    _classCallCheck(this, WorkDaily);\n\n    _this = _super.call(this, props);\n\n    _this.goBack = function () {\n      _this.store.isDaily = false;\n    };\n\n    _this.onOk = function () {\n      _this.props.form.validateFieldsAndScroll(function (err, values) {\n        if (!err) {\n          _this.store.saveWork(_objectSpread({\n            id: _this.store.currentMain.id\n          }, values));\n\n          _this.props.onClose();\n        }\n      });\n    };\n\n    _this.store = _this.props.WorkStore;\n    return _this;\n  }\n\n  _createClass(WorkDaily, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$store = this.store,\n          workLog = _this$store.workLog,\n          currentMain = _this$store.currentMain;\n      var getFieldDecorator = this.props.form.getFieldDecorator;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tab-content-bg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 4\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          marginBottom: '20px',\n          borderLeft: '3px solid #6236FF',\n          paddingLeft: '10px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          fontSize: '16px',\n          fontWeight: '600',\n          marginRight: '10px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 7\n        }\n      }, \"\\u8BB0\\u5F55\\u8BE6\\u60C5 \"), /*#__PURE__*/React.createElement(_Button, {\n        size: \"small\",\n        icon: \"rollback\",\n        onClick: function onClick() {\n          return _this2.goBack();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 7\n        }\n      }, \"\\u8FD4\\u56DE\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"title_input\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(_Row, {\n        gutter: 24,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(_Col, {\n        span: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 8\n        }\n      }, /*#__PURE__*/React.createElement(_Form.Item, Object.assign({}, formItemLayout, {\n        label: \"\\u8BBE\\u5907\\u540D\\u79F0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 9\n        }\n      }), getFieldDecorator('deviceName', {\n        initialValue: currentMain.deviceName\n      })( /*#__PURE__*/React.createElement(_Input, {\n        disabled: true,\n        placeholder: \"\\u8BF7\\u8F93\\u5165\",\n        style: {\n          width: '250px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }\n      })))), /*#__PURE__*/React.createElement(_Col, {\n        span: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 8\n        }\n      }, /*#__PURE__*/React.createElement(_Form.Item, Object.assign({}, formItemLayout, {\n        label: \"\\u5DE5\\u5355\\u72B6\\u6001\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 9\n        }\n      }), getFieldDecorator('workStatus', {\n        initialValue: workStatus[currentMain.workStatus]\n      })( /*#__PURE__*/React.createElement(_Input, {\n        disabled: true,\n        placeholder: \"\\u8BF7\\u8F93\\u5165\",\n        style: {\n          width: '250px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }\n      }))))))), /*#__PURE__*/React.createElement(_Timeline, {\n        className: \"time_line_all\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 5\n        }\n      }, workLog.details && workLog.details.map(function (item, index) {\n        return /*#__PURE__*/React.createElement(_Timeline.Item, {\n          key: index,\n          dot: /*#__PURE__*/React.createElement(_Icon, {\n            type: \"clock-circle-o\",\n            style: {\n              fontSize: '16px'\n            },\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 10\n            }\n          }),\n          color: \"red\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 8\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"time_line_content\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"right\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 10\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"time_line_title\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 12\n          }\n        }, item.workLogDO.createTime), /*#__PURE__*/React.createElement(\"span\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 12\n          }\n        }, item.workLogDO.operateName)), /*#__PURE__*/React.createElement(\"ul\", {\n          className: \"time_line_ul\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"li\", {\n          className: \"time_line_li_header\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 12\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }\n        }, item.workLogDO.operateType)), item.workLogDetailDOS && item.workLogDetailDOS.map(function (detail) {\n          return /*#__PURE__*/React.createElement(\"li\", {\n            key: detail.id,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 15\n            }\n          }, detail.description), /*#__PURE__*/React.createElement(\"span\", {\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }\n          }, detail.info));\n        }), item.fileDOS && item.fileDOS.map(function (detail, index) {\n          return /*#__PURE__*/React.createElement(\"li\", {\n            key: detail.id,\n            className: classnames({\n              'time_line_audio': detail.fileType === 3\n            }),\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 21\n            }\n          }, detail.fileType === 1 ? /*#__PURE__*/React.createElement(\"span\", {\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 40\n            }\n          }, '参考文件') : detail.fileType === 2 ? /*#__PURE__*/React.createElement(\"span\", {\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 41\n            }\n          }, '图片描述') : /*#__PURE__*/React.createElement(\"span\", {\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 18\n            }\n          }, '语音描述'), detail.fileType === 1 ? /*#__PURE__*/React.createElement(\"span\", {\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 40\n            }\n          }, detail.filename) : detail.fileType === 2 ? /*#__PURE__*/React.createElement(\"span\", {\n            className: \"time_line_img\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 41\n            }\n          }, /*#__PURE__*/React.createElement(\"img\", {\n            src: 'http://file.boranet.cn/' + detail.filename,\n            alt: \"\\u6211\\u662F\\u4E00\\u5F20\\u56FE\\u7247\",\n            width: \"100%\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 18\n            }\n          })) : /*#__PURE__*/React.createElement(\"span\", {\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 18\n            }\n          }, /*#__PURE__*/React.createElement(\"audio\", {\n            src: 'http://file.boranet.cn/' + detail.filename,\n            controls: \"controls\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 19\n            }\n          }, \"\\u60A8\\u7684\\u6D4F\\u89C8\\u5668\\u4E0D\\u652F\\u6301\\u8BE5\\u97F3\\u9891\\u6587\\u4EF6\")));\n        })))));\n      })), this.store.detailVisible && /*#__PURE__*/React.createElement(Table, {\n        visible: this.store.detailVisible,\n        onCancel: function onCancel() {\n          _this2.store.detailVisible = false;\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 34\n        }\n      }));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      console.log(this.store.currentMain.id);\n      this.store.getWorkLog({\n        id: this.store.currentMain.id\n      });\n    }\n  }]);\n\n  return WorkDaily;\n}(Component), _temp)) || _class) || _class);\n\nvar WrappedDynamicRule = _Form.create({})(WorkDaily);\n\nexport default WrappedDynamicRule;","map":{"version":3,"sources":["/Users/shoen/Desktop/设备运维前端/bl-device-manage/src/layouts/WorkManage/WorkDaily/index.js"],"names":["React","Component","inject","observer","workStatus","Table","classnames","formItemLayout","labelCol","span","wrapperCol","WorkDaily","props","goBack","store","isDaily","onOk","form","validateFieldsAndScroll","err","values","saveWork","id","currentMain","onClose","WorkStore","workLog","getFieldDecorator","marginBottom","borderLeft","paddingLeft","fontSize","fontWeight","marginRight","initialValue","deviceName","width","details","map","item","index","workLogDO","createTime","operateName","operateType","workLogDetailDOS","detail","description","info","fileDOS","fileType","filename","detailVisible","console","log","getWorkLog","WrappedDynamicRule","create"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Timeline, Form, Row, Col, Icon, Input } from 'antd';\nimport { inject, observer } from 'mobx-react';\nimport { workStatus } from 'constants/status_constant';\nimport Table from './Table';\nimport { Button } from 'antd';\nimport classnames from 'classnames';\nimport './index.less'\n\n\nconst formItemLayout = {\n\tlabelCol: { span: 4 },\n\twrapperCol: { span: 12 },\n};\n\n@inject('WorkStore')\n@observer\nclass WorkDaily extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.store = this.props.WorkStore;\n\t}\n\trender() {\n\t\tconst { workLog, currentMain } = this.store;\n\t\tconst { getFieldDecorator } = this.props.form;\n\t\treturn (\n\t\t\t<div className=\"tab-content-bg\">\n\t\t\t\t<div className='title'>\n\t\t\t\t\t<div style={{ marginBottom: '20px', borderLeft: '3px solid #6236FF', paddingLeft: '10px' }}>\n\t\t\t\t\t\t<span style={{ fontSize: '16px', fontWeight: '600', marginRight: '10px' }}>记录详情 </span>\n\t\t\t\t\t\t<Button size='small' icon='rollback' onClick={() => this.goBack()}>返回</Button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='title_input'>\n\t\t\t\t\t\t<Row gutter={24}>\n\t\t\t\t\t\t\t<Col span={12}>\n\t\t\t\t\t\t\t\t<Form.Item {...formItemLayout} label=\"设备名称\">\n\t\t\t\t\t\t\t\t\t{getFieldDecorator('deviceName', {\n\t\t\t\t\t\t\t\t\t\tinitialValue: currentMain.deviceName\n\t\t\t\t\t\t\t\t\t})(\n\t\t\t\t\t\t\t\t\t\t<Input disabled placeholder='请输入' style={{ width: '250px' }} />\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col span={12}>\n\t\t\t\t\t\t\t\t<Form.Item {...formItemLayout} label=\"工单状态\">\n\t\t\t\t\t\t\t\t\t{getFieldDecorator('workStatus', {\n\t\t\t\t\t\t\t\t\t\tinitialValue: workStatus[currentMain.workStatus]\n\t\t\t\t\t\t\t\t\t})(\n\t\t\t\t\t\t\t\t\t\t<Input disabled placeholder='请输入' style={{ width: '250px' }} />\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<Timeline className='time_line_all'>\n\t\t\t\t\t{workLog.details && workLog.details.map((item, index) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Timeline.Item\n\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\tdot={\n\t\t\t\t\t\t\t\t\t<Icon type='clock-circle-o' style={{ fontSize: '16px' }} />\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcolor='red'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div className='time_line_content'>\n\t\t\t\t\t\t\t\t\t<div className='right'>\n\t\t\t\t\t\t\t\t\t\t<div className='time_line_title'>\n\t\t\t\t\t\t\t\t\t\t\t<span>{item.workLogDO.createTime}</span>\n\t\t\t\t\t\t\t\t\t\t\t<span>{item.workLogDO.operateName}</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<ul className='time_line_ul'>\n\t\t\t\t\t\t\t\t\t\t\t<li className='time_line_li_header'>\n\t\t\t\t\t\t\t\t\t\t\t\t<span>{item.workLogDO.operateType}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t{/* {[1].includes(workLog.workDO.workStatus) && <span\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: '#6236FF', cursor: 'pointer'\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.store.detailVisible = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.store.detailLogId = workLog.workDO.id\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.store.getDetailLog({ logId: item.workLogDetailDOS[0].id })\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}>点击查看详情</span>} */}\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\titem.workLogDetailDOS && item.workLogDetailDOS.map(detail => {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn <li key={detail.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>{detail.description}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>{detail.info}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\titem.fileDOS && item.fileDOS.map((detail, index) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn <li key={detail.id} className={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassnames({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'time_line_audio': detail.fileType === 3,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdetail.fileType === 1 ? <span>{'参考文件'}</span> :\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdetail.fileType === 2 ? <span>{'图片描述'}</span> :\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>{'语音描述'}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdetail.fileType === 1 ? <span>{detail.filename}</span> :\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdetail.fileType === 2 ? <span className='time_line_img'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img src={'http://file.boranet.cn/' + detail.filename} alt='我是一张图片' width='100%' />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span> :\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<audio src={'http://file.boranet.cn/' + detail.filename} controls='controls'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t您的浏览器不支持该音频文件\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</audio>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Timeline.Item>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</Timeline>\n\t\t\t\t{\n\t\t\t\t\tthis.store.detailVisible && <Table\n\t\t\t\t\t\tvisible={this.store.detailVisible}\n\t\t\t\t\t\tonCancel={() => { this.store.detailVisible = false }}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t</div>\n\t\t);\n\t}\n\tgoBack = () => {\n\t\tthis.store.isDaily = false\n\t}\n\tonOk = () => {\n\t\tthis.props.form.validateFieldsAndScroll((err, values) => {\n\t\t\tif (!err) {\n\t\t\t\tthis.store.saveWork({\n\t\t\t\t\tid: this.store.currentMain.id,\n\t\t\t\t\t...values\n\t\t\t\t});\n\t\t\t\tthis.props.onClose();\n\t\t\t}\n\t\t});\n\t};\n\tcomponentDidMount() {\n\t\tconsole.log(this.store.currentMain.id)\n\t\tthis.store.getWorkLog({\n\t\t\tid: this.store.currentMain.id\n\t\t})\n\t}\n}\nconst WrappedDynamicRule = Form.create({})(WorkDaily);\nexport default WrappedDynamicRule;\n"]},"metadata":{},"sourceType":"module"}