{"ast":null,"code":"import \"antd/lib/modal/style\";\nimport _Modal from \"antd/lib/modal\";\nimport \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nimport \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport _defineProperty from \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport \"antd/lib/select/style\";\nimport _Select from \"antd/lib/select\";\n\nvar _dec,\n    _class,\n    _temp,\n    _jsxFileName = \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/src/layouts/BasicManage/ConfigPage/AddModal.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport { inject, observer } from 'mobx-react';\nimport { toJS } from 'mobx';\nvar Option = _Select.Option;\nvar formItemLayout = {\n  labelCol: {\n    span: 6\n  },\n  wrapperCol: {\n    span: 12\n  }\n};\nvar moment = window.GLOBAL_PARAMS.moment;\nvar AddModal = (_dec = inject('DeviceDefineStore'), _dec(_class = observer(_class = (_temp = /*#__PURE__*/function (_Component) {\n  _inherits(AddModal, _Component);\n\n  var _super = _createSuper(AddModal);\n\n  function AddModal(props) {\n    var _this;\n\n    _classCallCheck(this, AddModal);\n\n    _this = _super.call(this, props);\n\n    _this.onOk = function () {\n      _this.props.form.validateFieldsAndScroll(function (err, values) {\n        if (!err) {\n          var params = _objectSpread({}, values);\n\n          if (_this.store.configStatus === 'edit') {\n            params.id = _this.store.devCurrent.id;\n          }\n\n          _this.store.saveDevice(params);\n\n          _this.onClose();\n        }\n      });\n    };\n\n    _this.onSelectType = function (value) {\n      _this.store.getSelectModel({\n        typeId: value\n      });\n    };\n\n    _this.onClose = function () {\n      _this.store.configVisible = false;\n    };\n\n    _this.state = {\n      value: '',\n      radio: 1,\n      showMore: false\n    };\n    _this.store = _this.props.DeviceDefineStore;\n    return _this;\n  }\n\n  _createClass(AddModal, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var getFieldDecorator = this.props.form.getFieldDecorator;\n      var status = this.props.status;\n\n      var _toJS = toJS(this.store),\n          configVisible = _toJS.configVisible,\n          devCurrent = _toJS.devCurrent,\n          selectType = _toJS.selectType,\n          selectModel = _toJS.selectModel,\n          employeeList = _toJS.employeeList,\n          customerList = _toJS.customerList;\n\n      return /*#__PURE__*/React.createElement(_Modal, {\n        title: \"\".concat(status === 'query' ? '查看' : status === 'add' ? \"新增\" : '配置'),\n        visible: configVisible,\n        onCancel: this.onClose,\n        footer: status !== 'query' ? /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 30\n          }\n        }, /*#__PURE__*/React.createElement(_Button, {\n          onClick: this.onClose,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 11\n          }\n        }, \"\\u53D6\\u6D88\"), /*#__PURE__*/React.createElement(_Button, {\n          type: \"primary\",\n          onClick: this.onOk,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 11\n          }\n        }, \"\\u786E\\u5B9A\")) : /*#__PURE__*/React.createElement(_Button, {\n          type: \"primary\",\n          onClick: this.onClose,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 18\n          }\n        }, \"\\u5173\\u95ED\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 12\n        }\n      }, /*#__PURE__*/React.createElement(_Form, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(_Form.Item, Object.assign({}, formItemLayout, {\n        label: \"\\u8BBE\\u5907\\u7C7B\\u578B\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 9\n        }\n      }), getFieldDecorator('typeId', {\n        initialValue: status !== 'add' ? devCurrent.typeId : undefined,\n        rules: [{\n          required: true,\n          message: '请选择设备类型'\n        }]\n      })( /*#__PURE__*/React.createElement(_Select, {\n        placeholder: \"\\u8BF7\\u9009\\u62E9\",\n        style: {\n          width: 250\n        },\n        disabled: status !== 'add',\n        onChange: this.onSelectType,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }\n      }, selectType.length > 0 && selectType.map(function (mas) {\n        return /*#__PURE__*/React.createElement(Option, {\n          key: mas.id,\n          value: mas.id,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 63\n          }\n        }, mas.typeName);\n      })))), /*#__PURE__*/React.createElement(_Form.Item, Object.assign({}, formItemLayout, {\n        label: \"\\u8BBE\\u5907\\u578B\\u53F7\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 9\n        }\n      }), getFieldDecorator('modelId', {\n        initialValue: status !== 'add' ? devCurrent.modelId : undefined,\n        rules: [{\n          required: true,\n          message: '请选择设备型号'\n        }]\n      })( /*#__PURE__*/React.createElement(_Select, {\n        style: {\n          width: 250\n        },\n        placeholder: \"\\u8BF7\\u9009\\u62E9\",\n        disabled: status !== 'add',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }\n      }, selectModel.length > 0 && selectModel.map(function (mas) {\n        return /*#__PURE__*/React.createElement(Option, {\n          key: mas.id,\n          value: mas.id,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 65\n          }\n        }, mas.modelName);\n      })))), /*#__PURE__*/React.createElement(_Form.Item, Object.assign({}, formItemLayout, {\n        label: \"\\u8BBE\\u5907\\u540D\\u79F0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 9\n        }\n      }), getFieldDecorator('deviceName', {\n        initialValue: status !== 'add' ? devCurrent.deviceName : undefined,\n        rules: [{\n          required: true,\n          message: '请填写设备名称'\n        }]\n      })( /*#__PURE__*/React.createElement(_Input, {\n        disabled: status !== 'add',\n        placeholder: \"\\u8BF7\\u8F93\\u5165\",\n        style: {\n          width: '250px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }\n      }))), /*#__PURE__*/React.createElement(_Form.Item, Object.assign({}, formItemLayout, {\n        label: \"\\u8BBE\\u5907\\u7F16\\u53F7\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 9\n        }\n      }), getFieldDecorator('deviceCode', {\n        initialValue: status !== 'add' ? devCurrent.deviceCode : undefined,\n        rules: [{\n          required: true,\n          message: '请填写设备编号'\n        }]\n      })( /*#__PURE__*/React.createElement(_Input, {\n        disabled: status !== 'add',\n        placeholder: \"\\u8BF7\\u8F93\\u5165\",\n        style: {\n          width: '250px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }\n      }))), /*#__PURE__*/React.createElement(_Form.Item, Object.assign({}, formItemLayout, {\n        label: \"\\u5408\\u4F5C\\u4F19\\u4F34\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 9\n        }\n      }), getFieldDecorator('customerId', {\n        initialValue: status !== 'add' ? devCurrent.customerId : undefined,\n        rules: [{\n          required: true,\n          message: '请选择合作伙伴'\n        }]\n      })( /*#__PURE__*/React.createElement(_Select, {\n        placeholder: \"\\u8BF7\\u9009\\u62E9\",\n        style: {\n          width: 250\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }\n      }, customerList.length > 0 && customerList.map(function (mas) {\n        return /*#__PURE__*/React.createElement(Option, {\n          key: mas.id,\n          value: mas.id,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 65\n          }\n        }, mas.customerName);\n      })))), /*#__PURE__*/React.createElement(_Form.Item, Object.assign({}, formItemLayout, {\n        label: \"\\u5B89\\u88C5\\u4F4D\\u7F6E\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 9\n        }\n      }), getFieldDecorator('address', {\n        initialValue: status !== 'add' ? devCurrent.address : undefined\n      })( /*#__PURE__*/React.createElement(_Input, {\n        disabled: status === 'query',\n        placeholder: \"\\u8BF7\\u8F93\\u5165\",\n        style: {\n          width: '250px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 13\n        }\n      }))), /*#__PURE__*/React.createElement(_Form.Item, Object.assign({}, formItemLayout, {\n        label: \"\\u70B9\\u68C0\\u4EBA\\u5458\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 9\n        }\n      }), getFieldDecorator('checkId', {\n        initialValue: status !== 'add' ? devCurrent.checkId : undefined\n      })( /*#__PURE__*/React.createElement(_Select, {\n        showSearch: true,\n        optionFilterProp: \"children\",\n        placeholder: \"\\u8BF7\\u9009\\u62E9\",\n        style: {\n          width: 200\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 13\n        }\n      }, employeeList.length > 0 && employeeList.map(function (mas) {\n        return /*#__PURE__*/React.createElement(Option, {\n          key: mas.id,\n          value: mas.id,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 67\n          }\n        }, mas.name);\n      })))), /*#__PURE__*/React.createElement(_Form.Item, Object.assign({}, formItemLayout, {\n        label: \"\\u5DE1\\u68C0\\u4EBA\\u5458\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 9\n        }\n      }), getFieldDecorator('inspectionId', {\n        initialValue: status !== 'add' ? devCurrent.inspectionId : undefined\n      })( /*#__PURE__*/React.createElement(_Select, {\n        showSearch: true,\n        optionFilterProp: \"children\",\n        placeholder: \"\\u8BF7\\u9009\\u62E9\",\n        style: {\n          width: 200\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }\n      }, employeeList.length > 0 && employeeList.map(function (mas) {\n        return /*#__PURE__*/React.createElement(Option, {\n          key: mas.id,\n          value: mas.id,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 67\n          }\n        }, mas.name);\n      })))), /*#__PURE__*/React.createElement(_Form.Item, Object.assign({}, formItemLayout, {\n        label: \"\\u7EF4\\u4FEE\\u4EBA\\u5458\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 9\n        }\n      }), getFieldDecorator('repairId', {\n        initialValue: status !== 'add' ? devCurrent.repairId : undefined\n      })( /*#__PURE__*/React.createElement(_Select, {\n        showSearch: true,\n        optionFilterProp: \"children\",\n        placeholder: \"\\u8BF7\\u9009\\u62E9\",\n        style: {\n          width: 200\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }\n      }, employeeList.length > 0 && employeeList.map(function (mas) {\n        return /*#__PURE__*/React.createElement(Option, {\n          key: mas.id,\n          value: mas.id,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 67\n          }\n        }, mas.name);\n      })))), /*#__PURE__*/React.createElement(_Form.Item, Object.assign({}, formItemLayout, {\n        label: \"\\u4FDD\\u517B\\u4EBA\\u5458\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 9\n        }\n      }), getFieldDecorator('maintainId', {\n        initialValue: status !== 'add' ? devCurrent.maintainId : undefined\n      })( /*#__PURE__*/React.createElement(_Select, {\n        showSearch: true,\n        optionFilterProp: \"children\",\n        placeholder: \"\\u8BF7\\u9009\\u62E9\",\n        style: {\n          width: 200\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }\n      }, employeeList.length > 0 && employeeList.map(function (mas) {\n        return /*#__PURE__*/React.createElement(Option, {\n          key: mas.id,\n          value: mas.id,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 67\n          }\n        }, mas.name);\n      }))))));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.store.getUsersByRoles();\n      this.store.getCustomerList();\n      this.store.getSelectType();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.store.devCurrent = {};\n    }\n  }]);\n\n  return AddModal;\n}(Component), _temp)) || _class) || _class);\n\nvar WrappedDynamicRule = _Form.create({})(AddModal);\n\nexport default WrappedDynamicRule;","map":{"version":3,"sources":["/Users/shoen/Desktop/设备运维前端/bl-device-manage/src/layouts/BasicManage/ConfigPage/AddModal.js"],"names":["React","Component","inject","observer","toJS","Option","formItemLayout","labelCol","span","wrapperCol","moment","window","GLOBAL_PARAMS","AddModal","props","onOk","form","validateFieldsAndScroll","err","values","params","store","configStatus","id","devCurrent","saveDevice","onClose","onSelectType","value","getSelectModel","typeId","configVisible","state","radio","showMore","DeviceDefineStore","getFieldDecorator","status","selectType","selectModel","employeeList","customerList","initialValue","undefined","rules","required","message","width","length","map","mas","typeName","modelId","modelName","deviceName","deviceCode","customerId","customerName","address","checkId","name","inspectionId","repairId","maintainId","getUsersByRoles","getCustomerList","getSelectType","WrappedDynamicRule","create"],"mappings":"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","sourcesContent":["import React,{ Component } from 'react';\nimport { Input, Form, Button, DatePicker,Select, Modal } from 'antd';\nimport { inject,observer } from 'mobx-react';\nimport { toJS } from 'mobx';\nconst { Option } = Select;\n\nconst formItemLayout = {\n  labelCol: { span: 6 },\n  wrapperCol: { span: 12 },\n};\nconst { moment } = window.GLOBAL_PARAMS;\n\n@inject('DeviceDefineStore')\n@observer\nclass AddModal extends Component{\n  constructor(props){\n    super(props)\n    this.state = {\n      value:'',\n      radio:1,\n      showMore : false\n    }\n    this.store = this.props.DeviceDefineStore;\n  }\n  render(){\n    const { getFieldDecorator } = this.props.form;\n    const { status } = this.props;\n    const { configVisible,devCurrent,selectType,selectModel,employeeList,customerList} = toJS(this.store);\n    return <Modal\n      title={`${status === 'query' ? '查看' : status === 'add' ? \"新增\" : '配置'}`}\n      visible={configVisible}\n      onCancel={this.onClose}\n      footer={\n        status !== 'query' ? <div>\n          <Button onClick={this.onClose}>取消</Button>\n          <Button type='primary' onClick={this.onOk}>确定</Button>\n        </div> : <Button type='primary' onClick={this.onClose}>关闭</Button>\n      }\n    >\n      <Form>\n        <Form.Item {...formItemLayout} label=\"设备类型\">\n          {getFieldDecorator('typeId', {\n            initialValue: status !== 'add' ? devCurrent.typeId : undefined,\n            rules: [{ required: true, message: '请选择设备类型' }]\n          })(\n            <Select \n              placeholder=\"请选择\"\n              style={{ width: 250 }} \n              disabled={status !== 'add'}\n              onChange={this.onSelectType}\n            > \n              {\n                selectType.length > 0 && selectType.map(mas =><Option key={mas.id} value={mas.id}>{mas.typeName}</Option>)\n              }\n            </Select>\n          )}\n        </Form.Item>\n        <Form.Item {...formItemLayout} label=\"设备型号\">\n          {getFieldDecorator('modelId', {\n            initialValue: status !== 'add' ? devCurrent.modelId : undefined,\n            rules: [{ required: true, message: '请选择设备型号' }]\n          })(\n            <Select \n              style={{width:250}}\n              placeholder=\"请选择\"\n              disabled={status !== 'add'} \n            > \n              {\n                selectModel.length > 0 && selectModel.map(mas =><Option key={mas.id} value={mas.id}>{mas.modelName}</Option>)\n              }\n            </Select>\n          )}\n        </Form.Item>\n        <Form.Item {...formItemLayout} label=\"设备名称\">\n          {getFieldDecorator('deviceName', {\n            initialValue:status !== 'add' ? devCurrent.deviceName : undefined,\n            rules: [\n              {\n                required: true,\n                message: '请填写设备名称',\n              },\n            ],\n          })(\n            <Input disabled={status !== 'add'} placeholder='请输入' style={{width:'250px'}} />\n          )}\n        </Form.Item>\n        <Form.Item {...formItemLayout} label=\"设备编号\">\n          {getFieldDecorator('deviceCode', {\n            initialValue:status !== 'add' ? devCurrent.deviceCode : undefined,\n            rules: [\n              {\n                required: true,\n                message: '请填写设备编号',\n              },\n            ],\n          })(\n            <Input disabled={status !== 'add'} placeholder='请输入' style={{width:'250px'}} />\n          )}\n        </Form.Item>\n        \n        <Form.Item {...formItemLayout} label=\"合作伙伴\">\n          {getFieldDecorator('customerId', {\n            initialValue:status !== 'add' ? devCurrent.customerId : undefined,\n            rules: [\n              {\n                required: true,\n                message: '请选择合作伙伴',\n              },\n            ],\n          })(\n            <Select \n              placeholder=\"请选择\"\n              style={{ width: 250 }} \n            > \n              {\n                customerList.length>0 && customerList.map(mas =><Option key={mas.id} value={mas.id}>{mas.customerName}</Option>)\n              }\n            </Select>\n          )}\n        </Form.Item>\n        <Form.Item {...formItemLayout} label=\"安装位置\">\n          {getFieldDecorator('address', {\n            initialValue:status !== 'add' ? devCurrent.address : undefined,\n            \n          })(\n            <Input disabled={status === 'query'} placeholder='请输入' style={{width:'250px'}} />\n          )}\n        </Form.Item>\n        <Form.Item {...formItemLayout} label=\"点检人员\">\n          {getFieldDecorator('checkId', {\n            initialValue:status !== 'add' ? devCurrent.checkId : undefined,\n          })(\n            <Select \n              showSearch\n              optionFilterProp='children'\n              placeholder=\"请选择\"\n              style={{ width: 200 }} \n            > \n              {\n                employeeList.length > 0 && employeeList.map(mas =><Option key={mas.id} value={mas.id}>{mas.name}</Option>)\n              }\n            </Select>\n          )}\n        </Form.Item>\n        <Form.Item {...formItemLayout} label=\"巡检人员\">\n          {getFieldDecorator('inspectionId', {\n            initialValue:status !== 'add' ? devCurrent.inspectionId : undefined,\n          })(\n            <Select \n              showSearch\n              optionFilterProp='children'\n              placeholder=\"请选择\"\n              style={{ width: 200 }} \n            > \n              {\n                employeeList.length > 0 && employeeList.map(mas =><Option key={mas.id} value={mas.id}>{mas.name}</Option>)\n              }\n            </Select>\n          )}\n        </Form.Item>\n        <Form.Item {...formItemLayout} label=\"维修人员\">\n          {getFieldDecorator('repairId', {\n            initialValue:status !== 'add' ? devCurrent.repairId : undefined,\n          })(\n            <Select \n              showSearch\n              optionFilterProp='children'\n              placeholder=\"请选择\"\n              style={{ width: 200 }} \n            > \n              {\n                employeeList.length > 0 && employeeList.map(mas =><Option key={mas.id} value={mas.id}>{mas.name}</Option>)\n              }\n            </Select>\n          )}\n        </Form.Item>\n        <Form.Item {...formItemLayout} label=\"保养人员\">\n          {getFieldDecorator('maintainId', {\n            initialValue:status !== 'add' ? devCurrent.maintainId : undefined,\n          })(\n            <Select \n              showSearch\n              optionFilterProp='children'\n              placeholder=\"请选择\"\n              style={{ width: 200 }} \n            > \n              {\n                employeeList.length > 0 && employeeList.map(mas =><Option key={mas.id} value={mas.id}>{mas.name}</Option>)\n              }\n            </Select>\n          )}\n        </Form.Item>\n      </Form>\n    </Modal>\n  }\n  \n  \n  onOk = ()=>{\n    this.props.form.validateFieldsAndScroll((err, values) => {\n      if (!err) {\n        let params = {\n          ...values,\n          // deviceTime:values.deviceTime.format('YYYY-MM-DD HH:MM:SS')\n        }\n        if(this.store.configStatus === 'edit'){\n          params.id = this.store.devCurrent.id\n        }\n        this.store.saveDevice(params)\n        this.onClose();\n      }\n    });\n  }\n  onSelectType = (value)=>{\n    this.store.getSelectModel({typeId:value})\n  }\n  onClose=()=>{this.store.configVisible = false}\n  componentDidMount(){\n    this.store.getUsersByRoles()\n    this.store.getCustomerList()\n    this.store.getSelectType()\n  }\n  componentWillUnmount(){\n    this.store.devCurrent = {}\n    \n  }\n}\nconst WrappedDynamicRule = Form.create({})(AddModal);\nexport default WrappedDynamicRule;"]},"metadata":{},"sourceType":"module"}