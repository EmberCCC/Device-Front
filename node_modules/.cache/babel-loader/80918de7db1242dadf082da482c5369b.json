{"ast":null,"code":"import \"antd/lib/drawer/style\";\nimport _Drawer from \"antd/lib/drawer\";\nimport \"antd/lib/tabs/style\";\nimport _Tabs from \"antd/lib/tabs\";\nimport _toConsumableArray from \"F:\\\\documents\\\\bl-device-manage-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport \"antd/lib/message/style\";\nimport _message from \"antd/lib/message\";\nimport _defineProperty from \"F:\\\\documents\\\\bl-device-manage-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"F:\\\\documents\\\\bl-device-manage-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"F:\\\\documents\\\\bl-device-manage-test\\\\src\\\\layouts\\\\FormEdit\\\\index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\n/*\r\n * @Author: EmberCCC 1810888456@qq.com\r\n * @Date: 2022-07-01 20:45:23\r\n * @LastEditors: EmberCCC 1810888456@qq.com\r\n * @LastEditTime: 2022-07-19 06:06:10\r\n * @FilePath: \\bl-device-manage-test\\src\\layouts\\FormEdit\\index.js\r\n * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n */\nimport { BulbTwoTone, CloseOutlined } from '@ant-design/icons';\nimport FormRender, { useForm } from 'form-render';\nimport { defaultCommonSetting, defaultGlobalSettings, defaultGlobalSettingsi, defaultSettings } from 'constants/field_config';\nimport Generator from 'fr-generator';\nimport { inject, observer } from 'mobx-react';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Link_item } from './self_item/link_item';\nimport { toJS } from 'mobx';\nimport './index.css';\nimport { exChange, restore } from './changeTool';\nimport { Submit_check } from './self_item/submit_check';\nimport { Self_divider } from './self_item/self_divider';\nimport mul_tag from './self_item/mul_tag';\nvar Provider = Generator.Provider,\n    Sidebar = Generator.Sidebar,\n    Canvas = Generator.Canvas,\n    Settings = Generator.Settings;\nvar FormEdit = observer(function (_ref) {\n  var HomeStore = _ref.HomeStore,\n      FormStore = _ref.FormStore;\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      schema = _useState2[0],\n      setSchema = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      visible = _useState4[0],\n      setVisisble = _useState4[1];\n\n  var _useState5 = useState({}),\n      _useState6 = _slicedToArray(_useState5, 2),\n      lookItem = _useState6[0],\n      setLookItem = _useState6[1];\n\n  var _useState7 = useState({}),\n      _useState8 = _slicedToArray(_useState7, 2),\n      schemaList = _useState8[0],\n      setSchemaList = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      activeKey = _useState10[0],\n      setActiveKey = _useState10[1];\n\n  var newArr = new Array(100);\n  var ref = useRef();\n  var refList = useRef();\n  var form = useForm();\n  var formList = useForm();\n  useEffect(function () {\n    FormStore.getFormField({\n      formId: HomeStore.firstFormId\n    }).then(function () {\n      FormStore.setValue('subFormList', JSON.parse(FormStore.formField.form.formFields));\n      var nameArr = [];\n      var iList = restore(toJS(FormStore.formField));\n      delete iList.root;\n      setSchemaList(iList);\n      console.log(iList);\n      var newArr = [];\n\n      for (var key in schemaList) {\n        if (Object.hasOwnProperty.call(schemaList, key)) {\n          var element = schemaList[key];\n          var iObj = {};\n          iObj['name'] = key;\n          iObj['schema'] = element;\n          newArr.push(iObj);\n        }\n      }\n\n      for (var _key in iList) {\n        if (iList.hasOwnProperty.call(iList, _key)) {\n          var _element = iList[_key];\n          nameArr.push(_key);\n        }\n      }\n\n      FormStore.setValue('subFormName', nameArr);\n      FormStore.setValue('schemaList', newArr);\n      setSchema(restore(toJS(FormStore.formField)));\n    });\n  }, []);\n\n  var look = function look() {\n    console.log(toJS(FormStore.subFormList));\n\n    var iObj = _objectSpread({}, schemaList);\n\n    iObj[activeKey] = refList.current.getValue();\n    setSchemaList(iObj);\n    setLookItem(ref.current.getValue());\n    setVisisble(true);\n  };\n\n  var save = function save() {\n    console.log(schema);\n    var params = exChange(ref.current.getValue(), HomeStore.firstFormId, 'root');\n    console.log(toJS(FormStore.subFormList));\n    FormStore.subFormList.map(function (item, index) {\n      console.log(toJS(item));\n\n      if (item['name'] != 'root' && item['fields'].length != 0) {\n        params['subForms'].push(toJS(item['fields']['subForms'][0]));\n      } else if (item['name'] != 'root') {\n        params['subForms'].push({\n          'name': item['name'],\n          'fields': []\n        });\n      }\n    });\n    FormStore.saveForm(params).then(function () {\n      _message.success('保存成功');\n    });\n    console.log(params);\n  };\n\n  var closeDrawer = function closeDrawer() {\n    setVisisble(false);\n  };\n\n  var handleChange = function handleChange(schema, title, index) {\n    var iList = _toConsumableArray(FormStore.subFormList);\n\n    var iiList = _objectSpread({}, schemaList);\n\n    iiList[title] = schema;\n    setSchemaList(iiList);\n    iList.splice(index, 1, {\n      'name': title,\n      'fields': exChange(schema, HomeStore.firstFormId, title)\n    });\n    FormStore.setValue('subFormList', iList);\n  };\n\n  var handleNew = function handleNew(schame, index) {\n    newArr[index] = schame;\n  };\n\n  var handleTagChange = function handleTagChange(activeKey) {\n    console.log(refList.current.getValue());\n\n    var iObj = _objectSpread({}, schemaList);\n\n    iObj[activeKey] = refList.current.getValue();\n    setActiveKey(activeKey);\n    setSchemaList(iObj);\n    console.log(activeKey);\n  };\n\n  var getItem = function getItem() {\n    var schemaList = FormStore.schemaList;\n    console.log(toJS(schemaList));\n\n    if (schemaList) {\n      return schemaList.map(function (item, index) {\n        return /*#__PURE__*/React.createElement(_Tabs.TabPane, {\n          tab: item['name'],\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }, /*#__PURE__*/React.createElement(FormRender, {\n          schema: item['schema'],\n          widgets: {\n            self_divider: Self_divider\n          },\n          form: formList,\n          style: {\n            overflowY: 'auto'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }));\n      });\n    }\n  };\n\n  var getTag = function getTag() {\n    var schemaList = FormStore.schemaList;\n    var newArr = [];\n\n    for (var key in schemaList) {\n      if (Object.hasOwnProperty.call(schemaList, key)) {\n        var element = schemaList[key];\n        var iObj = {};\n        iObj['name'] = key;\n        iObj['schema'] = element;\n        newArr.push(iObj);\n      }\n    }\n\n    return newArr.map(function (item, index) {\n      var subFormName = FormStore.subFormName;\n      return /*#__PURE__*/React.createElement(_Tabs.TabPane, {\n        tab: subFormName[index],\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, /*#__PURE__*/React.createElement(Provider, {\n        ref: refList,\n        defaultValue: item['schema'],\n        settings: defaultSettings,\n        commonSettings: defaultCommonSetting,\n        globalSettings: [],\n        extraButtons: [false, false, false, false],\n        controlButtons: [true, false, {\n          text: 'up',\n          onClick: function onClick(event, schema) {\n            return console.log(event, schema);\n          }\n        }],\n        hideId: true,\n        widgets: {\n          link_item: Link_item,\n          submit_check: Submit_check,\n          self_divider: Self_divider\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"fr-generator-container\",\n        style: {\n          height: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"edit_main\",\n        style: {\n          width: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, /*#__PURE__*/React.createElement(Canvas, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      })), /*#__PURE__*/React.createElement(Settings, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }))));\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"edit_header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"edit_left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  }, /*#__PURE__*/React.createElement(BulbTwoTone, {\n    className: \"icon_edit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }), /*#__PURE__*/React.createElement(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  }, \"\\u67E5\\u770B\\u65B0\\u624B\\u5F15\\u5BFC\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"edit_right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183\n    },\n    __self: this\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"edit_look\",\n    onClick: look,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184\n    },\n    __self: this\n  }, \"\\u9884\\u89C8\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"edit_save\",\n    onClick: save,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185\n    },\n    __self: this\n  }, \"\\u4FDD\\u5B58\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fr-generator-playground\",\n    style: {\n      height: '88vh'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188\n    },\n    __self: this\n  }, /*#__PURE__*/React.createElement(Provider, {\n    ref: ref,\n    defaultValue: schema['root'],\n    settings: defaultSettings,\n    commonSettings: defaultCommonSetting,\n    globalSettings: defaultGlobalSettings,\n    extraButtons: [false, false, false, false],\n    controlButtons: [true, false, {\n      text: 'up',\n      onClick: function onClick(event, schema) {\n        return console.log(event, schema);\n      }\n    }],\n    hideId: true,\n    widgets: {\n      link_item: Link_item,\n      submit_check: Submit_check,\n      self_divider: Self_divider,\n      mul_tag: mul_tag\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189\n    },\n    __self: this\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fr-generator-container\",\n    style: {\n      height: '88vh'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205\n    },\n    __self: this\n  }, /*#__PURE__*/React.createElement(Sidebar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206\n    },\n    __self: this\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"edit_main\",\n    style: {\n      width: '100%'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207\n    },\n    __self: this\n  }, /*#__PURE__*/React.createElement(Canvas, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208\n    },\n    __self: this\n  }), /*#__PURE__*/React.createElement(_Tabs, {\n    type: \"card\",\n    className: \"myTabs\",\n    onChange: handleTagChange,\n    tabBarGutter: 20,\n    size: \"small\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209\n    },\n    __self: this\n  }, getTag())), /*#__PURE__*/React.createElement(Settings, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215\n    },\n    __self: this\n  })))), /*#__PURE__*/React.createElement(_Drawer, {\n    placement: \"bottom\",\n    size: \"large\",\n    width: 1200,\n    visible: visible,\n    extra: /*#__PURE__*/React.createElement(CloseOutlined, {\n      onClick: closeDrawer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220\n    },\n    __self: this\n  }, /*#__PURE__*/React.createElement(FormRender, {\n    schema: lookItem,\n    form: form,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229\n    },\n    __self: this\n  }), /*#__PURE__*/React.createElement(_Tabs, {\n    destroyInactiveTabPane: true,\n    tabBarGutter: 20,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230\n    },\n    __self: this\n  }, getItem())));\n});\nexport default inject(function (stores) {\n  return {\n    HomeStore: stores.HomeStore,\n    FormStore: stores.FormStore\n  };\n})(FormEdit);","map":{"version":3,"names":["BulbTwoTone","CloseOutlined","FormRender","useForm","defaultCommonSetting","defaultGlobalSettings","defaultGlobalSettingsi","defaultSettings","Generator","inject","observer","React","useEffect","useRef","useState","Link_item","toJS","exChange","restore","Submit_check","Self_divider","mul_tag","Provider","Sidebar","Canvas","Settings","FormEdit","HomeStore","FormStore","schema","setSchema","visible","setVisisble","lookItem","setLookItem","schemaList","setSchemaList","activeKey","setActiveKey","newArr","Array","ref","refList","form","formList","getFormField","formId","firstFormId","then","setValue","JSON","parse","formField","formFields","nameArr","iList","root","console","log","key","Object","hasOwnProperty","call","element","iObj","push","look","subFormList","current","getValue","save","params","map","item","index","length","saveForm","success","closeDrawer","handleChange","title","iiList","splice","handleNew","schame","handleTagChange","getItem","self_divider","overflowY","getTag","subFormName","text","onClick","event","link_item","submit_check","height","width","stores"],"sources":["F:/documents/bl-device-manage-test/src/layouts/FormEdit/index.js"],"sourcesContent":["/*\r\n * @Author: EmberCCC 1810888456@qq.com\r\n * @Date: 2022-07-01 20:45:23\r\n * @LastEditors: EmberCCC 1810888456@qq.com\r\n * @LastEditTime: 2022-07-19 06:06:10\r\n * @FilePath: \\bl-device-manage-test\\src\\layouts\\FormEdit\\index.js\r\n * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n */\r\nimport { BulbTwoTone, CloseOutlined } from '@ant-design/icons';\r\nimport { Drawer, message, Tabs } from 'antd';\r\nimport FormRender, { useForm } from 'form-render';\r\nimport { defaultCommonSetting, defaultGlobalSettings, defaultGlobalSettingsi, defaultSettings } from 'constants/field_config';\r\nimport Generator from 'fr-generator';\r\nimport { inject, observer } from 'mobx-react';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { Link_item } from './self_item/link_item';\r\nimport { toJS } from 'mobx';\r\nimport './index.css'\r\nimport { exChange, restore } from './changeTool';\r\nimport { Submit_check } from './self_item/submit_check';\r\nimport { Self_divider } from './self_item/self_divider';\r\nimport mul_tag from './self_item/mul_tag';\r\n\r\nconst { Provider, Sidebar, Canvas, Settings } = Generator;\r\n\r\n\r\nconst FormEdit = observer(({ HomeStore, FormStore }) => {\r\n  const [schema, setSchema] = useState({});\r\n  const [visible, setVisisble] = useState(false)\r\n  const [lookItem, setLookItem] = useState({})\r\n  const [schemaList, setSchemaList] = useState({})\r\n  const [activeKey, setActiveKey] = useState('')\r\n  let newArr = new Array(100);\r\n  const ref = useRef();\r\n  const refList = useRef();\r\n  const form = useForm();\r\n  const formList = useForm();\r\n  useEffect(() => {\r\n    FormStore.getFormField({ formId: HomeStore.firstFormId }).then(() => {\r\n      FormStore.setValue('subFormList', JSON.parse(FormStore.formField.form.formFields))\r\n      let nameArr = []\r\n      let iList = restore(toJS(FormStore.formField))\r\n      delete iList.root\r\n      setSchemaList(iList);\r\n      console.log(iList);\r\n      let newArr = []\r\n      for (const key in schemaList) {\r\n        if (Object.hasOwnProperty.call(schemaList, key)) {\r\n          const element = schemaList[key];\r\n          let iObj = {}\r\n          iObj['name'] = key\r\n          iObj['schema'] = element\r\n          newArr.push(iObj);\r\n        }\r\n      }\r\n      for (const key in iList) {\r\n        if (iList.hasOwnProperty.call(iList, key)) {\r\n          const element = iList[key];\r\n          nameArr.push(key);\r\n        }\r\n      }\r\n      FormStore.setValue('subFormName', nameArr);\r\n      FormStore.setValue('schemaList', newArr);\r\n      setSchema(restore(toJS(FormStore.formField)))\r\n    });\r\n  }, []);\r\n  const look = () => {\r\n    console.log(toJS(FormStore.subFormList));\r\n    let iObj = { ...schemaList }\r\n    iObj[activeKey] = refList.current.getValue();\r\n    setSchemaList(iObj)\r\n    setLookItem(ref.current.getValue())\r\n    setVisisble(true);\r\n  }\r\n  const save = () => {\r\n    console.log(schema);\r\n    let params = exChange(ref.current.getValue(), HomeStore.firstFormId, 'root')\r\n    console.log(toJS(FormStore.subFormList));\r\n    FormStore.subFormList.map((item, index) => {\r\n      console.log(toJS(item));\r\n      if (item['name'] != 'root' && item['fields'].length != 0) {\r\n        params['subForms'].push(toJS(item['fields']['subForms'][0]))\r\n      } else if (item['name'] != 'root') {\r\n        params['subForms'].push({ 'name': item['name'], 'fields': [] })\r\n      }\r\n\r\n    })\r\n    FormStore.saveForm(params).then(() => {\r\n      message.success('保存成功')\r\n    })\r\n    console.log(params);\r\n  }\r\n  const closeDrawer = () => {\r\n    setVisisble(false)\r\n  }\r\n\r\n  const handleChange = (schema, title, index) => {\r\n    let iList = [...FormStore.subFormList];\r\n    let iiList = { ...schemaList }\r\n    iiList[title] = schema;\r\n    setSchemaList(iiList);\r\n    iList.splice(index, 1, { 'name': title, 'fields': exChange(schema, HomeStore.firstFormId, title) })\r\n    FormStore.setValue('subFormList', iList)\r\n  }\r\n  const handleNew = (schame, index) => {\r\n    newArr[index] = schame\r\n  }\r\n  const handleTagChange = (activeKey) => {\r\n    console.log(refList.current.getValue());\r\n    let iObj = { ...schemaList }\r\n    iObj[activeKey] = refList.current.getValue();\r\n    setActiveKey(activeKey)\r\n    setSchemaList(iObj)\r\n    console.log(activeKey);\r\n  }\r\n  const getItem = () => {\r\n    const {schemaList} = FormStore\r\n    console.log(toJS(schemaList));\r\n    if(schemaList){\r\n      return (\r\n        schemaList.map((item, index) => {\r\n          return (\r\n            <Tabs.TabPane tab={item['name']} key={index}>\r\n              <FormRender schema={item['schema']} widgets={{ self_divider: Self_divider }}\r\n                form={formList} style={{ overflowY: 'auto' }} />\r\n            </Tabs.TabPane>\r\n          )\r\n        })\r\n      )\r\n    }\r\n  }\r\n  const getTag = () => {\r\n    const { schemaList } = FormStore\r\n    let newArr = []\r\n    for (const key in schemaList) {\r\n      if (Object.hasOwnProperty.call(schemaList, key)) {\r\n        const element = schemaList[key];\r\n        let iObj = {}\r\n        iObj['name'] = key\r\n        iObj['schema'] = element\r\n        newArr.push(iObj);\r\n      }\r\n    }\r\n    return (\r\n      newArr.map((item, index) => {\r\n        const { subFormName } = FormStore\r\n        return (\r\n          <Tabs.TabPane tab={subFormName[index]} key={index}>\r\n            <Provider\r\n              ref={refList}\r\n              defaultValue={item['schema']}\r\n              settings={defaultSettings}\r\n              commonSettings={defaultCommonSetting}\r\n              globalSettings={[]}\r\n              extraButtons={[false, false, false, false]}\r\n              controlButtons={[true, false, { text: 'up', onClick: (event, schema) => console.log(event, schema) }]}\r\n              hideId={true}\r\n              widgets={{\r\n                link_item: Link_item,\r\n                submit_check: Submit_check,\r\n                self_divider: Self_divider,\r\n              }}\r\n            >\r\n              <div className=\"fr-generator-container\" style={{ height: '100%' }}>\r\n                <div className='edit_main' style={{ width: '100%' }}>\r\n                  <Canvas />\r\n                </div>\r\n                <Settings />\r\n              </div>\r\n            </Provider>\r\n          </Tabs.TabPane>\r\n        )\r\n      })\r\n    )\r\n  }\r\n  return (\r\n    <>\r\n      <div className='edit_header'>\r\n        <div className='edit_left'>\r\n          <BulbTwoTone className='icon_edit' />\r\n          <a>查看新手引导</a>\r\n        </div>\r\n        <div className='edit_right'>\r\n          <button className='edit_look' onClick={look}>预览</button>\r\n          <button className='edit_save' onClick={save}>保存</button>\r\n        </div>\r\n      </div>\r\n      <div className=\"fr-generator-playground\" style={{ height: '88vh' }}>\r\n        <Provider\r\n          ref={ref}\r\n          defaultValue={schema['root']}\r\n          settings={defaultSettings}\r\n          commonSettings={defaultCommonSetting}\r\n          globalSettings={defaultGlobalSettings}\r\n          extraButtons={[false, false, false, false]}\r\n          controlButtons={[true, false, { text: 'up', onClick: (event, schema) => console.log(event, schema) }]}\r\n          hideId={true}\r\n          widgets={{\r\n            link_item: Link_item,\r\n            submit_check: Submit_check,\r\n            self_divider: Self_divider,\r\n            mul_tag: mul_tag\r\n          }}\r\n        >\r\n          <div className=\"fr-generator-container\" style={{ height: '88vh' }}>\r\n            <Sidebar />\r\n            <div className='edit_main' style={{ width: '100%' }}>\r\n              <Canvas />\r\n              <Tabs type='card' className='myTabs' onChange={handleTagChange} tabBarGutter={20} size='small'>\r\n                {\r\n                  getTag()\r\n                }\r\n              </Tabs>\r\n            </div>\r\n            <Settings />\r\n          </div>\r\n        </Provider>\r\n      </div>\r\n\r\n      <Drawer\r\n        placement='bottom'\r\n        size='large'\r\n        width={1200}\r\n        visible={visible}\r\n        extra={\r\n          <CloseOutlined onClick={closeDrawer} />\r\n        }\r\n      >\r\n        <FormRender schema={lookItem} form={form} />\r\n        <Tabs destroyInactiveTabPane={true} tabBarGutter={20}>\r\n          {\r\n            getItem()\r\n          }\r\n        </Tabs>\r\n      </Drawer>\r\n    </>\r\n  );\r\n});\r\n\r\nexport default inject((stores) => ({ HomeStore: stores.HomeStore, FormStore: stores.FormStore }))(FormEdit);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}