{"ast":null,"code":"import _objectSpread from \"F:\\\\documents\\\\bl-device-manage-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"F:\\\\documents\\\\bl-device-manage-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\documents\\\\bl-device-manage-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"F:\\\\documents\\\\bl-device-manage-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"F:\\\\documents\\\\bl-device-manage-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"F:\\\\documents\\\\bl-device-manage-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"F:\\\\documents\\\\bl-device-manage-test\\\\src\\\\components\\\\GlobalList\\\\index.js\";\n\n/**\r\n * @author zyn on 0611\r\n * @description 覆盖list页面 包括 Tab + Checked-Tag + List\r\n * @param {Object} tabs - tab选择 - 包括数据源dataSource、事件处理\r\n * @param {Object} Table - table选择 - 包括数据源dataSource、事件处理\r\n * @param {Object} CheckedTag - checked-tag 选择 - 包括数据源dataSource、事件处理\r\n * @param {Object} Modal - 弹窗 - 包含：\r\n *    isForm {Boolean} - 判断是否children需要判断对应的\r\n */\nimport React from 'react';\nimport Tabs from './Tabs';\nimport Table from './Table';\nimport CheckedTag from './CheckedTag';\nimport GlobalModal from '../GlobalModal';\nimport './index.less';\nimport { isEmpty } from 'lodash';\nimport { Form } from '@ant-design/compatible';\nimport '@ant-design/compatible/assets/index.css';\n/* 默认form表单布局 */\n\nvar formItemLayout = {\n  labelCol: {\n    span: 6\n  },\n  wrapperCol: {\n    span: 18\n  }\n};\n\nvar GlobalList =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(GlobalList, _React$Component);\n\n  function GlobalList() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, GlobalList);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(GlobalList)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.onSubmit = function () {\n      if (_this.props.modal.isForm) {\n        _this.props.form.validateFieldsAndScroll(function (err, values) {\n          if (!err) {\n            _this.props.modal.onOk(values);\n          }\n        });\n      } else {\n        _this.props.modal.onOk();\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(GlobalList, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          tabs = _this$props.tabs,\n          checkedTag = _this$props.checkedTag,\n          table = _this$props.table,\n          modal = _this$props.modal;\n      var getFieldDecorator = this.props.form.getFieldDecorator;\n      return React.createElement(\"div\", {\n        className: \"global-list-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, !isEmpty(tabs) && React.createElement(Tabs, Object.assign({}, tabs, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      })), !isEmpty(checkedTag) && React.createElement(CheckedTag, Object.assign({}, checkedTag, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      })), React.createElement(Table, Object.assign({}, table, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      })), !isEmpty(modal) && modal.visible && React.createElement(GlobalModal, Object.assign({}, modal, {\n        onOk: this.onSubmit,\n        children: modal.isForm ? React.createElement(React.Fragment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46\n          },\n          __self: this\n        }, modal.formColumns && modal.formColumns.map(function (item, i) {\n          return !item.displayNone && React.createElement(Form.Item, Object.assign({}, modal.formItemLayout || formItemLayout, {\n            label: item.label,\n            key: item.key\n          }, item, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 49\n            },\n            __self: this\n          }), item.getFieldDecorator ? getFieldDecorator(\"\".concat(item.key), _objectSpread({}, item.getFieldDecorator))(item.value) : item.value);\n        }),\n        /* 扩展formitem - 用于页面需求罗列的选项框 */\n        modal.extendFormColumns && modal.extendFormColumns.length > 0 && modal.extendFormColumns.map(function (item) {\n          return React.createElement(Form.Item, Object.assign({}, modal.formItemLayout || formItemLayout, {\n            label: \"\".concat(item.label),\n            key: item.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 65\n            },\n            __self: this\n          }), getFieldDecorator(\"\".concat(item.key, \"-\").concat(item.id), _objectSpread({\n            rules: [{\n              required: true\n            }]\n          }, item.getFieldDecorator))(item.value), item.extChild && item.extChild);\n        }), modal.otherContent && modal.otherContent) : modal.children,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return GlobalList;\n}(React.Component);\n\nvar WrapperList = Form.create({})(GlobalList);\nexport default WrapperList;","map":{"version":3,"sources":["F:\\documents\\bl-device-manage-test\\src\\components\\GlobalList\\index.js"],"names":["React","Tabs","Table","CheckedTag","GlobalModal","isEmpty","Form","formItemLayout","labelCol","span","wrapperCol","GlobalList","onSubmit","props","modal","isForm","form","validateFieldsAndScroll","err","values","onOk","tabs","checkedTag","table","getFieldDecorator","visible","formColumns","map","item","i","displayNone","label","key","value","extendFormColumns","length","id","rules","required","extChild","otherContent","children","Component","WrapperList","create"],"mappings":"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","sourcesContent":["/**\r\n * @author zyn on 0611\r\n * @description 覆盖list页面 包括 Tab + Checked-Tag + List\r\n * @param {Object} tabs - tab选择 - 包括数据源dataSource、事件处理\r\n * @param {Object} Table - table选择 - 包括数据源dataSource、事件处理\r\n * @param {Object} CheckedTag - checked-tag 选择 - 包括数据源dataSource、事件处理\r\n * @param {Object} Modal - 弹窗 - 包含：\r\n *    isForm {Boolean} - 判断是否children需要判断对应的\r\n */\r\nimport React from 'react'\r\nimport Tabs from './Tabs'\r\nimport Table from './Table'\r\nimport CheckedTag from './CheckedTag'\r\nimport GlobalModal from '../GlobalModal'\r\nimport './index.less'\r\nimport { isEmpty } from 'lodash'\r\nimport { Form } from '@ant-design/compatible';\r\nimport '@ant-design/compatible/assets/index.css';\r\n\r\n/* 默认form表单布局 */\r\nconst formItemLayout = {\r\n  labelCol: { span: 6 },\r\n  wrapperCol: { span: 18 },\r\n};\r\nclass GlobalList extends React.Component {\r\n  render() {\r\n    const { tabs, checkedTag, table, modal, } = this.props\r\n    const { getFieldDecorator } = this.props.form\r\n    return <div className='global-list-container'\r\n    >\r\n      {!isEmpty(tabs) && <Tabs\r\n        {...tabs}\r\n      />}\r\n      {!isEmpty(checkedTag) && <CheckedTag\r\n        {...checkedTag}\r\n      />}\r\n      <Table\r\n        {...table}\r\n      />\r\n      {\r\n        !isEmpty(modal) && modal.visible && <GlobalModal\r\n          {...modal}\r\n          onOk={this.onSubmit}\r\n          children={\r\n            modal.isForm ?\r\n              <React.Fragment>\r\n                {\r\n                  modal.formColumns && modal.formColumns.map((item, i) => {\r\n                    return !item.displayNone && <Form.Item {...(modal.formItemLayout || formItemLayout)}\r\n                      label={item.label}\r\n                      key={item.key}\r\n                      {...item}\r\n                    >\r\n                      {item.getFieldDecorator ? getFieldDecorator(`${item.key}`, {\r\n                        ...item.getFieldDecorator\r\n                      })(\r\n                        item.value\r\n                      ) : item.value}\r\n                    </Form.Item>\r\n                  })\r\n                }\r\n                {\r\n                  /* 扩展formitem - 用于页面需求罗列的选项框 */\r\n                  modal.extendFormColumns && modal.extendFormColumns.length > 0 && modal.extendFormColumns.map(item => {\r\n                    return <Form.Item {...(modal.formItemLayout || formItemLayout)}\r\n                      label={`${item.label}`}\r\n                      key={item.id}\r\n                    >\r\n                      {getFieldDecorator(`${item.key}-${item.id}`, {\r\n                        rules: [\r\n                          {\r\n                            required: true,\r\n                          }\r\n                        ],\r\n                        ...item.getFieldDecorator\r\n                      })(\r\n                        item.value\r\n                      )}\r\n                      {item.extChild && item.extChild}\r\n                    </Form.Item>\r\n                  })\r\n                }\r\n                {\r\n                  modal.otherContent && modal.otherContent\r\n                }\r\n              </React.Fragment>\r\n              : modal.children\r\n          }\r\n        />\r\n      }\r\n    </div>\r\n  }\r\n  onSubmit = () => {\r\n    if (this.props.modal.isForm) {\r\n      this.props.form.validateFieldsAndScroll((err, values) => {\r\n        if (!err) {\r\n          this.props.modal.onOk(values)\r\n        }\r\n      });\r\n    } else {\r\n      this.props.modal.onOk()\r\n    }\r\n  }\r\n}\r\n\r\nconst WrapperList = Form.create({})(GlobalList)\r\nexport default WrapperList;"]},"metadata":{},"sourceType":"module"}