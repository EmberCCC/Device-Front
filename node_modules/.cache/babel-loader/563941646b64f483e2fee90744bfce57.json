{"ast":null,"code":"import \"antd/lib/badge/style\";\nimport _Badge from \"antd/lib/badge\";\nimport \"antd/lib/message/style\";\nimport _message from \"antd/lib/message\";\nimport \"antd/lib/modal/style\";\nimport _Modal from \"antd/lib/modal\";\nimport _classCallCheck from \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nvar _dec,\n    _class,\n    _temp,\n    _jsxFileName = \"/Users/shoen/Desktop/\\u8BBE\\u5907\\u8FD0\\u7EF4\\u524D\\u7AEF/bl-device-manage/src/layouts/SystemManager/SystemMenu/MenuTable.js\";\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport { inject, observer } from 'mobx-react';\nimport TableLayout from 'Components/TableLayout';\nimport { toJS } from 'mobx';\nvar MenuTable = (_dec = inject('SystemStore'), _dec(_class = observer(_class = (_temp = /*#__PURE__*/function (_Component) {\n  _inherits(MenuTable, _Component);\n\n  var _super = _createSuper(MenuTable);\n\n  function MenuTable() {\n    var _this;\n\n    _classCallCheck(this, MenuTable);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _this.addLower = function (record) {\n      _this.props.SystemStore.formData = {};\n      _this.props.SystemStore.formData.parentId = record.id;\n      _this.props.SystemStore.modalVisible = true;\n    };\n\n    _this.delete = function (record) {\n      var _this$props$SystemSto = _this.props.SystemStore,\n          deleteMenu = _this$props$SystemSto.deleteMenu,\n          getMenuData = _this$props$SystemSto.getMenuData;\n\n      _Modal.confirm({\n        title: '提示',\n        content: '是否确认删除该条数据？',\n        okText: '确认',\n        cancelText: '取消',\n        onOk: function onOk() {\n          deleteMenu({\n            id: record.id\n          }).then(function (res) {\n            _message.success('删除成功');\n\n            getMenuData();\n          });\n        }\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(MenuTable, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _toJS = toJS(this.props.SystemStore),\n          menuData = _toJS.menuData,\n          PageInfo = _toJS.PageInfo,\n          isLoading = _toJS.isLoading; //定义表头\n\n\n      var columns = [{\n        title: '名称',\n        dataIndex: 'name',\n        key: 'name'\n      }, // {\n      //     title: '图标',\n      //     dataIndex: 'icon',\n      //     key: 'icon',\n      //     render: (text) => (\n      //         <div> {text}</div>\n      //         // <i class={text} style={{ width: 12, height: 12 }}></i>\n      //     )\n      // },\n      {\n        title: '类型',\n        dataIndex: 'type',\n        key: 'type',\n        render: function render(text, record) {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 34,\n              columnNumber: 21\n            }\n          }, text === 1 ? /*#__PURE__*/React.createElement(_Badge, {\n            color: \"#6236FF\",\n            text: \"\\u83DC\\u5355\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 35,\n              columnNumber: 39\n            }\n          }) : text === 2 ? /*#__PURE__*/React.createElement(_Badge, {\n            color: \"#FACC14\",\n            text: \"\\u6309\\u94AE\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 35,\n              columnNumber: 90\n            }\n          }) : /*#__PURE__*/React.createElement(_Badge, {\n            color: \"#009764\",\n            text: \"\\u76EE\\u5F55\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 35,\n              columnNumber: 128\n            }\n          }));\n        }\n      }, // {\n      //     title: '地址',\n      //     dataIndex: 'url',\n      //     key: 'url',\n      // },\n      {\n        title: '权限标识',\n        dataIndex: 'perms',\n        key: 'perms'\n      } // {\n      //     title: '操作',\n      //     align: 'right',\n      //     // render: (text, record) => (\n      //     //     <span>\n      //     //         <a onClick={e => this.props.SystemStore.modalChange(1, record)}>编辑</a>\n      //     //         {/*<Divider type=\"vertical\" />\n      //     //             <a onClick={e => this.delete(record)}>删除</a>\n      //     // <Divider type=\"vertical\" />\n      //     //         <a onClick={e => this.addLower(record)}>增加下级</a>*/}\n      //     //     </span>\n      //     // )\n      // }\n      ];\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          marginTop: 20\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 16\n        }\n      }, /*#__PURE__*/React.createElement(TableLayout, {\n        rowKey: \"id\",\n        loading: isLoading,\n        columns: columns,\n        dataSource: menuData,\n        pagination: PageInfo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }\n      }));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var getMenuData = this.props.SystemStore.getMenuData;\n      getMenuData();\n    }\n  }]);\n\n  return MenuTable;\n}(Component), _temp)) || _class) || _class);\nexport default MenuTable;","map":{"version":3,"sources":["/Users/shoen/Desktop/设备运维前端/bl-device-manage/src/layouts/SystemManager/SystemMenu/MenuTable.js"],"names":["React","Component","inject","observer","TableLayout","toJS","MenuTable","addLower","record","props","SystemStore","formData","parentId","id","modalVisible","delete","deleteMenu","getMenuData","confirm","title","content","okText","cancelText","onOk","then","res","success","menuData","PageInfo","isLoading","columns","dataIndex","key","render","text","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { inject, observer } from 'mobx-react';\nimport { Modal, message, Badge } from 'antd';\nimport TableLayout from 'Components/TableLayout'\nimport { toJS } from 'mobx';\n\n\n@inject('SystemStore')\n@observer\nclass MenuTable extends Component {\n    render() {\n        const { menuData, PageInfo, isLoading } = toJS(this.props.SystemStore)\n        //定义表头\n        const columns = [\n            {\n                title: '名称',\n                dataIndex: 'name',\n                key: 'name',\n            },\n            // {\n            //     title: '图标',\n            //     dataIndex: 'icon',\n            //     key: 'icon',\n            //     render: (text) => (\n            //         <div> {text}</div>\n            //         // <i class={text} style={{ width: 12, height: 12 }}></i>\n            //     )\n            // },\n            {\n                title: '类型',\n                dataIndex: 'type',\n                key: 'type',\n                render: (text, record) => (\n                    <div>\n                        {text === 1 ? <Badge color='#6236FF' text=\"菜单\" /> : text === 2 ? <Badge color='#FACC14' text=\"按钮\" /> : <Badge color='#009764' text=\"目录\" />}\n                    </div>\n                )\n            },\n            // {\n            //     title: '地址',\n            //     dataIndex: 'url',\n            //     key: 'url',\n            // },\n            {\n                title: '权限标识',\n                dataIndex: 'perms',\n                key: 'perms',\n            },\n            // {\n            //     title: '操作',\n            //     align: 'right',\n            //     // render: (text, record) => (\n            //     //     <span>\n            //     //         <a onClick={e => this.props.SystemStore.modalChange(1, record)}>编辑</a>\n            //     //         {/*<Divider type=\"vertical\" />\n            //     //             <a onClick={e => this.delete(record)}>删除</a>\n            //     // <Divider type=\"vertical\" />\n            //     //         <a onClick={e => this.addLower(record)}>增加下级</a>*/}\n            //     //     </span>\n            //     // )\n            // }\n        ];\n\n        return <div style={{ marginTop: 20 }}>\n            <TableLayout rowKey=\"id\" loading={isLoading} columns={columns} dataSource={menuData} pagination={PageInfo} />\n        </div>;\n    }\n    addLower = (record) => {\n        this.props.SystemStore.formData = {}\n        this.props.SystemStore.formData.parentId = record.id\n        this.props.SystemStore.modalVisible = true\n    }\n    delete = (record) => {\n        const { deleteMenu, getMenuData, } = this.props.SystemStore\n        Modal.confirm({\n            title: '提示',\n            content: '是否确认删除该条数据？',\n            okText: '确认',\n            cancelText: '取消',\n            onOk: () => {\n                deleteMenu({ id: record.id }).then(res => {\n                    message.success('删除成功')\n                    getMenuData()\n                })\n            },\n        });\n\n    }\n    componentDidMount() {\n        const { getMenuData, } = this.props.SystemStore\n        getMenuData()\n    }\n}\nexport default MenuTable;"]},"metadata":{},"sourceType":"module"}