{"ast":null,"code":"import \"antd/lib/modal/style\";\nimport _Modal from \"antd/lib/modal\";\nimport \"antd/lib/empty/style\";\nimport _Empty from \"antd/lib/empty\";\nimport \"antd/lib/row/style\";\nimport _Row from \"antd/lib/row\";\nimport \"antd/lib/col/style\";\nimport _Col from \"antd/lib/col\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/timeline/style\";\nimport _Timeline from \"antd/lib/timeline\";\nimport _classCallCheck from \"F:\\\\documents\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\documents\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"F:\\\\documents\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"F:\\\\documents\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"F:\\\\documents\\\\bl-device-manage\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\n\nvar _dec,\n    _class,\n    _temp,\n    _jsxFileName = \"F:\\\\documents\\\\bl-device-manage\\\\src\\\\layouts\\\\StatisticsManage\\\\DataPage\\\\StatisticsDialog.js\";\n\nimport React, { Component } from 'react';\nimport { inject, observer } from 'mobx-react';\nimport { CheckCircleOutlined, ClockCircleOutlined, CloseCircleOutlined } from '@ant-design/icons';\nimport { Form } from '@ant-design/compatible';\nimport '@ant-design/compatible/assets/index.css';\nimport GlobalModal from 'Components/GlobalModal';\nimport './index.less';\nvar SparepartsDialog = (_dec = inject('StatisticsStore'), _dec(_class = observer(_class = (_temp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SparepartsDialog, _Component);\n\n  function SparepartsDialog(props) {\n    var _this;\n\n    _classCallCheck(this, SparepartsDialog);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SparepartsDialog).call(this, props));\n\n    _this.handleOk = function (item) {\n      if (item) {\n        _this.props.StatisticsStore.getByLogId({\n          logId: item.id\n        });\n      }\n\n      _this.setState({\n        visible: !_this.state.visible\n      });\n    };\n\n    _this.onQueryMore = function () {\n      var _this$props$Statistic = _this.props.StatisticsStore,\n          getBreakenInfo = _this$props$Statistic.getBreakenInfo,\n          breakenPage = _this$props$Statistic.breakenPage,\n          deviceId = _this$props$Statistic.deviceId;\n      getBreakenInfo({\n        pageIndex: breakenPage.pageIndex + 1,\n        deviceId: deviceId\n      });\n    };\n\n    _this.state = {\n      val: 1,\n      visible: false\n    };\n    return _this;\n  }\n\n  _createClass(SparepartsDialog, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props$Statistic2 = this.props.StatisticsStore,\n          modalVisible = _this$props$Statistic2.modalVisible,\n          breakenInfo = _this$props$Statistic2.breakenInfo,\n          breakenPage = _this$props$Statistic2.breakenPage,\n          logInfo = _this$props$Statistic2.logInfo; // const devCurrent = {}\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24\n        },\n        __self: this\n      }, modalVisible && React.createElement(GlobalModal, {\n        title: '设备点检日志',\n        visible: modalVisible,\n        onOk: function onOk(e) {\n          return _this2.props.StatisticsStore.modalChange();\n        },\n        onCancel: function onCancel(e) {\n          return _this2.props.StatisticsStore.modalChange();\n        },\n        children: React.createElement(\"div\", {\n          className: \"device_log\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 30\n          },\n          __self: this\n        }, breakenInfo.length > 0 ? React.createElement(_Row, {\n          gutter: 24,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 32\n          },\n          __self: this\n        }, React.createElement(_Col, {\n          span: 24,\n          className: \"log_col statistics_log\",\n          style: {\n            margin: 0,\n            height: 600\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"ibox-title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 34\n          },\n          __self: this\n        }, \"\\u8BBE\\u5907\\u540D\\u79F0\"), React.createElement(\"div\", {\n          style: {\n            marginLeft: '40px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35\n          },\n          __self: this\n        }, React.createElement(_Timeline, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36\n          },\n          __self: this\n        }, breakenInfo.map(function (item, index) {\n          return React.createElement(_Timeline.Item, {\n            key: index,\n            dot: item.result === 1 ? React.createElement(CloseCircleOutlined, {\n              style: {\n                fontSize: '16px',\n                color: 'red'\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 42\n              },\n              __self: this\n            }) : item.result === 2 ? React.createElement(CheckCircleOutlined, {\n              style: {\n                fontSize: '16px',\n                color: 'green'\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 42\n              },\n              __self: this\n            }) : React.createElement(ClockCircleOutlined, {\n              style: {\n                fontSize: '16px',\n                color: 'gold'\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 42\n              },\n              __self: this\n            }),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 39\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"time-line-content\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 45\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"right\",\n            style: {\n              width: '100%'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 46\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 47\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 48\n            },\n            __self: this\n          }, item.operateUser)), item.result !== 1 ? React.createElement(\"ul\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 50\n            },\n            __self: this\n          }, React.createElement(\"li\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 51\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 52\n            },\n            __self: this\n          }, \"\\u72B6\\u6001\\uFF1A\"), React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 53\n            },\n            __self: this\n          }, item.result === 2 ? '正常点检' : '超时点检')), React.createElement(\"li\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 55\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 56\n            },\n            __self: this\n          }, \"\\u59D3\\u540D\\uFF1A\"), React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 57\n            },\n            __self: this\n          }, item.name)), React.createElement(\"li\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 59\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 60\n            },\n            __self: this\n          }, \"\\u5DE5\\u53F7\\uFF1A\"), React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 61\n            },\n            __self: this\n          }, item.userName)), React.createElement(\"li\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 71\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 72\n            },\n            __self: this\n          }, \"\\u70B9\\u68C0\\u5B8C\\u6210\\u65F6\\u95F4\\uFF1A\"), React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 73\n            },\n            __self: this\n          }, item.createTime)), React.createElement(\"li\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 75\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            onClick: function onClick(e) {\n              return _this2.handleOk(item);\n            },\n            style: {\n              color: '#6236FF',\n              cursor: 'pointer'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 76\n            },\n            __self: this\n          }, \"\\u67E5\\u770B\\u8BE6\\u60C5\"))) : React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 78\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 79\n            },\n            __self: this\n          }, \"\\u72B6\\u6001\\uFF1A\\u8D85\\u65F6\\u672A\\u70B9\\u68C0\"), React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 80\n            },\n            __self: this\n          }, \"\\u65F6\\u95F4\\uFF1A\", item.createTime)))));\n        })), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, breakenPage.total === breakenInfo.length ? '已加载全部' : React.createElement(_Button, {\n          type: \"primary\",\n          onClick: this.onQueryMore,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, \"\\u67E5\\u770B\\u66F4\\u591A\\u8BB0\\u5F55\"))))) : React.createElement(\"div\", {\n          style: {\n            borderTop: '1px solid #ccc'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }, React.createElement(_Empty, {\n          image: _Empty.PRESENTED_IMAGE_SIMPLE,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        }))),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24\n        },\n        __self: this\n      }), React.createElement(_Modal, {\n        title: \"\\u8BE6\\u60C5\",\n        visible: this.state.visible,\n        width: \"80%\",\n        onCancel: function onCancel(e) {\n          return _this2.setState({\n            visible: !_this2.state.visible\n          });\n        },\n        footer: [React.createElement(_Button, {\n          key: \"submit\",\n          type: \"primary\",\n          onClick: function onClick(e) {\n            return _this2.setState({\n              visible: !_this2.state.visible\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        }, \"\\u786E\\u5B9A\")],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"table-content-bk\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"breaken-table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, logInfo.length > 0 ? React.createElement(\"table\", {\n        border: \"1\",\n        style: {\n          width: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"\\u5185\\u5BB9\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \"\\u7ED3\\u679C\"), React.createElement(\"th\", {\n        style: {\n          borderBottom: 'none',\n          borderRight: 'none'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"\\u8BE6\\u60C5\")), !!logInfo.length && logInfo.map(function (item) {\n        return React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          className: \"breaken-content\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131\n          },\n          __self: this\n        }, item.content), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"breaken-result\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133\n          },\n          __self: this\n        }, item.contentType === 5 ? item.result.split(',').map(function (src) {\n          return src === 'undefined' ? '未上传图片' : React.createElement(\"img\", {\n            src: 'http://file.boranet.cn/' + src,\n            onClick: function onClick(e) {\n              return window.open('http://file.boranet.cn/' + src);\n            },\n            style: {\n              width: 100,\n              height: 100,\n              cursor: 'pointer',\n              marginRight: 5\n            },\n            alt: \"\\u56FE\\u7247\\u52A0\\u8F7D\\u5F02\\u5E38\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 134\n            },\n            __self: this\n          });\n        }) : item.contentType === 6 ? React.createElement(\"audio\", {\n          src: 'http://file.boranet.cn/' + item.result,\n          controls: \"controls\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134\n          },\n          __self: this\n        }, \"\\u60A8\\u7684\\u6D4F\\u89C8\\u5668\\u4E0D\\u652F\\u6301\\u97F3\\u9891\\u64AD\\u653E,\\u8BF7\\u5347\\u7EA7\\u5F53\\u524D\\u6D4F\\u89C8\\u5668\\u6216\\u6362\\u4E2A\\u6D4F\\u89C8\\u5668\\u8BD5\\u8BD5\\u5427\") : item.result)), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"breaken-detail\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }, item.resultVOList && item.resultVOList.map(function (log) {\n          return React.createElement(\"tr\", {\n            style: {\n              height: '100%'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 142\n            },\n            __self: this\n          }, React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 143\n            },\n            __self: this\n          }, log.content), React.createElement(\"td\", {\n            className: \"breaken-result\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 144\n            },\n            __self: this\n          }, log.contentType === 5 ? log.result.split(',').map(function (src) {\n            return React.createElement(\"img\", {\n              src: 'http://file.boranet.cn/' + src,\n              onClick: function onClick(e) {\n                return window.open('http://file.boranet.cn/' + src);\n              },\n              style: {\n                width: 50,\n                height: 50,\n                cursor: 'pointer',\n                marginRight: 5\n              },\n              alt: \"\\u56FE\\u7247\\u52A0\\u8F7D\\u5F02\\u5E38\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 144\n              },\n              __self: this\n            });\n          }) : log.contentType === 6 ? React.createElement(\"audio\", {\n            src: 'http://file.boranet.cn/' + log.result,\n            controls: \"controls\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 144\n            },\n            __self: this\n          }, \"\\u60A8\\u7684\\u6D4F\\u89C8\\u5668\\u4E0D\\u652F\\u6301\\u97F3\\u9891\\u64AD\\u653E,\\u8BF7\\u5347\\u7EA7\\u5F53\\u524D\\u6D4F\\u89C8\\u5668\\u6216\\u6362\\u4E2A\\u6D4F\\u89C8\\u5668\\u8BD5\\u8BD5\\u5427\") : log.result));\n        }))));\n      })) : React.createElement(_Empty, {\n        image: _Empty.PRESENTED_IMAGE_SIMPLE,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      })))));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {}\n  }]);\n\n  return SparepartsDialog;\n}(Component), _temp)) || _class) || _class);\nvar SparepartsDialogForm = Form.create({\n  name: 'define'\n})(SparepartsDialog);\nexport default SparepartsDialogForm;","map":{"version":3,"sources":["F:\\documents\\bl-device-manage\\src\\layouts\\StatisticsManage\\DataPage\\StatisticsDialog.js"],"names":["React","Component","inject","observer","CheckCircleOutlined","ClockCircleOutlined","CloseCircleOutlined","Form","GlobalModal","SparepartsDialog","props","handleOk","item","StatisticsStore","getByLogId","logId","id","setState","visible","state","onQueryMore","getBreakenInfo","breakenPage","deviceId","pageIndex","val","modalVisible","breakenInfo","logInfo","e","modalChange","length","margin","height","marginLeft","map","index","result","fontSize","color","width","operateUser","name","userName","createTime","cursor","total","borderTop","PRESENTED_IMAGE_SIMPLE","borderBottom","borderRight","content","contentType","split","src","window","open","marginRight","resultVOList","log","SparepartsDialogForm","create"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { inject, observer } from 'mobx-react';\r\nimport { CheckCircleOutlined, ClockCircleOutlined, CloseCircleOutlined } from '@ant-design/icons';\r\nimport { Form } from '@ant-design/compatible';\r\nimport '@ant-design/compatible/assets/index.css';\r\nimport { Timeline, Empty, Row, Col, Button, Modal } from 'antd';\r\nimport GlobalModal from 'Components/GlobalModal';\r\nimport './index.less';\r\n\r\n@inject('StatisticsStore')\r\n@observer\r\nclass SparepartsDialog extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            val: 1,\r\n            visible: false\r\n        }\r\n    }\r\n    render() {\r\n        const { modalVisible, breakenInfo, breakenPage, logInfo } = this.props.StatisticsStore\r\n        // const devCurrent = {}\r\n        return (\r\n            <div>{modalVisible && <GlobalModal\r\n                title={'设备点检日志'}\r\n                visible={modalVisible}\r\n                onOk={e => this.props.StatisticsStore.modalChange()}\r\n                onCancel={e => this.props.StatisticsStore.modalChange()}\r\n                children={\r\n                    <div className='device_log' >\r\n                        {breakenInfo.length > 0 ? (\r\n                            <Row gutter={24}>\r\n                                <Col span={24} className='log_col statistics_log' style={{ margin: 0, height: 600 }}>\r\n                                    <div className='ibox-title'>设备名称</div>\r\n                                    <div style={{ marginLeft: '40px' }}>\r\n                                        <Timeline>\r\n                                            {breakenInfo.map((item, index) => {\r\n                                                return (\r\n                                                    <Timeline.Item\r\n                                                        key={index}\r\n                                                        dot={\r\n                                                            item.result === 1 ? <CloseCircleOutlined style={{ fontSize: '16px', color: 'red' }} /> : item.result === 2 ? <CheckCircleOutlined style={{ fontSize: '16px', color: 'green' }} /> : <ClockCircleOutlined style={{ fontSize: '16px', color: 'gold' }} />\r\n                                                        }\r\n                                                    >\r\n                                                        <div className='time-line-content'>\r\n                                                            <div className='right' style={{ width: '100%' }}>\r\n                                                                <div>\r\n                                                                    <span>{item.operateUser}</span>\r\n                                                                </div>\r\n                                                                {item.result !== 1 ? <ul>\r\n                                                                    <li>\r\n                                                                        <span>状态：</span>\r\n                                                                        <span>{item.result === 2 ? '正常点检' : '超时点检'}</span>\r\n                                                                    </li>\r\n                                                                    <li>\r\n                                                                        <span>姓名：</span>\r\n                                                                        <span>{item.name}</span>\r\n                                                                    </li>\r\n                                                                    <li>\r\n                                                                        <span>工号：</span>\r\n                                                                        <span>{item.userName}</span>\r\n                                                                    </li>\r\n                                                                   {/* <li>\r\n                                                                        <span>点检内容：</span>\r\n                                                                        <span>{item.content}</span>\r\n                                                                    </li>\r\n                                                                    <li>\r\n                                                                        <span>备注：</span>\r\n                                                                        <span>{item.remark}</span>\r\n                                                                   </li>*/}\r\n                                                                    <li>\r\n                                                                        <span>点检完成时间：</span>\r\n                                                                        <span>{item.createTime}</span>\r\n                                                                    </li>\r\n                                                                    <li>\r\n                                                                        <span onClick={e => this.handleOk(item)} style={{ color: '#6236FF', cursor: 'pointer' }}>查看详情</span>\r\n                                                                    </li>\r\n                                                                </ul> : <div>\r\n                                                                        <div>状态：超时未点检</div>\r\n                                                                        <div>时间：{item.createTime}</div>\r\n                                                                    </div>}\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </Timeline.Item>\r\n                                                );\r\n                                            })}\r\n                                        </Timeline>\r\n                                        <div>\r\n                                            {breakenPage.total === breakenInfo.length ? '已加载全部' : <Button type='primary' onClick={this.onQueryMore}>查看更多记录</Button>}\r\n                                        </div>\r\n                                    </div>\r\n                                </Col>\r\n                            </Row>\r\n                        ) : (\r\n                                <div\r\n                                    style={{\r\n                                        borderTop: '1px solid #ccc'\r\n                                    }}\r\n                                >\r\n                                    <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} />\r\n                                </div>\r\n                            )}\r\n                    </div>\r\n                }\r\n            />}\r\n                <Modal\r\n                    title=\"详情\"\r\n                    visible={this.state.visible}\r\n                    width='80%'\r\n                    onCancel={e => this.setState({\r\n                        visible: !this.state.visible\r\n                    })}\r\n                    footer={[\r\n                        <Button key=\"submit\" type=\"primary\" onClick={e => this.setState({\r\n                            visible: !this.state.visible\r\n                        })}>\r\n                            确定\r\n                        </Button>\r\n                    ]}\r\n                >\r\n                    <div className='table-content-bk'>\r\n                        <div className='breaken-table'>\r\n                            {logInfo.length > 0 ? <table border=\"1\" style={{ width: '100%' }}>\r\n                                <tr>\r\n                                    <th>内容</th>\r\n                                    <th>结果</th>\r\n                                    <th style={{ borderBottom: 'none', borderRight: 'none' }}>详情</th>\r\n                                </tr>\r\n                                {!!logInfo.length && logInfo.map(item => (\r\n                                    <tr>\r\n                                        <td className='breaken-content'>{item.content}</td>\r\n                                        <td>\r\n                                            <div className='breaken-result'>\r\n                                                {item.contentType === 5 ? item.result.split(',').map(src => (src === 'undefined' ? '未上传图片' : <img src={'http://file.boranet.cn/' + src} onClick={e => window.open('http://file.boranet.cn/' + src)} style={{ width: 100, height: 100, cursor: 'pointer', marginRight: 5 }} alt='图片加载异常' />)) : item.contentType === 6 ? <audio src={'http://file.boranet.cn/' + item.result} controls=\"controls\">\r\n                                                    您的浏览器不支持音频播放,请升级当前浏览器或换个浏览器试试吧\r\n                                </audio> : item.result}\r\n                                            </div>\r\n                                        </td>\r\n                                        <td>\r\n                                            <div className='breaken-detail' >\r\n                                                {item.resultVOList && item.resultVOList.map(log => (\r\n                                                    <tr style={{ height: '100%' }}>\r\n                                                        <td >{log.content}</td>\r\n                                                        <td className='breaken-result'>{log.contentType === 5 ? log.result.split(',').map(src => (<img src={'http://file.boranet.cn/' + src} onClick={e => window.open('http://file.boranet.cn/' + src)} style={{ width: 50, height: 50, cursor: 'pointer', marginRight: 5 }} alt='图片加载异常' />)) : log.contentType === 6 ? <audio src={'http://file.boranet.cn/' + log.result} controls=\"controls\">\r\n                                                            您的浏览器不支持音频播放,请升级当前浏览器或换个浏览器试试吧\r\n        </audio> : log.result}</td>\r\n                                                    </tr>\r\n                                                ))}\r\n                                            </div>\r\n                                        </td>\r\n\r\n                                    </tr>\r\n                                ))}\r\n                            </table> : <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} />}\r\n                        </div>\r\n                    </div>\r\n                </Modal>\r\n            </div>\r\n        );\r\n    }\r\n    handleOk = item => {\r\n        if (item) {\r\n            this.props.StatisticsStore.getByLogId({ logId: item.id })\r\n        }\r\n        this.setState({\r\n            visible: !this.state.visible\r\n        });\r\n    };\r\n    onQueryMore = () => {\r\n        const { getBreakenInfo, breakenPage, deviceId } = this.props.StatisticsStore\r\n        getBreakenInfo({ pageIndex: breakenPage.pageIndex + 1, deviceId })\r\n    }\r\n    componentDidMount() {\r\n\r\n    }\r\n}\r\nconst SparepartsDialogForm = Form.create({ name: 'define' })(SparepartsDialog);\r\nexport default SparepartsDialogForm;"]},"metadata":{},"sourceType":"module"}