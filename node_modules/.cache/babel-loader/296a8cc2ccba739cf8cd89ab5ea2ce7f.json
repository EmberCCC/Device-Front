{"ast":null,"code":"import \"antd/lib/table/style\";\nimport _Table from \"antd/lib/table\";\nimport \"antd/lib/message/style\";\nimport _message from \"antd/lib/message\";\nimport \"antd/lib/modal/style\";\nimport _Modal from \"antd/lib/modal\";\nimport \"antd/lib/divider/style\";\nimport _Divider from \"antd/lib/divider\";\nimport _classCallCheck from \"F:\\\\documents\\\\bl-device-manage-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\documents\\\\bl-device-manage-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"F:\\\\documents\\\\bl-device-manage-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"F:\\\\documents\\\\bl-device-manage-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"F:\\\\documents\\\\bl-device-manage-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\n\nvar _dec,\n    _dec2,\n    _class,\n    _temp,\n    _jsxFileName = \"F:\\\\documents\\\\bl-device-manage-test\\\\src\\\\layouts\\\\BasicManage\\\\ComputerPage\\\\index.js\";\n\n/*\r\n * @Author: your name\r\n * @Date: 2022-04-02 11:12:08\r\n * @LastEditTime: 2022-04-07 20:57:16\r\n * @LastEditors: Please set LastEditors\r\n * @Description: 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n * @FilePath: \\bl-device-manage-test\\src\\layouts\\BasicManage\\ComputerPage\\index.js\r\n */\nimport { inject, observer } from 'mobx-react';\nimport React, { Component } from 'react';\nimport GlobalForm from 'components/GlobalForm';\nimport { MenuObj } from 'constants/configs';\nimport { checkCurrentMenu } from 'utils/dataTools';\nimport { toJS } from 'mobx';\nimport GlobalTabel from 'components/GlobalTabel';\nvar ComputerPage = (_dec = inject('BasicStore'), _dec2 = inject('HomeStore'), _dec(_class = _dec2(_class = observer(_class = (_temp =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ComputerPage, _React$Component);\n\n  function ComputerPage() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ComputerPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ComputerPage)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.onChange = function (e) {\n      _this.props.BasicStore.PageInfo = e;\n      _this.props.BasicStore.PageInfo.pageIndex = e.current;\n      var PageInfo = _this.props.BasicStore.PageInfo;\n      console.log(PageInfo);\n\n      _this.getData();\n    };\n\n    _this.getColumns = function () {\n      getData();\n      var columns = _this.props.BasicStore.columns;\n      var operation = {\n        title: '操作',\n        key: 'x',\n        align: 'right',\n        render: function render(text, record) {\n          return React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 54\n            },\n            __self: this\n          }, React.createElement(\"a\", {\n            onClick: function onClick(e) {\n              return _this.edit(record);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 55\n            },\n            __self: this\n          }, \"\\u7F16\\u8F91\"), React.createElement(_Divider, {\n            type: \"vertical\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 56\n            },\n            __self: this\n          }), React.createElement(\"a\", {\n            onClick: function onClick(e) {\n              return _this.delete(record);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 58\n            },\n            __self: this\n          }, \"\\u5220\\u9664\"));\n        }\n      };\n      columns.push(operation);\n      console.log(_this.props.BasicStore.columns);\n      return columns;\n    };\n\n    _this.edit = function (txt) {\n      console.log(txt);\n    };\n\n    _this.delete = function (txt) {\n      _Modal.confirm({\n        title: '提示',\n        content: '是否确认删除该条数据',\n        okText: '确认',\n        cancelText: '取消',\n        onOk: function onOk() {\n          _message.success('删除成功');\n\n          console.log(txt);\n          console.log(txt.id);\n        },\n        onCancel: function onCancel() {\n          console.log('Cancel');\n        }\n      });\n    };\n\n    _this.getData = function () {\n      var PageInfo = _this.props.BasicStore.PageInfo;\n      var selectedKeys = _this.props.HomeStore.selectedKeys;\n      var actionId = selectedKeys[0];\n      var menuObj = toJS(MenuObj.leafMenuModels);\n      var current = checkCurrentMenu({\n        menuObj: menuObj,\n        actionId: actionId\n      });\n      var params = {};\n      params.firstFormId = current.currentMenu[0].id.toString();\n      params.pageIndex = PageInfo.pageIndex;\n      params.PageSize = PageInfo.PageSize;\n\n      _this.props.BasicStore.queryAll(params);\n    };\n\n    return _this;\n  }\n\n  _createClass(ComputerPage, [{\n    key: \"render\",\n    value: function render() {\n      var model = this.props.HomeStore.model;\n      var dataSource = this.props.BasicStore.dataSource;\n      var PageInfo = this.props.BasicStore.PageInfo;\n\n      if (model == 'look') {\n        return React.createElement(_Table, {\n          columns: this.getColumns(),\n          dataSource: dataSource,\n          pagination: PageInfo,\n          onChange: this.onChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 30\n          },\n          __self: this\n        }); // return <Table columns={this.getColumns()} dataSource={dataSource} pagination={PageInfo}></Table>;\n      } else {\n        return React.createElement(GlobalTabel, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33\n          },\n          __self: this\n        });\n      }\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.getData();\n    }\n  }]);\n\n  return ComputerPage;\n}(React.Component), _temp)) || _class) || _class) || _class);\nexport default ComputerPage;","map":{"version":3,"sources":["F:\\documents\\bl-device-manage-test\\src\\layouts\\BasicManage\\ComputerPage\\index.js"],"names":["inject","observer","React","Component","GlobalForm","MenuObj","checkCurrentMenu","toJS","GlobalTabel","ComputerPage","onChange","e","props","BasicStore","PageInfo","pageIndex","current","console","log","getData","getColumns","columns","operation","title","key","align","render","text","record","edit","delete","push","txt","confirm","content","okText","cancelText","onOk","success","id","onCancel","selectedKeys","HomeStore","actionId","menuObj","leafMenuModels","params","firstFormId","currentMenu","toString","PageSize","queryAll","model","dataSource"],"mappings":"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","sourcesContent":["/*\r\n * @Author: your name\r\n * @Date: 2022-04-02 11:12:08\r\n * @LastEditTime: 2022-04-07 20:57:16\r\n * @LastEditors: Please set LastEditors\r\n * @Description: 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n * @FilePath: \\bl-device-manage-test\\src\\layouts\\BasicManage\\ComputerPage\\index.js\r\n */\r\n\r\nimport { inject, observer } from 'mobx-react'\r\nimport React, { Component } from 'react'\r\nimport { Table, Modal, message, Divider } from 'antd'\r\nimport GlobalForm from 'components/GlobalForm';\r\nimport { MenuObj } from 'constants/configs';\r\nimport { checkCurrentMenu } from 'utils/dataTools';\r\nimport { toJS } from 'mobx';\r\nimport GlobalTabel from 'components/GlobalTabel';\r\n\r\n\r\n@inject('BasicStore')\r\n@inject('HomeStore')\r\n@observer\r\nclass ComputerPage extends React.Component {\r\n\r\n  render() {\r\n    const { model } = this.props.HomeStore;\r\n    const { dataSource } = this.props.BasicStore;\r\n    const { PageInfo } = this.props.BasicStore;\r\n    if (model == 'look') {\r\n      return <Table columns={this.getColumns()} dataSource={dataSource} pagination={PageInfo} onChange={this.onChange}></Table>;\r\n      // return <Table columns={this.getColumns()} dataSource={dataSource} pagination={PageInfo}></Table>;\r\n    } else {\r\n      return <GlobalTabel />\r\n\r\n    }\r\n\r\n\r\n  }\r\n  onChange = (e) => {\r\n    this.props.BasicStore.PageInfo = e;\r\n    this.props.BasicStore.PageInfo.pageIndex = e.current\r\n    const { PageInfo } = this.props.BasicStore;\r\n    console.log(PageInfo);\r\n    this.getData()\r\n  }\r\n  getColumns = () => {\r\n    getData()\r\n    const columns = this.props.BasicStore.columns\r\n    const operation = {\r\n      title: '操作',\r\n      key: 'x',\r\n      align: 'right',\r\n      render: (text, record) => (\r\n        <span>\r\n          <a onClick={e => this.edit(record)}>编辑</a>\r\n          <Divider type=\"vertical\" />\r\n          {/* <a onClick={e => this.delete(record)}>删除</a> */}\r\n          <a onClick={e => this.delete(record)}>删除</a>\r\n        </span>\r\n      )\r\n\r\n    }\r\n    columns.push(operation)\r\n    console.log(this.props.BasicStore.columns);\r\n    return columns\r\n  }\r\n  edit = (txt) => {\r\n    console.log(txt);\r\n  }\r\n  delete = (txt) => {\r\n    Modal.confirm({\r\n      title: '提示',\r\n      content: '是否确认删除该条数据',\r\n      okText: '确认',\r\n      cancelText: '取消',\r\n      onOk() {\r\n        message.success('删除成功')\r\n        console.log(txt);\r\n        console.log(txt.id);\r\n      },\r\n      onCancel() {\r\n        console.log('Cancel');\r\n      },\r\n    });\r\n  }\r\n\r\n  getData = () => {\r\n    const { PageInfo } = this.props.BasicStore;\r\n    const { selectedKeys } = this.props.HomeStore;\r\n    let actionId = selectedKeys[0];\r\n    let menuObj = toJS(MenuObj.leafMenuModels);\r\n    let current = checkCurrentMenu({ menuObj, actionId });\r\n    let params = {};\r\n    params.firstFormId = current.currentMenu[0].id.toString();\r\n    params.pageIndex = PageInfo.pageIndex\r\n    params.PageSize = PageInfo.PageSize\r\n    this.props.BasicStore.queryAll(params);\r\n  }\r\n  componentWillMount() {\r\n    this.getData();\r\n  }\r\n}\r\n\r\nexport default ComputerPage;\r\n"]},"metadata":{},"sourceType":"module"}