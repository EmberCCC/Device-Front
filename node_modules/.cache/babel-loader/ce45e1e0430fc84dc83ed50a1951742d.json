{"ast":null,"code":"function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/*\r\n * @Author: EmberCCC 1810888456@qq.com\r\n * @Date: 2022-07-05 10:16:45\r\n * @LastEditors: EmberCCC 1810888456@qq.com\r\n * @LastEditTime: 2022-07-05 11:15:48\r\n * @FilePath: \\bl-device-manage-test\\src\\layouts\\FormEdit\\changeTool.js\r\n * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n */\nimport { firstFormName } from \"constants/status_constant\";\nexport function exChange(item, firstFormId) {\n  var params = {};\n  var pro = {};\n  var subForms = [];\n  params.formId = firstFormId;\n  params.formName = firstFormName[firstFormId];\n\n  for (var key in item) {\n    if (key != 'properties') {\n      pro[key] = item[key];\n    } else {\n      var field = [];\n      var obj = {};\n      obj['name'] = 'root';\n\n      for (var keyP in item[key]) {\n        var iObj = {};\n\n        if (keyP.hasOwnProperty('fieldId')) {\n          iObj['fieldId'] = keyP['fieldId'];\n        }\n\n        iObj['name'] = keyP;\n        iObj['typeId'] = keyP.split('_')[0];\n        iObj['detailJson'] = item[key][keyP];\n        field.push(iObj);\n      }\n\n      obj['fields'] = field;\n      subForms.push(obj);\n    }\n  }\n\n  params['properties'] = pro;\n  params['subForms'] = subForms;\n  return params;\n}\nexport function restore(obj) {\n  var formItem = {}; // if (obj['form']['formFields']) {\n  //     console.log(obj['form']['formFields']);\n  // }\n\n  var _iterator = _createForOfIteratorHelper(obj['properties']),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var iterator = _step.value;\n      formItem[iterator] = obj['properties'][iterator];\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  console.log(formItem);\n  console.log(obj);\n}","map":{"version":3,"names":["firstFormName","exChange","item","firstFormId","params","pro","subForms","formId","formName","key","field","obj","keyP","iObj","hasOwnProperty","split","push","restore","formItem","iterator","console","log"],"sources":["F:/documents/bl-device-manage-test/src/layouts/FormEdit/changeTool.js"],"sourcesContent":["/*\r\n * @Author: EmberCCC 1810888456@qq.com\r\n * @Date: 2022-07-05 10:16:45\r\n * @LastEditors: EmberCCC 1810888456@qq.com\r\n * @LastEditTime: 2022-07-05 11:15:48\r\n * @FilePath: \\bl-device-manage-test\\src\\layouts\\FormEdit\\changeTool.js\r\n * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n */\r\nimport { firstFormName } from \"constants/status_constant\";\r\n\r\nexport function exChange(item,firstFormId){\r\n    let params = {};\r\n    let pro = {};\r\n    let subForms = [];\r\n    params.formId = firstFormId;\r\n    params.formName = firstFormName[firstFormId]\r\n    for (const key in item) {\r\n      if (key != 'properties') {\r\n        pro[key] = item[key];\r\n      }else{\r\n        let field = [];\r\n        let obj = {};\r\n        obj['name'] = 'root';\r\n        for (const keyP in item[key]) {\r\n          let iObj = {};\r\n          if(keyP.hasOwnProperty('fieldId')){\r\n            iObj['fieldId'] = keyP['fieldId'];\r\n          }\r\n          iObj['name'] = keyP\r\n          iObj['typeId'] = keyP.split('_')[0]\r\n          iObj['detailJson'] = item[key][keyP]\r\n          field.push(iObj);\r\n        }\r\n        obj['fields'] = field\r\n        subForms.push(obj)\r\n      }\r\n    }\r\n    params['properties'] = pro\r\n    params['subForms'] = subForms\r\n    return params;\r\n}\r\n\r\nexport function restore(obj){\r\n    let formItem = {}\r\n    // if (obj['form']['formFields']) {\r\n    //     console.log(obj['form']['formFields']);\r\n    // }\r\n    for (const iterator of obj['properties']) {\r\n      formItem[iterator] = obj['properties'][iterator]\r\n    }\r\n    console.log(formItem);\r\n    console.log(obj);\r\n}"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,aAAT,QAA8B,2BAA9B;AAEA,OAAO,SAASC,QAAT,CAAkBC,IAAlB,EAAuBC,WAAvB,EAAmC;EACtC,IAAIC,MAAM,GAAG,EAAb;EACA,IAAIC,GAAG,GAAG,EAAV;EACA,IAAIC,QAAQ,GAAG,EAAf;EACAF,MAAM,CAACG,MAAP,GAAgBJ,WAAhB;EACAC,MAAM,CAACI,QAAP,GAAkBR,aAAa,CAACG,WAAD,CAA/B;;EACA,KAAK,IAAMM,GAAX,IAAkBP,IAAlB,EAAwB;IACtB,IAAIO,GAAG,IAAI,YAAX,EAAyB;MACvBJ,GAAG,CAACI,GAAD,CAAH,GAAWP,IAAI,CAACO,GAAD,CAAf;IACD,CAFD,MAEK;MACH,IAAIC,KAAK,GAAG,EAAZ;MACA,IAAIC,GAAG,GAAG,EAAV;MACAA,GAAG,CAAC,MAAD,CAAH,GAAc,MAAd;;MACA,KAAK,IAAMC,IAAX,IAAmBV,IAAI,CAACO,GAAD,CAAvB,EAA8B;QAC5B,IAAII,IAAI,GAAG,EAAX;;QACA,IAAGD,IAAI,CAACE,cAAL,CAAoB,SAApB,CAAH,EAAkC;UAChCD,IAAI,CAAC,SAAD,CAAJ,GAAkBD,IAAI,CAAC,SAAD,CAAtB;QACD;;QACDC,IAAI,CAAC,MAAD,CAAJ,GAAeD,IAAf;QACAC,IAAI,CAAC,QAAD,CAAJ,GAAiBD,IAAI,CAACG,KAAL,CAAW,GAAX,EAAgB,CAAhB,CAAjB;QACAF,IAAI,CAAC,YAAD,CAAJ,GAAqBX,IAAI,CAACO,GAAD,CAAJ,CAAUG,IAAV,CAArB;QACAF,KAAK,CAACM,IAAN,CAAWH,IAAX;MACD;;MACDF,GAAG,CAAC,QAAD,CAAH,GAAgBD,KAAhB;MACAJ,QAAQ,CAACU,IAAT,CAAcL,GAAd;IACD;EACF;;EACDP,MAAM,CAAC,YAAD,CAAN,GAAuBC,GAAvB;EACAD,MAAM,CAAC,UAAD,CAAN,GAAqBE,QAArB;EACA,OAAOF,MAAP;AACH;AAED,OAAO,SAASa,OAAT,CAAiBN,GAAjB,EAAqB;EACxB,IAAIO,QAAQ,GAAG,EAAf,CADwB,CAExB;EACA;EACA;;EAJwB,2CAKDP,GAAG,CAAC,YAAD,CALF;EAAA;;EAAA;IAKxB,oDAA0C;MAAA,IAA/BQ,QAA+B;MACxCD,QAAQ,CAACC,QAAD,CAAR,GAAqBR,GAAG,CAAC,YAAD,CAAH,CAAkBQ,QAAlB,CAArB;IACD;EAPuB;IAAA;EAAA;IAAA;EAAA;;EAQxBC,OAAO,CAACC,GAAR,CAAYH,QAAZ;EACAE,OAAO,CAACC,GAAR,CAAYV,GAAZ;AACH"},"metadata":{},"sourceType":"module"}