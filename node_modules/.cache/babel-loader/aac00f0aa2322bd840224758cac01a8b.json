{"ast":null,"code":"import \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\nimport _slicedToArray from \"F:\\\\documents\\\\bl-device-manage-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport \"antd/lib/select/style\";\nimport _Select from \"antd/lib/select\";\nvar _jsxFileName = \"F:\\\\documents\\\\bl-device-manage-test\\\\src\\\\components\\\\GlobalForm\\\\index.js\";\n\n/*\r\n * @Author: your name\r\n * @Date: 2022-04-05 11:02:45\r\n * @LastEditTime: 2022-04-05 11:28:52\r\n * @LastEditors: Please set LastEditors\r\n * @Description: 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n * @FilePath: \\bl-device-manage-test\\src\\components\\GlobalForm\\index.js\r\n */\nimport React, { useState } from 'react';\nimport { GlobalComponent } from 'layouts/TableEdit/config';\nvar Option = _Select.Option;\n\nfunction GlobalForm() {\n  var _useState = useState([{\n    name: 'zhangsan',\n    mobile: '15011176302'\n  }]),\n      _useState2 = _slicedToArray(_useState, 2),\n      contacts = _useState2[0],\n      setContacts = _useState2[1];\n\n  var formLayout = {\n    labelCol: {\n      span: 8\n    },\n    wrapperCol: {\n      span: 16\n    }\n  };\n\n  var _Form$useForm = _Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var submitForm = function submitForm() {\n    form.validateFields().then(function (values) {\n      console.log(values);\n    });\n  };\n\n  var renderDiffComponents = function renderDiffComponents(item, indexs, ComponentInfo) {\n    switch (item.name) {\n      case 'Divider':\n        return React.createElement(ComponentInfo, Object.assign({\n          key: indexs\n        }, item.attr, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 30\n          },\n          __self: this\n        }));\n\n      case 'Select':\n        return React.createElement(ComponentInfo, {\n          key: indexs,\n          defaultValue: item.attr.defaultValue,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33\n          },\n          __self: this\n        }, item.attr.options.map(function (subItem) {\n          return React.createElement(Option, {\n            key: subItem.key,\n            value: subItem.value + '',\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 35\n            },\n            __self: this\n          }, subItem.label);\n        }));\n\n      default:\n        return React.createElement(ComponentInfo, Object.assign({\n          key: indexs\n        }, item.attr, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40\n          },\n          __self: this\n        }));\n    }\n  }; // 递归函数\n\n\n  var loop = function loop(arr, index) {\n    console.log(itemData);\n    return arr.map(function (item, i) {\n      var indexs = index === '' ? String(i) : \"\".concat(index, \"-\").concat(i);\n\n      if (item) {\n        if (item.children) {\n          return React.createElement(\"div\", Object.assign({}, item.attr, {\n            \"data-id\": indexs,\n            key: indexs,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 53\n            },\n            __self: this\n          }), loop(item.children, indexs));\n        }\n\n        var ComponentInfo = GlobalComponent[item.name];\n        return React.createElement(\"div\", {\n          \"data-id\": indexs,\n          key: indexs,\n          type: item.name,\n          className: \"formItemStyle\",\n          style: isChoose && indexs === curItemKey ? {\n            border: '1px solid #FF3333'\n          } : {},\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, item.name !== 'Divider' && React.createElement(\"div\", {\n          className: \"formItemLabel\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, isChoose ? indexs === curItemKey ? curItemName : item.label : item.label), renderDiffComponents(item, indexs, ComponentInfo));\n      } else {\n        return null;\n      }\n    });\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, \"111\");\n}\n\nexport default GlobalForm;","map":{"version":3,"sources":["F:\\documents\\bl-device-manage-test\\src\\components\\GlobalForm\\index.js"],"names":["React","useState","GlobalComponent","Option","GlobalForm","name","mobile","contacts","setContacts","formLayout","labelCol","span","wrapperCol","useForm","form","submitForm","validateFields","then","values","console","log","renderDiffComponents","item","indexs","ComponentInfo","attr","defaultValue","options","map","subItem","key","value","label","loop","arr","index","itemData","i","String","children","isChoose","curItemKey","border","curItemName"],"mappings":"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","sourcesContent":["/*\r\n * @Author: your name\r\n * @Date: 2022-04-05 11:02:45\r\n * @LastEditTime: 2022-04-05 11:28:52\r\n * @LastEditors: Please set LastEditors\r\n * @Description: 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n * @FilePath: \\bl-device-manage-test\\src\\components\\GlobalForm\\index.js\r\n */\r\n\r\nimport React, { useState } from 'react'\r\nimport { Form, Input, Button, Row, Col,Select } from 'antd'\r\nimport { GlobalComponent } from 'layouts/TableEdit/config';\r\n\r\nconst { Option } = Select;\r\n\r\nfunction GlobalForm() {\r\n    const [contacts, setContacts] = useState([{ name: 'zhangsan', mobile: '15011176302' }])\r\n    const formLayout = { labelCol: { span: 8 }, wrapperCol: { span: 16 } }\r\n    const [form] = Form.useForm()\r\n    const submitForm = () => {\r\n        form.validateFields()\r\n            .then(values => {\r\n                console.log(values);\r\n            })\r\n    }\r\n\r\n    const renderDiffComponents = (item, indexs, ComponentInfo) => {\r\n        switch (item.name) {\r\n            case 'Divider':\r\n                return <ComponentInfo key={indexs} {...item.attr}></ComponentInfo>\r\n            case 'Select':\r\n                return (\r\n                    <ComponentInfo key={indexs} defaultValue={item.attr.defaultValue}>\r\n                        {\r\n                            item.attr.options.map(subItem => <Option key={subItem.key} value={subItem.value + ''}>{subItem.label}</Option>)\r\n                        }\r\n                    </ComponentInfo>\r\n                )\r\n            default:\r\n                return <ComponentInfo key={indexs} {...item.attr} />\r\n        }\r\n    }\r\n\r\n      // 递归函数\r\n  const loop = (arr, index) => {\r\n    console.log(itemData)\r\n    return (\r\n      arr.map((item, i) => {\r\n        const indexs = index === '' ? String(i) : `${index}-${i}`;\r\n        if (item) {\r\n          if (item.children) {\r\n            return (\r\n              <div {...item.attr} data-id={indexs} key={indexs}>\r\n                  {loop(item.children, indexs)}\r\n              </div>\r\n            )\r\n          }\r\n          const ComponentInfo = GlobalComponent[item.name]\r\n          return (\r\n            <div\r\n              data-id={indexs}\r\n              key={indexs}\r\n              type={item.name}\r\n              className='formItemStyle'\r\n              style={(isChoose && indexs === curItemKey) ? { border: '1px solid #FF3333' } : {}}\r\n            >\r\n              {\r\n                item.name !== 'Divider' &&\r\n                <div className='formItemLabel'>{isChoose ? (indexs === curItemKey ? curItemName : item.label) : item.label}</div>\r\n              }\r\n              {\r\n                renderDiffComponents(item, indexs, ComponentInfo)\r\n              }\r\n            </div>\r\n          )\r\n        } else {\r\n          return null\r\n        }\r\n      })\r\n    )\r\n  };\r\n    return <div>111</div>\r\n}\r\nexport default GlobalForm"]},"metadata":{},"sourceType":"module"}