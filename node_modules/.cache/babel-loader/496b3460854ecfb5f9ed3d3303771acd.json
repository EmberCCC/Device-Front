{"ast":null,"code":"import \"antd/es/card/style\";\nimport _Card from \"antd/es/card\";\nimport \"antd/es/collapse/style\";\nimport _Collapse from \"antd/es/collapse\";\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nimport React, { useEffect, useState } from 'react';\nimport cn from 'classnames';\nimport { useStore2 } from '../../form-render-core/src/hooks';\nvar Panel = _Collapse.Panel;\nexport default function Map(_ref) {\n  var children = _ref.children,\n      title = _ref.title,\n      schema = _ref.schema;\n\n  var _useState = useState(schema.collapsed || false),\n      _useState2 = _slicedToArray(_useState, 2),\n      collapsed = _useState2[0],\n      setCollapsed = _useState2[1];\n\n  var _useStore = useStore2(),\n      globalTheme = _useStore.theme,\n      globalDisplayType = _useStore.displayType;\n\n  var theme = schema.theme || globalTheme;\n  var displayType = schema.displayType || globalDisplayType;\n  useEffect(function () {\n    if (schema.hasOwnProperty('collapsed')) {\n      setCollapsed(schema.collapsed);\n    }\n  }, [schema.collapsed]);\n\n  if (!title) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100\"\n    }, children);\n  }\n\n  if (theme === 'tile') {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        fontSize: 17,\n        fontWeight: 500,\n        paddingBottom: 4,\n        borderBottom: '1px solid rgba( 0, 0, 0, .2 )',\n        marginBottom: 16\n      }\n    }, title, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"fr-desc ml2\"\n    }, (schema === null || schema === void 0 ? void 0 : schema.description) ? \"( \".concat(schema.description, \" )\") : '')), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginLeft: displayType == 'row' ? 0 : 12\n      }\n    }, children));\n  } // 新增卡片视图\n\n\n  if (theme === 'card') {\n    return /*#__PURE__*/React.createElement(_Card, {\n      id: title,\n      title: /*#__PURE__*/React.createElement(React.Fragment, null, title, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"fr-desc ml2\"\n      }, (schema === null || schema === void 0 ? void 0 : schema.description) ? \"( \".concat(schema.description, \" )\") : '')),\n      className: \"fr-theme-card-wrap\"\n    }, children);\n  }\n\n  var toggle = function toggle(keyList) {\n    if (keyList.length > 0) {\n      setCollapsed(false);\n    } else {\n      setCollapsed(true);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-100\"\n  }, /*#__PURE__*/React.createElement(_Collapse, {\n    activeKey: collapsed ? [] : ['1'],\n    onChange: toggle,\n    bordered: theme !== 'collapse:pure',\n    ghost: theme === 'collapse:ghost'\n  }, /*#__PURE__*/React.createElement(Panel, {\n    header: /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        fontSize: 16,\n        fontWeight: 500\n      }\n    }, title, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"fr-desc ml2\"\n    }, (schema === null || schema === void 0 ? void 0 : schema.description) ? \"( \".concat(schema.description, \" )\") : '')),\n    key: \"1\",\n    className: \"fr-collapse-object\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: cn({\n      'fr-collapse-object-child-row': displayType === 'row',\n      'fr-collapse-object-child-column': displayType === 'column'\n    })\n  }, children))));\n}","map":null,"metadata":{},"sourceType":"module"}