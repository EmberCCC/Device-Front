{"map":"{\"version\":3,\"sources\":[\"F:\\\\documents\\\\bl-device-manage-test\\\\src\\\\layouts\\\\LoginPage\\\\index.js\"],\"names\":[\"LoginPage\",\"inject\",\"withRouter\",\"observer\",\"handleSubmit\",\"values\",\"remember\",\"name\",\"setCookie\",\"clearCookie\",\"_this\",\"props\",\"HomeStore\",\"setLogin\",\"grant_type\",\"username\",\"password\",\"client_id\",\"client_secret\",\"result\",\"success\",\"token\",\"sessionStorage\",\"setItem\",\"history\",\"push\",\"pathname\",\"state\",\"selfToken\",\"react__WEBPACK_IMPORTED_MODULE_13___default\",\"a\",\"createElement\",\"className\",\"src\",\"alt\",\"style\",\"paddingTop\",\"paddingBottom\",\"color\",\"letterSpacing\",\"height\",\"width\",\"background\",\"marginTop\",\"antd_lib_form__WEBPACK_IMPORTED_MODULE_5___default\",\"onFinish\",\"this\",\"Item\",\"rules\",\"required\",\"message\",\"antd_lib_input__WEBPACK_IMPORTED_MODULE_7___default\",\"size\",\"prefix\",\"_ant_design_icons__WEBPACK_IMPORTED_MODULE_14__\",\"placeholder\",\"maxWidth\",\"_ant_design_icons__WEBPACK_IMPORTED_MODULE_15__\",\"type\",\"valuePropName\",\"antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_3___default\",\"antd_lib_button__WEBPACK_IMPORTED_MODULE_1___default\",\"htmlType\",\"React\",\"Component\"],\"mappings\":\"mVAmBMA,aAFLC,OAAAA,EAAAA,EAAAA,CAAO,aADPC,OAAAA,EAAAA,EAAAA,OAEAC,OAAAA,EAAAA,EAAAA,8MA8CCC,aAAe,SAAAC,GAEb,GAAIA,EAAOC,SACT,IAAK,IAAIC,KAAQF,EACfG,OAAAA,EAAAA,EAAAA,CAAUD,EAAMF,EAAOE,SAGzB,IAAK,IAAIA,KAAQF,EACfI,OAAAA,EAAAA,EAAAA,CAAYF,GAIhBG,EAAKC,MAAMC,UAAUC,SAAS,CAC5BC,WAAY,WACZC,SAAUV,EAAOU,SACjBC,SAAUX,EAAOW,SACjBC,UAAU,KACVC,cAAc,UACb,SAACC,GAAW,IAELC,EAAmBD,EAAnBC,QAASC,EAAUF,EAAVE,MAEbD,IAEFE,eAAeC,QAAQ,YAAa,UAAUF,GAC9CC,eAAeC,QAAQ,WAAYlB,EAAOU,UAC1CL,EAAKC,MAAMa,QAAQC,KAAK,CACtBC,SAAU,SACVC,MAAO,CAAEZ,SAAUV,EAAOU,SAAUC,SAAUX,EAAOW,SAAUY,UAAWP,iFAvEhF,OAAOQ,EAAAC,EAAAC,cAAA,MAAA,CAAKC,UAAU,mBACpBH,EAAAC,EAAAC,cAAA,MAAA,CAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,MAAA,CAAKC,UAAU,eACbH,EAAAC,EAAAC,cAAA,MAAA,CAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,MAAA,CAAKE,IAAI,yEAAyEC,IAAI,8BAExFL,EAAAC,EAAAC,cAAA,MAAA,KACEF,EAAAC,EAAAC,cAAA,MAAA,CAAKC,UAAU,cAAcG,MAAO,CAAEC,WAAY,GAAIC,cAAe,EAAGC,MAAO,UAAWC,cAAe,KAAzG,yCAEFV,EAAAC,EAAAC,cAAA,MAAA,CAAKI,MAAO,CAAEK,OAAQ,EAAGC,MAAO,GAAIC,WAAY,uBAAwBC,UAAW,MACnFd,EAAAC,EAAAC,cAAAa,EAAAd,EAAA,CAAMe,SAAUC,KAAK1C,aAAc4B,UAAU,cAC3CH,EAAAC,EAAAC,cAAAa,EAAAd,EAAMiB,KAAN,CAAWxC,KAAK,WAAWyC,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,iCAC5DrB,EAAAC,EAAAC,cAAAoB,EAAArB,EAAA,CACEsB,KAAK,QACLC,OAAQxB,EAAAC,EAAAC,cAACuB,EAAA,EAAD,MACRC,YAAY,qBACZpB,MAAO,CAAEqB,SAAU,QAGvB3B,EAAAC,EAAAC,cAAAa,EAAAd,EAAMiB,KAAN,CAAWxC,KAAK,WAAWyC,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,iCAC5DrB,EAAAC,EAAAC,cAAAoB,EAAArB,EAAA,CACEsB,KAAK,QACLC,OAAQxB,EAAAC,EAAAC,cAAC0B,EAAA,EAAD,MACRC,KAAK,WACLH,YAAY,eACZpB,MAAO,CAAEqB,SAAU,QAGvB3B,EAAAC,EAAAC,cAAAa,EAAAd,EAAMiB,KAAN,CAAWxC,KAAK,WAAWoD,cAAc,WACvC9B,EAAAC,EAAAC,cAAA6B,EAAA9B,EAAA,KAAA,uBAEFD,EAAAC,EAAAC,cAAAa,EAAAd,EAAMiB,KAAN,KACElB,EAAAC,EAAAC,cAAA,MAAA,CAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA8B,EAAA/B,EAAA,CAAQ4B,KAAK,UAAUvB,MAAO,CAAEqB,SAAU,KAAOM,SAAS,SAAS9B,UAAU,qBAA7E,6BAnCQ+B,EAAAA,EAAMC,wBA+EfhE,EAAAA,QAAAA\",\"sourcesContent\":[\"/*\\r\\n * @Author: your name\\r\\n * @Date: 2022-01-24 16:24:19\\r\\n * @LastEditTime: 2022-04-09 18:43:19\\r\\n * @LastEditors: Please set LastEditors\\r\\n * @Description: 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\\r\\n * @FilePath: \\\\bl-device-manage\\\\src\\\\layouts\\\\LoginPage\\\\index.js\\r\\n */\\r\\nimport React from 'react';\\r\\nimport { Input, Checkbox, Button, Form } from 'antd';\\r\\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\\r\\nimport { withRouter } from 'react-router-dom';\\r\\nimport { inject, observer } from 'mobx-react';\\r\\nimport { setCookie, getCookie, clearCookie } from 'utils/dataTools';\\r\\nimport './index.less';\\r\\n\\r\\n@withRouter\\r\\n@inject('HomeStore')\\r\\n@observer\\r\\nclass LoginPage extends React.Component {\\r\\n  render() {\\r\\n    return <div className='login_container'>\\r\\n      <div className='login_form'>\\r\\n        <div className='basic_login'>\\r\\n          <div className='login_logo'>\\r\\n            <img src='https://assets-boranet.oss-cn-hangzhou.aliyuncs.com/img/login_logo.png' alt='博拉科技' />\\r\\n          </div>\\r\\n          <div>\\r\\n            <div className='login_title' style={{ paddingTop: 27, paddingBottom: 5, color: '#161616', letterSpacing: 10 }}>设备协同管理</div>\\r\\n          </div>\\r\\n          <div style={{ height: 4, width: 80, background: 'rgba(98, 54, 255, 1)', marginTop: 17 }}></div>\\r\\n          <Form onFinish={this.handleSubmit} className=\\\"login-form\\\">\\r\\n            <Form.Item name='username' rules={[{ required: true, message: 'Please input your username!' }]}>\\r\\n              <Input\\r\\n                size=\\\"large\\\"\\r\\n                prefix={<UserOutlined />}\\r\\n                placeholder=\\\"用户名\\\"\\r\\n                style={{ maxWidth: 290 }}\\r\\n              />\\r\\n            </Form.Item>\\r\\n            <Form.Item name='password' rules={[{ required: true, message: 'Please input your password!' }]}>\\r\\n              <Input\\r\\n                size=\\\"large\\\"\\r\\n                prefix={<LockOutlined />}\\r\\n                type=\\\"password\\\"\\r\\n                placeholder=\\\"密码\\\"\\r\\n                style={{ maxWidth: 290 }}\\r\\n              />\\r\\n            </Form.Item>\\r\\n            <Form.Item name=\\\"remember\\\" valuePropName=\\\"checked\\\">\\r\\n              <Checkbox>记住我</Checkbox>\\r\\n            </Form.Item>\\r\\n            <Form.Item >\\r\\n              <div className='login-btn'>\\r\\n                <Button type=\\\"primary\\\" style={{ maxWidth: 290 }} htmlType=\\\"submit\\\" className=\\\"login-form-button\\\">\\r\\n                  登录\\r\\n                </Button>\\r\\n              </div>\\r\\n            </Form.Item>\\r\\n          </Form>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>;\\r\\n  }\\r\\n  handleSubmit = values => {\\r\\n    console.log(values);\\r\\n    if (values.remember) {\\r\\n      for (let name in values) {\\r\\n        setCookie(name, values[name]);\\r\\n      }\\r\\n    } else {\\r\\n      for (let name in values) {\\r\\n        clearCookie(name);\\r\\n      }\\r\\n    }\\r\\n    // 请求登陆接口\\r\\n    this.props.HomeStore.setLogin({\\r\\n      grant_type: 'password',\\r\\n      username: values.username,\\r\\n      password: values.password,\\r\\n      client_id:'pc',\\r\\n      client_secret:'secret',\\r\\n    }, (result) => {\\r\\n      console.log(result);\\r\\n      const { success, token } = result;\\r\\n      console.log(token);\\r\\n      if (success) {\\r\\n        console.log(token);\\r\\n        sessionStorage.setItem('selfToken', 'Bearer '+token); // 设置前局登陆token\\r\\n        sessionStorage.setItem('username', values.username); // 设置登录用户名\\r\\n        this.props.history.push({\\r\\n          pathname: '/basic',\\r\\n          state: { username: values.username, password: values.password, selfToken: token }\\r\\n        });\\r\\n      }\\r\\n    })\\r\\n  };\\r\\n}\\r\\nexport default LoginPage;\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{1585:function(e,a,t){},1595:function(e,a,t){\"use strict\";t.r(a);t(138);var n,r,s=t(90),l=t.n(s),o=(t(1073),t(183)),c=t.n(o),m=(t(1377),t(1378)),i=t.n(m),u=(t(1363),t(1366)),p=t.n(u),d=t(19),g=t(24),b=t(29),h=t(30),E=t(31),f=t(0),y=t.n(f),v=t(971),w=t(676),j=t(68),O=t(181),N=t(40),_=(t(1585),n=Object(O.b)(\"HomeStore\"),Object(j.g)(r=n(r=Object(O.c)(r=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(b.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){if(e.remember)for(var a in e)Object(N.e)(a,e[a]);else for(var n in e)Object(N.b)(n);t.props.HomeStore.setLogin({grant_type:\"password\",username:e.username,password:e.password,client_id:\"pc\",client_secret:\"secret\"},function(a){var n=a.success,r=a.token;n&&(sessionStorage.setItem(\"selfToken\",\"Bearer \"+r),sessionStorage.setItem(\"username\",e.username),t.props.history.push({pathname:\"/basic\",state:{username:e.username,password:e.password,selfToken:r}}))})},t}return Object(E.a)(a,e),Object(g.a)(a,[{key:\"render\",value:function(){return y.a.createElement(\"div\",{className:\"login_container\"},y.a.createElement(\"div\",{className:\"login_form\"},y.a.createElement(\"div\",{className:\"basic_login\"},y.a.createElement(\"div\",{className:\"login_logo\"},y.a.createElement(\"img\",{src:\"https://assets-boranet.oss-cn-hangzhou.aliyuncs.com/img/login_logo.png\",alt:\"\\u535a\\u62c9\\u79d1\\u6280\"})),y.a.createElement(\"div\",null,y.a.createElement(\"div\",{className:\"login_title\",style:{paddingTop:27,paddingBottom:5,color:\"#161616\",letterSpacing:10}},\"\\u8bbe\\u5907\\u534f\\u540c\\u7ba1\\u7406\")),y.a.createElement(\"div\",{style:{height:4,width:80,background:\"rgba(98, 54, 255, 1)\",marginTop:17}}),y.a.createElement(i.a,{onFinish:this.handleSubmit,className:\"login-form\"},y.a.createElement(i.a.Item,{name:\"username\",rules:[{required:!0,message:\"Please input your username!\"}]},y.a.createElement(p.a,{size:\"large\",prefix:y.a.createElement(v.a,null),placeholder:\"\\u7528\\u6237\\u540d\",style:{maxWidth:290}})),y.a.createElement(i.a.Item,{name:\"password\",rules:[{required:!0,message:\"Please input your password!\"}]},y.a.createElement(p.a,{size:\"large\",prefix:y.a.createElement(w.a,null),type:\"password\",placeholder:\"\\u5bc6\\u7801\",style:{maxWidth:290}})),y.a.createElement(i.a.Item,{name:\"remember\",valuePropName:\"checked\"},y.a.createElement(c.a,null,\"\\u8bb0\\u4f4f\\u6211\")),y.a.createElement(i.a.Item,null,y.a.createElement(\"div\",{className:\"login-btn\"},y.a.createElement(l.a,{type:\"primary\",style:{maxWidth:290},htmlType:\"submit\",className:\"login-form-button\"},\"\\u767b\\u5f55\")))))))}}]),a}(y.a.Component))||r)||r)||r);a.default=_}}]);","extractedComments":[]}